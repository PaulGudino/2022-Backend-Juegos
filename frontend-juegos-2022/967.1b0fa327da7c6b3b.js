"use strict";(self.webpackChunkFrontend_Juegos_2022=self.webpackChunkFrontend_Juegos_2022||[]).push([[967],{4967:(jr,ue,_)=>{_.r(ue),_.d(ue,{DashboardModule:()=>Gr});var Ce=_(3832),be=_(8602),p=_(6895),e=_(4650);let R=(()=>{class n{constructor(){this.top_publicity="",this.bottom_publicity="",this.publicityList=[]}loadData(t){this.publicityList=t}getTopPublicity(){return this.publicityList[0]}getBottomPublicity(){return this.publicityList[1]}getTopPublicityImage(){return this.top_publicity}getBottomPublicityImage(){return this.bottom_publicity}changeTopPublicityImage(t){this.top_publicity=t}changeBottomPublicityImage(t){this.bottom_publicity=t}getTopImageFile(){return this.topImageFile}getBottomImageFile(){return this.bottomImageFile}setTopImageFile(t){this.topImageFile=t}setBottomImageFile(t){this.bottomImageFile=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var N=_(529),P=_(9406);let G=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getPublicityList(){return this.http.get(this.url+"api/publicity/")}updatePublicity(){}put(t,i){return this.http.put(this.url+"api/publicity/"+t+"/",i).subscribe(r=>{console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.eN),e.LFG(P.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var h=_(4570),k=_(5412),C=_(4859);let Ze=(()=>{class n{constructor(t,i){this.data=t,this.mdDialogRef=i}ngOnInit(){}cancel(){this.close(!1)}close(t){this.mdDialogRef.close(t)}confirm(){this.close(!0)}onEsc(){this.close(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(k.WI),e.Y36(k.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-dialog"]],hostBindings:function(t,i){1&t&&e.NdJ("keydown.esc",function(){return i.onEsc()})},decls:12,vars:4,consts:[[1,"container_dialog"],[1,"header"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"dialog-message"],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"p",4),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return i.cancel()}),e._uU(9),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return i.confirm()}),e._uU(11),e.qZA()()()),2&t&&(e.xp6(3),e.Oqu(i.data.title),e.xp6(3),e.Oqu(i.data.message),e.xp6(3),e.Oqu(i.data.cancelText),e.xp6(2),e.Oqu(i.data.confirmText))},dependencies:[C.lW,k.uh,k.xY,k.H8],styles:["header[_ngcontent-%COMP%], .dialog-message[_ngcontent-%COMP%]{text-transform:lowercase}.header[_ngcontent-%COMP%]:first-letter, .dialog-message[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.container_dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:500px}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{background:#3f3f43;color:#fff}button[_ngcontent-%COMP%]:hover{background:#00ffc5;color:#002130}"]}),n})();var ve=_(5698),Te=_(4004),de=_(5659);let Z=(()=>{class n{constructor(t){this.dialog=t}open(t){this.dialogRef=this.dialog.open(Ze,{data:{title:t.title,message:t.message,cancelText:t.cancelText,confirmText:t.confirmText}})}confirmed(){return this.dialogRef.afterClosed().pipe((0,ve.q)(1),(0,Te.U)(t=>t))}error(t){let i=[];for(let a in t)i.push(t[a]);this.dialog.open(de.o,{data:i})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(k.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getDesignInformation(){return this.http.get(`${this.url}api/design/`)}updateDesgin(t,i){return this.http.put(this.url+"api/design/"+t+"/",i).subscribe(r=>{console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.eN),e.LFG(P.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V=(()=>{class n{constructor(){this.previewFontLetter="",this.style={id:1,game_id:1,color_text:"",font_letter:"",image_machine_game:"",image_background_game:"",image_logo_game:"",color_background_game:"",video_screensaver:"",video_autoplay:!0,video_loop:!0,title_button_screensaver:"",scan_code_title:"",scan_code_description:"",title_winner:"",description_winner:"",image_winner:"",date_created:new Date,date_modified:new Date,is_active:!0}}loadData(t){this.style=t}getTitleButtonScreensaver(){return this.style.title_button_screensaver}getLogoUrl(){return this.style.image_logo_game}getStyles(){return this.style}getImageBackgroundGameFile(){return this.imageBackgroundGameFile}setImageBackgroundGameFile(t){this.imageBackgroundGameFile=t}getImageWinnerGameFile(){return this.imageWinnerGameFile}setImageWinnerGameFile(t){this.imageWinnerGameFile=t}getImageLogoFile(){return this.imageLogoGameFile}setImageLogoFile(t){this.imageLogoGameFile=t}getVideoScreensaverFile(){return this.videoScreensaverFile}setVideoScreensaverFile(t){this.videoScreensaverFile=t}getImageMachineGameFile(){return this.imageMachineGameFile}setImageMchineGameFile(t){this.imageMachineGameFile=t}getPreviewFontLetter(){return this.previewFontLetter}setPreviewFontLetter(t){this.previewFontLetter=t}get_video_screensaver(){return this.style.video_screensaver}set_video_screensaver(t){this.style.video_screensaver=t}get_title_button_screensaver(){return this.style.title_button_screensaver}set_title_button_screensaver(t){this.style.title_button_screensaver=t}get_image_background_game(){return this.style.image_background_game}get_image_logo_game(){return this.style.image_logo_game}get_color_background_game(){return this.style.color_background_game}set_color_background_game(t){this.style.color_background_game=t}get_color_text(){return this.style.color_text}set_color_text(t){this.style.color_text=t}get_title_winner(){return this.style.title_winner}set_title_winner(t){this.style.title_winner=t}get_scan_code_title(){return this.style.scan_code_title}set_scan_code_title(t){this.style.scan_code_title=t}get_scan_code_description(){return this.style.scan_code_description}set_scan_code_description(t){this.style.scan_code_description=t}get_description_winner(){return this.style.description_winner}get_image_machine_game(){return this.style.image_machine_game}set_description_winner(t){this.style.description_winner=t}get_date_created(){return this.style.date_created}get_image_winner(){return this.style.image_winner}get_font_letter(){return this.style.font_letter}set_modified_date(t){this.style.date_modified=t}get_is_active(){return this.style.is_active}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ge(n,o,t,i,r,a,c){try{var m=n[a](c),d=m.value}catch(q){return void t(q)}m.done?o(d):Promise.resolve(d).then(i,r)}function T(n){return function(){var o=this,t=arguments;return new Promise(function(i,r){var a=n.apply(o,t);function c(d){ge(a,i,r,c,m,"next",d)}function m(d){ge(a,i,r,c,m,"throw",d)}c(void 0)})}}var _e=_(1481);let J=(()=>{class n{constructor(t){var i=this;this.sanitizer=t,this.extraerBase64=function(){var r=T(function*(a){return new Promise((c,m)=>{try{const d=window.URL.createObjectURL(a),q=i.sanitizer.bypassSecurityTrustUrl(d),O=new FileReader;return O.readAsDataURL(a),O.onload=()=>{c({base:O.result})},O.onerror=ie=>{c({base:null})},q}catch{return null}})});return function(a){return r.apply(this,arguments)}}()}captureFile(t){const i=t.target.files[0];let r=i.name;return"png"==r.split(".")[1]||"jpg"==r.split(".")[1]||"jpeg"==r.split(".")[1]||"gif"==r.split(".")[1]?i:null}captureVideoFile(t){const i=t.target.files[0];return"mp4"==i.name.split(".")[1]?i:null}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(_e.H7))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var f=_(3683);let Q=(()=>{class n{constructor(){this.title="",this.backgroundColor="#00ffc5"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-button-primary"]],inputs:{title:"title",backgroundColor:"backgroundColor"},decls:2,vars:3,consts:[[1,"btn-game__date"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e._uU(1),e.qZA()),2&t&&(e.Udp("background",i.backgroundColor),e.xp6(1),e.hij(" ",i.title,"\n"))},styles:[".btn-game__date[_ngcontent-%COMP%]{padding:.5rem 2rem;font-size:14px;width:8rem;outline:none;border:none;border-radius:6px}.btn-game__date[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})(),$=(()=>{class n{constructor(){this.title="Empezar",this.fontSize="1.6rem",this.styledPadding="1rem 1.5rem",this.color="white",this.color_background="red"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-button-game"]],inputs:{title:"title",fontSize:"fontSize",styledPadding:"styledPadding",color:"color",color_background:"color_background"},decls:2,vars:9,consts:[[1,"generic-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e._uU(1),e.qZA()),2&t&&(e.Udp("font-size",i.fontSize)("padding",i.styledPadding)("color",i.color)("background",i.color_background),e.xp6(1),e.hij(" ",i.title,"\n"))},styles:[".generic-btn[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1.6rem;margin:0;text-align:center;border-radius:15px;outline:none;border:none}"]}),n})();const Ae=function(n,o,t){return{"home-logo__container":n,logo__container:o,"logo__container-background":t}};let ne=(()=>{class n{constructor(){this.height="15rem",this.isHome=!0,this.isBackground=!1,this.urlImage=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-logo"]],inputs:{height:"height",isHome:"isHome",isBackground:"isBackground",urlImage:"urlImage"},decls:2,vars:8,consts:[[1,"p-0","m-0",3,"ngClass"],["alt","home-logo",1,"p-0","m-0",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"figure",0),e._UZ(1,"img",1),e.qZA()),2&t&&(e.Udp("height",i.height),e.Q6J("ngClass",e.kEZ(4,Ae,i.isHome,!i.isHome,i.isBackground)),e.xp6(1),e.Q6J("src",i.urlImage,e.LSH))},dependencies:[p.mk],styles:[".home-logo__container[_ngcontent-%COMP%]{position:absolute;height:15rem;left:calc(50% - 263px);top:calc(0% + 20px);z-index:2}.logo__container[_ngcontent-%COMP%]{position:absolute;height:15rem;top:calc(0% + 20px);z-index:2}.logo__container-background[_ngcontent-%COMP%]{position:absolute;height:15rem;top:calc(0% + 20px);left:calc(50% - 210px);z-index:2}img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),n})();const oe=function(n,o){return{"top-publicity":n,"bottom-publicity":o}};function ye(n,o){if(1&n&&e._UZ(0,"img",3),2&n){const t=e.oxw();e.Q6J("src",t.dashboardPublicityService.getTopPublicityImage(),e.LSH)("ngClass",e.WLB(2,oe,t.isTop,!t.isTop))}}function xe(n,o){if(1&n&&e._UZ(0,"img",3),2&n){const t=e.oxw();e.Q6J("src",t.dashboardPublicityService.getBottomPublicityImage(),e.LSH)("ngClass",e.WLB(2,oe,t.isTop,!t.isTop))}}let B=(()=>{class n{constructor(t){this.dashboardPublicityService=t,this.isTop=!0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-banner-publicity"]],inputs:{isTop:"isTop"},decls:4,vars:6,consts:[[1,"container-fluid","publicity_container","p-0",3,"ngClass"],[1,"publicity_img-container"],["class","publicity_img","alt","publicity-img",3,"src","ngClass",4,"ngIf"],["alt","publicity-img",1,"publicity_img",3,"src","ngClass"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"figure",1),e.YNc(2,ye,1,5,"img",2),e.YNc(3,xe,1,5,"img",2),e.qZA()()),2&t&&(e.Q6J("ngClass",e.WLB(3,oe,i.isTop,!i.isTop)),e.xp6(2),e.Q6J("ngIf",i.isTop),e.xp6(1),e.Q6J("ngIf",!i.isTop))},dependencies:[p.mk,p.O5],styles:[".publicity_container[_ngcontent-%COMP%]{background-color:#0ff;width:100%;height:4rem}.publicity_img-container[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{padding:0;margin:0}.publicity_img-container[_ngcontent-%COMP%], .publicity_img[_ngcontent-%COMP%]{width:100%;height:100%}.top-publicity[_ngcontent-%COMP%]{border-top-left-radius:27px;border-top-right-radius:27px}.bottom-publicity[_ngcontent-%COMP%]{border-bottom-left-radius:27px;border-bottom-right-radius:27px}"]}),n})();const qe=["takeInput"],Ue=function(n){return{color:n}};let we=(()=>{class n{constructor(t,i,r,a,c,m,d){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=r,this.dialogService=a,this.theme=c,this.dashStyle=m,this.imageSrv=d,this.availableSpin="HAZ GANADO!!!",this.previsulizacion=""}ngOnInit(){this.publicity.getPublicityList().subscribe(t=>{console.log(t[0]),this.dashboardPublicityService.loadData(t),this.dashboardPublicityService.changeTopPublicityImage(t[0].image),this.dashboardPublicityService.changeBottomPublicityImage(t[1].image),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.previsulizacion=this.dashStyle.get_image_winner(),console.log(i[0])})})}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base,this.dashStyle.setImageWinnerGameFile(this.fileToUpload)})):(this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}updateWinner(){this.dialogService.open({title:"ACTUALIZAR RESULTADO",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR INFORMACION DE RESULTADO",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i&&this.fileToUpload){let r=new FormData;r.append("id","1"),r.append("image_winner",this.dashStyle.getImageWinnerGameFile(),this.dashStyle.getImageWinnerGameFile().name),r.append("date_modified",(new Date).toISOString()),r.append("game_id","1"),this.theme.updateDesgin(1,r),this.snackbar.mensaje("Informacion Escaner Actualizada exitosamente")}})}cancel(){this.previsulizacion=this.dashStyle.get_image_winner()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R),e.Y36(G),e.Y36(h.o),e.Y36(Z),e.Y36(H),e.Y36(V),e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-winner-design"]],viewQuery:function(t,i){if(1&t&&e.Gf(qe,5),2&t){let r;e.iGM(r=e.CRH())&&(i.InputVar=r.first)}},decls:43,vars:11,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"savescreen-info__container"],[1,"publicity__title","white-color"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#d4d4d4",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop"],[1,"view-menu"],["height","1.5rem",1,"logo-container",3,"isHome","isBackground","urlImage"],[1,"information-game-container"],[1,"info-game__text"],[1,"info-game__text",3,"ngStyle"],[1,"spinner__container"],[1,"award-box-container"],["alt","cajon-premios",1,"awards-box",3,"src"],[1,"awards-container"],[1,"awards-column"],[1,"award-image-container"],["src","../../../../../assets/img/logoejemplo.png","alt",""],[1,"award-box-container","congratulations-image"],["title","Girar","styledPadding",".5rem 1rem","fontSize","1rem",1,"menu-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"winner-design works!"),e.qZA(),e.TgZ(2,"mat-toolbar",0)(3,"span"),e._uU(4,"Resultado"),e.qZA(),e._UZ(5,"span",1),e.qZA(),e.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"p",5),e._uU(10,"Imagen Ganador:"),e.qZA(),e.TgZ(11,"div",6)(12,"input",7,8),e.NdJ("change",function(a){return i.capturarFile(a)}),e.qZA()(),e.TgZ(14,"div",9)(15,"app-button-primary",10),e.NdJ("click",function(){return i.updateWinner()}),e.qZA(),e.TgZ(16,"app-button-primary",11),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(17,"div",12)(18,"div",13),e._UZ(19,"app-banner-publicity",14),e.TgZ(20,"div",15),e._UZ(21,"app-logo",16),e.TgZ(22,"div",17)(23,"div",18)(24,"p",19),e._uU(25),e.qZA()()(),e.TgZ(26,"div",20)(27,"figure",21),e._UZ(28,"img",22),e.qZA(),e.TgZ(29,"div",23)(30,"div",24)(31,"figure",25),e._UZ(32,"img",26),e.qZA()(),e.TgZ(33,"div",24)(34,"figure",25),e._UZ(35,"img",26),e.qZA()(),e.TgZ(36,"div",24)(37,"figure",25),e._UZ(38,"img",26),e.qZA()()(),e.TgZ(39,"figure",27),e._UZ(40,"img",22),e.qZA()(),e._UZ(41,"app-button-game",28),e.qZA(),e._UZ(42,"app-banner-publicity",14),e.qZA()()()),2&t&&(e.xp6(19),e.Q6J("isTop",!0),e.xp6(2),e.Q6J("isHome",!1)("isBackground",!1)("urlImage",i.dashStyle.get_image_logo_game()),e.xp6(3),e.Q6J("ngStyle",e.VKq(9,Ue,i.dashStyle.get_color_text())),e.xp6(1),e.hij(" ",i.availableSpin," "),e.xp6(3),e.Q6J("src",i.dashStyle.get_image_machine_game(),e.LSH),e.xp6(12),e.Q6J("src",i.previsulizacion,e.LSH),e.xp6(2),e.Q6J("isTop",!1))},dependencies:[p.PC,f.Ye,Q,$,ne,B],styles:['.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:.5rem;padding-left:.5rem}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:15px;align-items:center;height:20rem}.logo-container[_ngcontent-%COMP%]{margin-right:3rem;height:2.5rem}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:14rem}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 23px);bottom:25px}.menu-container_scan-img-container[_ngcontent-%COMP%]{height:3rem;width:3rem}.menu__input[_ngcontent-%COMP%]{border:3px solid red;outline:none;border-radius:13px;background-color:#000;color:#fff;padding:.2rem .5rem}.menu__input[_ngcontent-%COMP%]::placeholder{color:#fff}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}img[_ngcontent-%COMP%]{width:100%;height:100%}figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png, jpg, jpeg)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.information-game-container[_ngcontent-%COMP%]{background-color:#ffaf00;width:100%;display:flex;justify-content:center;height:2rem;align-items:center}.spinner__container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;height:47%;width:100%;max-height:202px}.awards-container[_ngcontent-%COMP%]{position:absolute;top:46px;left:calc(50% - 118px);display:flex;justify-content:center;gap:1.5rem;z-index:4;overflow:hidden}.awards-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;height:6rem;animation-duration:4s;animation-name:slidevertical;animation-iteration-count:infinite}.award-image-container[_ngcontent-%COMP%]{height:3rem;width:4rem}.award-box-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-width:766px}.congratulations-image[_ngcontent-%COMP%]{position:absolute}']}),n})();var s=_(4006);let W=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAwardConditionFilter(t){return this.http.get(this.url+"api/awardconditionfilter/"+t)}getAward(){return this.http.get(this.url+"api/awardfilter/?is_active=true")}getAwardConditionbyId(t){return this.http.get(this.url+"api/awardcondition/"+t)}postAwardCondition(t){return this.http.post(this.url+"api/awardcondition/",t)}putAwardCondition(t,i){return this.http.put(this.url+"api/awardcondition/"+t+"/",i)}deleteAwardCondition(t){return this.http.delete(this.url+"api/awardcondition/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.eN),e.LFG(P.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAward(){return this.http.get(this.url+"api/awardlist/")}getAwardbyId(t){return this.http.get(this.url+"api/award/"+t)}getAwardbyIdVisualizer(t){return this.http.get(this.url+"api/awardlist/"+t)}postAward(t){return this.http.post(this.url+"api/award/",t)}putAward(t,i){return this.http.put(this.url+"api/award/"+t+"/",i)}deleteAward(t){return this.http.delete(this.url+"api/award/"+t)}getFilterAward(t){return this.http.get(this.url+"api/awardfilter/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.eN),e.LFG(P.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var g=_(1390),u=_(9549),b=_(7392),A=_(4385),y=_(3238),w=_(3546),re=_(9602),fe=_(2953);function Oe(n,o){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Pe(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let ke=(()=>{class n{constructor(t,i,r,a,c,m,d){this.fb=t,this.awardConditionSrv=i,this.awardSrv=r,this.snackbar=a,this.dialogService=c,this.router=m,this.activerouter=d,this.minDate=new Date,this.award_condition_id=Number(this.activerouter.snapshot.paramMap.get("id")),this.img_upload="assets/img/regalo.png",this.previsulizacion=this.img_upload,this.stock_actual=0,this.award_name="",this.startDate=new Date,this.endDate=new Date,this.beginDate=new Date,this.finishDate=new Date,this.award_condition=[],this.form=this.fb.group({startTime:["",s.kI.required],endTime:["",s.kI.required],award:["",s.kI.required]})}ngOnInit(){var t=this;return T(function*(){t.getAward(),yield t.getAwardConditionId(t.award_condition_id);let i=(new Date).getFullYear(),r=(new Date).getMonth(),a=(new Date).getDate();t.minDate=new Date(i,r,a)})()}cancel(){this.router.navigate(["/dashboard/premios/condicion"])}getAward(){this.awardConditionSrv.getAward().subscribe(t=>{this.award_condition=t})}getAwardConditionId(t){var i=this;return T(function*(){i.awardConditionSrv.getAwardConditionbyId(t).subscribe(r=>{i.imgAward(r.award);let a=r.start_date.split(" ")[1].split(":")[0],c=r.start_date.split(" ")[1].split(":")[1],m=r.end_date.split(" ")[1].split(":")[0],d=r.end_date.split(" ")[1].split(":")[1];i.form.controls.award.setValue(r.award.toString()),i.form.controls.startTime.setValue({hour:Number(a),minute:Number(c)}),i.form.controls.endTime.setValue({hour:Number(m),minute:Number(d)}),i.beginDate=new Date(r.start_date_nf),i.finishDate=new Date(r.end_date_nf)},r=>{i.dialogService.error(r.error)})})()}changetime(){var t=this;return T(function*(){let i=t.form.value.startTime.hour,r=t.form.value.startTime.minute,a=t.form.value.endTime.hour,c=t.form.value.endTime.minute,m=t.beginDate.toISOString().split("T")[0];const[d,q,O]=m.split("-");let ie=t.finishDate.toISOString().split("T")[0];const[le,me,pe]=ie.split("-");t.startDate=new Date(parseInt(d),parseInt(q)-1,parseInt(O),parseInt(i),parseInt(r)),t.endDate=new Date(parseInt(le),parseInt(me)-1,parseInt(pe),parseInt(a),parseInt(c))})()}editAwardCondition(){var t=this;return T(function*(){t.form.valid?(yield t.changetime(),t.dialogService.open({title:"CREAR PREMIO CONDICIONADO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO PREMIO CONDICIONADO?",cancelText:"CANCELAR",confirmText:"EDITAR"}),t.dialogService.confirmed().subscribe(r=>{if(r){let a=new FormData,c=1,m=localStorage.getItem("user_id");a.append("start_date",t.startDate.toISOString().split(".")[0]),a.append("end_date",t.endDate.toISOString().split(".")[0]),a.append("award",t.form.get("award")?.value),a.append("game",c.toString()),a.append("user_modify",m),t.awardConditionSrv.putAwardCondition(t.award_condition_id,a).subscribe(d=>{t.snackbar.mensaje("Premio Condicionado Actualizado Exitosamente"),t.router.navigate(["dashboard/premios/condicion"])},d=>{t.dialogService.error(d.error)})}})):t.snackbar.mensaje("Complete todos los campos")})()}imgAward(t){this.awardSrv.getAwardbyId(t).subscribe(i=>{this.previsulizacion=i.imagen,this.stock_actual=i.current_stock,this.award_name=i.name})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(W),e.Y36(S),e.Y36(h.o),e.Y36(Z),e.Y36(g.F0),e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-awards-condition"]],decls:48,vars:16,consts:[[1,"example-spacer"],[3,"formGroup"],[1,"condition_container"],[1,"container"],[1,"register_container"],[1,"form_container"],["formControlName","award","mat-select","",3,"disabled","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"img_container"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"date_container"],[1,"calendar"],[1,"input-date","green-primary"],[1,"calendar__card"],[1,"demo-inline-calendar-card","background-navy-primary","green-primary"],[1,"green-primary",3,"selected","startAt","minDate","selectedChange"],[1,"time_container"],["formControlName","startTime",1,"time",3,"meridian"],["formControlName","endTime",3,"meridian"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"form",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"mat-form-field")(10,"label"),e._uU(11,"Premios"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"label"),e._uU(14),e.qZA(),e.TgZ(15,"mat-select",6),e.NdJ("selectionChange",function(a){return i.imgAward(a.value)}),e.YNc(16,Oe,2,2,"mat-option",7),e.qZA(),e.TgZ(17,"mat-hint"),e._uU(18,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(19,Pe,2,0,"mat-error",8),e.qZA()(),e.TgZ(20,"div",9),e._UZ(21,"img",10),e.qZA()(),e.TgZ(22,"div",11)(23,"button",12),e.NdJ("click",function(){return i.cancel()}),e.TgZ(24,"mat-icon"),e._uU(25,"close"),e.qZA(),e._uU(26," Cancelar "),e.qZA(),e.TgZ(27,"button",13),e.NdJ("click",function(){return i.editAwardCondition()}),e.TgZ(28,"mat-icon"),e._uU(29,"done"),e.qZA(),e._uU(30," Guardar "),e.qZA()()(),e.TgZ(31,"div",14)(32,"div",15)(33,"p",16),e._uU(34,"Fecha Inicio"),e.qZA(),e.TgZ(35,"div",17)(36,"mat-card",18)(37,"mat-calendar",19),e.NdJ("selectedChange",function(a){return i.beginDate=a}),e.qZA()()(),e.TgZ(38,"div",20),e._UZ(39,"ngb-timepicker",21),e.qZA()(),e.TgZ(40,"div",15)(41,"p",16),e._uU(42,"Fecha Fin"),e.qZA(),e.TgZ(43,"div",17)(44,"mat-card",18)(45,"mat-calendar",19),e.NdJ("selectedChange",function(a){return i.finishDate=a}),e.qZA()()(),e.TgZ(46,"div",20),e._UZ(47,"ngb-timepicker",22),e.qZA()()()()()),2&t&&(e.xp6(2),e.hij("Editar Premio Condicionado : ",i.award_name," "),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(10),e.AsE("Hay ",i.stock_actual," del premio: ",i.award_name,""),e.xp6(1),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("ngForOf",i.award_condition),e.xp6(3),e.Q6J("ngIf",i.form.controls.award.hasError("required")),e.xp6(2),e.Q6J("src",i.previsulizacion,e.LSH),e.xp6(16),e.Q6J("selected",i.beginDate)("startAt",i.beginDate)("minDate",i.minDate),e.xp6(2),e.Q6J("meridian",!0),e.xp6(6),e.Q6J("selected",i.finishDate)("startAt",i.finishDate)("minDate",i.minDate),e.xp6(2),e.Q6J("meridian",!0))},dependencies:[p.sg,p.O5,s._Y,s.JJ,s.JL,s.sg,s.u,u.TO,u.KE,u.bx,b.Hw,C.lW,f.Ye,A.gD,y.ey,w.a8,re._H,fe.Pm],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.condition_container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row}.date_container[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:row;justify-content:space-around}.container[_ngcontent-%COMP%]{margin-top:20px;width:60%;display:flex;flex-direction:column}.register_container[_ngcontent-%COMP%]{margin-top:20px;width:100%;display:flex;flex-direction:row}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:45%}.input-date[_ngcontent-%COMP%]{margin-top:20px;padding:.5rem 1.5rem;border:1px solid var(--color-principal);border-radius:15px;text-align:center}.calendar__card[_ngcontent-%COMP%]{padding:0 1rem}.time_container[_ngcontent-%COMP%]{display:flex;justify-content:center}.time[_ngcontent-%COMP%]{color:var(--color-principal)}.mat-form-field[_ngcontent-%COMP%]{width:95%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#fff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.form_container[_ngcontent-%COMP%]{width:40%}.img_container[_ngcontent-%COMP%]{display:flex;width:60%;height:250px}.img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% auto auto;width:85%;height:100%;border-radius:10px;object-fit:fill}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:10% 15px 15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})(),Y=(()=>{class n{constructor(t){this.router=t}canActivate(t,i){return"1"==localStorage.getItem("rol_id")||(this.router.navigate(["/dashboard"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(g.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getPermisos(){return this.http.get(this.url+"api/permission/")}getPermisosbyName(t){return this.http.get(this.url+"api/permissionfilter/?search="+t)}getPermisosbyRol(t){return this.http.get(this.url+"api/rolpermissionfilter/?rol="+t)}postPermisosbyRol(t){return this.http.post(this.url+"api/rolpermission/",t)}deletePermissionRol(t){return this.http.delete(this.url+"api/rolpermission/"+t)}getPermisosbyRolandPermission(t,i){return this.http.get(this.url+"api/rolpermissionfilter/?rol="+t+"&permission="+i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.eN),e.LFG(P.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}postRoles(t){return this.http.post(this.url+"api/rol/",t)}getRolbyId(t){return this.http.get(this.url+"api/rol/"+t+"/")}putRol(t,i){return this.http.put(this.url+"api/rol/"+t+"/",i)}deleteRol(t){return this.http.delete(this.url+"api/rol/"+t+"/")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.eN),e.LFG(P.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Me(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",9)(2,"div",10)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",11)(6,"div",12)(7,"input",13),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.onCheckboxChange(r))}),e.qZA(),e._UZ(8,"div",14)(9,"div",15),e.qZA()()()()}if(2&n){const t=o.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(3),e.s9C("id",t.id),e.Q6J("value",t.id)}}let Ie=(()=>{class n{constructor(t,i,r,a,c,m,d){this.fb=t,this.permisoSrv=i,this.activerouter=r,this.router=a,this.roles_service=c,this.snackbar=m,this.dialogService=d,this.Lista_permisos=[],this.Permisos_eliminar=[],this.rol="",this.form=this.fb.group({ckeckArray:this.fb.array([])})}ngOnInit(){let t=Number(this.activerouter.snapshot.paramMap.get("id"));this.roles_service.getRolbyId(t).subscribe(i=>{this.rol=i.name}),this.cargarPermisos(),this.obtenerPermisosbyrol(t)}onCheckboxChange(t){const i=this.form.get("ckeckArray");if(t.target.checked)i.push(new s.NI(t.target.value));else{var r=0;i.controls.forEach(a=>{a.value!=t.target.value?r++:i.removeAt(r)})}}cargarPermisos(){this.permisoSrv.getPermisos().subscribe(t=>{this.Lista_permisos=t})}obtenerPermisosbyrol(t){this.permisoSrv.getPermisosbyRol(t).subscribe(i=>{const r=this.form.get("ckeckArray");for(let a=0;a<i.length;a++)this.cambiarcheckbox(i[a].permission.toString()),console.log("Permisos-roles",i[a].permission.toString()),r.push(new s.NI(i[a].permission.toString())),this.Permisos_eliminar.push(i[a].id.toString())},i=>{console.log("No se pudo obtener los permisos")})}cambiarcheckbox(t){const i=document.getElementById(t);null!=i&&(i.checked=!0)}regresarRoles(){this.router.navigate(["/dashboard/roles"])}guardarPermisos(){this.dialogService.open({title:"GUARDAR PERMISOS",message:"ESTA SEGURO QUE QUIERE CAMBIAR LOS PERMISOS DEL ROL?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(i=>{i&&this.guardarPermisosNuevos()})}eliminarPermisosViejos(){let t=this.Permisos_eliminar;if(t.length>0)for(let i=0;i<t.length;i++)this.permisoSrv.deletePermissionRol(Number(t[i])).subscribe(r=>{console.log(r)})}guardarPermisosNuevos(){this.eliminarPermisosViejos();let t=this.form.value.ckeckArray,i=Number(this.activerouter.snapshot.paramMap.get("id"));if(t.length>0){for(let r=0;r<t.length;r++){let a=Number(t[r]);this.permisoSrv.postPermisosbyRol({rol:i,permission:a}).subscribe(c=>{console.log("Permisos actualizados correctamente")})}this.snackbar.mensaje("Permisos actualizados correctamente"),this.router.navigate(["/dashboard/roles"])}else this.snackbar.mensaje("Este rol no tiene permisos"),this.router.navigate(["/dashboard/roles"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(j),e.Y36(g.gz),e.Y36(g.F0),e.Y36(X),e.Y36(h.o),e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-permisos-roles"]],decls:18,vars:3,consts:[[1,"example-spacer"],[1,"container_card"],[1,"container_permisos"],["novalidate","",3,"formGroup"],[1,"container"],[4,"ngFor","ngForOf"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"container_permiso"],[1,"permiso_nombre"],[1,"espaciado"],["id","button-3",1,"button","r"],["type","checkbox",1,"checkbox",3,"id","value","change"],[1,"knobs"],[1,"layer"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"div",2)(6,"form",3)(7,"div",4),e.YNc(8,Me,10,3,"div",5),e.qZA()()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return i.regresarRoles()}),e.TgZ(11,"mat-icon"),e._uU(12,"close"),e.qZA(),e._uU(13," Cancelar "),e.qZA(),e.TgZ(14,"button",8),e.NdJ("click",function(){return i.guardarPermisos()}),e.TgZ(15,"mat-icon"),e._uU(16,"done"),e.qZA(),e._uU(17," Guardar "),e.qZA()()()),2&t&&(e.xp6(2),e.hij("Rol: ",i.rol,""),e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("ngForOf",i.Lista_permisos))},dependencies:[p.sg,s._Y,s.JL,s.sg,b.Hw,C.lW,f.Ye],styles:['[_ngcontent-%COMP%]:root{--color-principal: #00ffc5;--color-fondo-principal: #000910;--color-fondo-secundario: #002130;--color-letras: #ffffff;--color-ventanas: #055970;--color-cafe:#3f3f43}.container[_ngcontent-%COMP%]{margin:25px;flex-flow:row wrap;display:flex}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:25%}.label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.espaciado[_ngcontent-%COMP%]{margin-bottom:30px}.container_vistas[_ngcontent-%COMP%]{margin:25px;text-align:center}h2[_ngcontent-%COMP%]{margin:30px 0}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe);color:var(--color-letras)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;flex-direction:column}.container_permiso[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.permiso_nombre[_ngcontent-%COMP%]{margin-bottom:30px;color:var(--color-letras)}.knobs[_ngcontent-%COMP%], .layer[_ngcontent-%COMP%]{position:absolute;inset:0}.button[_ngcontent-%COMP%]{position:relative;top:50%;width:100px;height:40px;margin:-20px auto 0;overflow:hidden}.button.r[_ngcontent-%COMP%], .button.r[_ngcontent-%COMP%]   .layer[_ngcontent-%COMP%]{border-radius:10px}.checkbox[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;padding:0;margin:0;opacity:0;cursor:pointer;z-index:3}.knobs[_ngcontent-%COMP%]{z-index:2}.layer[_ngcontent-%COMP%]{width:100%;background-color:var(--color-letras);transition:.3s ease all;z-index:1}#button-3[_ngcontent-%COMP%]   .knobs[_ngcontent-%COMP%]:before{content:"NO";position:absolute;top:4px;left:4px;width:30px;height:30px;color:#fff;font-size:15px;font-weight:700;text-align:center;line-height:1;padding:9px 4px;background-color:var(--color-cafe);border-radius:20%;transition:.3s ease all,left .3s cubic-bezier(.18,.89,.35,1.15)}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:active + .knobs[_ngcontent-%COMP%]:before{width:46px;border-radius:100px}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked:active + .knobs[_ngcontent-%COMP%]:before{margin-left:-26px}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked + .knobs[_ngcontent-%COMP%]:before{content:"SI";left:65px;background-color:var(--color-principal);color:var(--color-fondo-secundario)}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked ~ .layer[_ngcontent-%COMP%]{background-color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}']}),n})();var U=_(4144);function Ne(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Se(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ee(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let Fe=(()=>{class n{constructor(t,i,r,a,c,m){this.router=t,this.fb=i,this.rol=r,this.activerouter=a,this.snackbar=c,this.dialogService=m,this.editar_rol={id:0,name:"",description:"",is_active:!0},this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],is_active:["",s.kI.required]})}ngOnInit(){let t=this.activerouter.snapshot.paramMap.get("id");this.rol.getRolbyId(Number(t)).subscribe(i=>{this.editar_rol=i,this.form.controls.name.setValue(this.editar_rol.name),this.form.controls.description.setValue(this.editar_rol.description),this.form.controls.is_active.setValue(this.editar_rol.is_active.toString())})}regresarRoles(){this.router.navigate(["/dashboard/roles"])}editarRol(){let t=this.activerouter.snapshot.paramMap.get("id");if(this.form.valid){const i={title:"EDITAR ROLES",message:"\xbfEST\xc1 SEGURO QUE QUIERE EDITAR EL ROL "+this.form.get("name")?.value+"?",cancelText:"CANCELAR",confirmText:"EDITAR"};this.dialogService.open(i),this.dialogService.confirmed().subscribe(r=>{if(r){let a=new FormData;a.append("name",this.form.get("name")?.value),a.append("description",this.form.get("description")?.value),a.append("is_active",this.form.get("is_active")?.value),a.append("rol_request",localStorage.getItem("rol_id")||""),this.rol.putRol(Number(t),a).subscribe(c=>{this.snackbar.mensaje("Rol Actualizado Exitosamente"),this.router.navigate(["/dashboard/roles"])},c=>{this.dialogService.error(c.error)})}})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(s.qu),e.Y36(X),e.Y36(g.gz),e.Y36(h.o),e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles-editar"]],decls:42,vars:5,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"form",2)(6,"mat-form-field")(7,"label"),e._uU(8,"Nombre"),e.qZA(),e.TgZ(9,"div",3),e._UZ(10,"input",4),e.qZA(),e.TgZ(11,"mat-hint"),e._uU(12,"Nombre del Rol"),e.qZA(),e.YNc(13,Ne,2,0,"mat-error",5),e.qZA(),e.TgZ(14,"mat-form-field")(15,"label"),e._uU(16,"Descripci\xf3n"),e.qZA(),e.TgZ(17,"div",3),e._UZ(18,"input",6),e.qZA(),e.TgZ(19,"mat-hint"),e._uU(20,"Descripci\xf3n del Rol"),e.qZA(),e.YNc(21,Se,2,0,"mat-error",5),e.qZA(),e.TgZ(22,"mat-form-field")(23,"label"),e._uU(24,"Estado"),e.qZA(),e.TgZ(25,"mat-select",7)(26,"mat-option",8),e._uU(27,"Activo"),e.qZA(),e.TgZ(28,"mat-option",9),e._uU(29,"Inactivo"),e.qZA()(),e.TgZ(30,"mat-hint"),e._uU(31,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(32,Ee,2,0,"mat-error",5),e.qZA()(),e.TgZ(33,"div",10)(34,"button",11),e.NdJ("click",function(){return i.regresarRoles()}),e.TgZ(35,"mat-icon"),e._uU(36,"close"),e.qZA(),e._uU(37," Cancelar "),e.qZA(),e.TgZ(38,"button",12),e.NdJ("click",function(){return i.editarRol()}),e.TgZ(39,"mat-icon"),e._uU(40,"done"),e.qZA(),e._uU(41," Guardar "),e.qZA()()()),2&t&&(e.xp6(2),e.hij("Editar Rol: ",i.editar_rol.name,""),e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")))},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,u.TO,u.KE,u.bx,U.Nt,b.Hw,C.lW,f.Ye,A.gD,y.ey],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})(),D=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getMenu(){return this.http.get("/assets/data/menu.json")}getUsuarios(t){return this.http.get(this.url+"api/userfilter/"+t)}getUsuarioId(t){return this.http.get(this.url+"api/user/"+t)}getRolbyName(t){return this.http.get(this.url+"api/rolfilter/?name="+t)}postUsuarios(t){return this.http.post(this.url+"api/user/",t)}putUsuario(t,i){return this.http.put(this.url+"api/user/"+t+"/",i)}deleteUsuario(t){return this.http.delete(this.url+"api/user/"+t)}getRoles(){return this.http.get(this.url+"api/rol/")}getRolesFilter(t){return this.http.get(this.url+"api/rolfilter/"+t)}getfilteUsuariobyRol(t){return this.http.get(this.url+"api/userfilter/?rol="+t)}postCambiarContrase\u00f1a(t,i){return this.http.post(this.url+"api/user/"+t+"/change_password/",i)}postCambiarisActivate(t){return this.http.post(this.url+"api/user/"+t+"/activate_user/",null)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.eN),e.LFG(P.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ye(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function De(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Re(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Je(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Qe(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ge(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function je(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Le(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ze(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Be(n,o){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function He(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ve(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let $e=(()=>{class n{constructor(t,i,r,a,c,m){this.api=t,this.fb=i,this.router=r,this.activerouter=a,this.snackBar=c,this.dialogService=m,this.roles=[],this.id_rol=0,this.usuarioget={id:0,cedula:"",names:"",surnames:"",username:"",email:"",phone:"",password:"",sex:"",address:"",rol:"",is_active:!0,created:"",modified:"",last_session:""},this.form=this.fb.group({cedula:["",s.kI.required],username:["",s.kI.required],names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),phone:["",s.kI.required],sex:["",s.kI.required],address:["",s.kI.required],rol:["",s.kI.required],is_active:["",s.kI.required]})}ngOnInit(){let t=this.activerouter.snapshot.paramMap.get("id");this.cargarRoles(),this.api.getUsuarioId(Number(t)).subscribe(i=>{this.usuarioget=i,this.form.controls.cedula.setValue(this.usuarioget.cedula),this.form.controls.username.setValue(this.usuarioget.username),this.form.controls.names.setValue(this.usuarioget.names),this.form.controls.surnames.setValue(this.usuarioget.surnames),this.form.controls.email.setValue(this.usuarioget.email),this.form.controls.phone.setValue(this.usuarioget.phone),this.form.controls.sex.setValue(this.usuarioget.sex),this.form.controls.address.setValue(this.usuarioget.address),this.api.getRolbyName(this.usuarioget.rol).subscribe(r=>{this.form.controls.rol.setValue(r[0].id.toString())}),this.form.controls.is_active.setValue(this.usuarioget.is_active.toString())})}regresarUsuarios(){this.router.navigate(["/dashboard/usuarios"])}cargarRoles(){this.api.getRoles().subscribe(t=>{this.roles=t})}actualizarUsuario(){let t=this.activerouter.snapshot.paramMap.get("id");if(this.form.valid){const i={title:"EDITAR USUARIO",message:"\xbfEST\xc1 SEGURO QUE QUIERE ACTUALIZAR EL USUARIO "+this.form.get("names")?.value+" "+this.form.get("surnames")?.value+"?",cancelText:"CANCELAR",confirmText:"EDITAR"};this.dialogService.open(i),this.dialogService.confirmed().subscribe(r=>{if(r){let a=new FormData;a.append("cedula",this.form.get("cedula")?.value),a.append("username",this.form.get("username")?.value),a.append("names",this.form.get("names")?.value),a.append("surnames",this.form.get("surnames")?.value),a.append("email",this.form.get("email")?.value),a.append("phone",this.form.get("phone")?.value),a.append("sex",this.form.get("sex")?.value),a.append("address",this.form.get("address")?.value),a.append("rol",this.form.get("rol")?.value),a.append("is_active",this.form.get("is_active")?.value),a.append("rol_request",localStorage.getItem("rol_id")||""),this.api.putUsuario(Number(t),a).subscribe(c=>{this.snackBar.mensaje("Usuario Actualizado Exitosamente"),this.router.navigate(["/dashboard/usuarios"])},c=>{this.dialogService.error(c.error)})}})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D),e.Y36(s.qu),e.Y36(g.F0),e.Y36(g.gz),e.Y36(h.o),e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editar-usuarios"]],decls:104,vars:17,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["autocomplete","off","formControlName","username","type","text","matInput",""],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["formControlName","sex"],["value","F"],["value","M"],["autocomplete","off","formControlName","address","type","text","matInput",""],["formControlName","rol","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"form",2)(6,"mat-form-field")(7,"label"),e._uU(8,"C\xe9dula"),e.qZA(),e.TgZ(9,"div",3),e._UZ(10,"input",4,5),e.qZA(),e.TgZ(12,"mat-hint",6),e._uU(13),e.qZA(),e.YNc(14,Ye,2,0,"mat-error",7),e.qZA(),e.TgZ(15,"mat-form-field")(16,"label"),e._uU(17,"Username"),e.qZA(),e.TgZ(18,"div",3),e._UZ(19,"input",8),e.qZA(),e.TgZ(20,"mat-hint"),e._uU(21,"Nombre del usuario"),e.qZA(),e.YNc(22,De,2,0,"mat-error",7),e.qZA(),e.TgZ(23,"mat-form-field")(24,"label"),e._uU(25,"Nombres"),e.qZA(),e.TgZ(26,"div",3),e._UZ(27,"input",9),e.qZA(),e.TgZ(28,"mat-hint"),e._uU(29,"Nombre completo"),e.qZA(),e.YNc(30,Re,2,0,"mat-error",7),e.qZA(),e.TgZ(31,"mat-form-field")(32,"label"),e._uU(33,"Apellidos"),e.qZA(),e.TgZ(34,"div",3),e._UZ(35,"input",10),e.qZA(),e.TgZ(36,"mat-hint"),e._uU(37,"Apellido paterno y materno"),e.qZA(),e.YNc(38,Je,2,0,"mat-error",7),e.qZA(),e.TgZ(39,"mat-form-field")(40,"label"),e._uU(41,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(42,"div",3),e._UZ(43,"input",11),e.qZA(),e.TgZ(44,"mat-hint"),e._uU(45,"Correo electr\xf3nico"),e.qZA(),e.YNc(46,Qe,2,0,"mat-error",7),e.YNc(47,Ge,2,0,"mat-error",7),e.qZA(),e.TgZ(48,"mat-form-field")(49,"label"),e._uU(50,"Tel\xe9fono"),e.qZA(),e.TgZ(51,"div",3),e._UZ(52,"input",12,13),e.qZA(),e.TgZ(54,"mat-hint",6),e._uU(55),e.qZA(),e.YNc(56,je,2,0,"mat-error",7),e.qZA(),e.TgZ(57,"mat-form-field")(58,"label"),e._uU(59,"Sexo"),e.qZA(),e.TgZ(60,"mat-select",14)(61,"mat-option",15),e._uU(62,"Femenino"),e.qZA(),e.TgZ(63,"mat-option",16),e._uU(64,"Masculino"),e.qZA()(),e.TgZ(65,"mat-hint"),e._uU(66,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(67,Le,2,0,"mat-error",7),e.qZA(),e.TgZ(68,"mat-form-field")(69,"label"),e._uU(70,"Direcci\xf3n"),e.qZA(),e.TgZ(71,"div",3),e._UZ(72,"input",17),e.qZA(),e.TgZ(73,"mat-hint"),e._uU(74,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(75,ze,2,0,"mat-error",7),e.qZA(),e.TgZ(76,"mat-form-field")(77,"label"),e._uU(78,"Rol"),e.qZA(),e.TgZ(79,"mat-select",18),e.YNc(80,Be,2,2,"mat-option",19),e.qZA(),e.TgZ(81,"mat-hint"),e._uU(82,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(83,He,2,0,"mat-error",7),e.qZA(),e.TgZ(84,"mat-form-field")(85,"label"),e._uU(86,"Estado"),e.qZA(),e.TgZ(87,"mat-select",20)(88,"mat-option",21),e._uU(89,"Activo"),e.qZA(),e.TgZ(90,"mat-option",22),e._uU(91,"Inactivo"),e.qZA()(),e.TgZ(92,"mat-hint"),e._uU(93,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(94,Ve,2,0,"mat-error",7),e.qZA()(),e.TgZ(95,"div",23)(96,"button",24),e.NdJ("click",function(){return i.regresarUsuarios()}),e.TgZ(97,"mat-icon"),e._uU(98,"close"),e.qZA(),e._uU(99," Cancelar "),e.qZA(),e.TgZ(100,"button",25),e.NdJ("click",function(){return i.actualizarUsuario()}),e.TgZ(101,"mat-icon"),e._uU(102,"done"),e.qZA(),e._uU(103," Guardar "),e.qZA()()()),2&t){const r=e.MAs(11),a=e.MAs(53);e.xp6(2),e.AsE("Editar Usuario : ",i.usuarioget.names," ",i.usuarioget.surnames,""),e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.cedula.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.username.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("email")),e.xp6(8),e.hij(" ",a.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.phone.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.address.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.roles),e.xp6(3),e.Q6J("ngIf",i.form.controls.rol.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required"))}},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,u.TO,u.KE,u.bx,U.Nt,b.Hw,C.lW,f.Ye,A.gD,y.ey],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})(),We=(()=>{class n{constructor(t,i){this.api=t,this.router=i,this.usuarioget={id:0,cedula:"",names:"",surnames:"",username:"",email:"",phone:"",password:"",sex:"",address:"",rol:"",is_active:!0,created:"",modified:"",last_session:""}}ngOnInit(){this.obtenerUsuario()}obtenerUsuario(){const t=localStorage.getItem("user_id");t&&this.api.getUsuarioId(Number(t)).subscribe(i=>{this.usuarioget=i},i=>console.log(i))}cambiarContrasenia(){this.router.navigate(["/dashboard/cambiar-contrase\xf1a"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-inicio"]],decls:15,vars:2,consts:[[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"green-primary"],[1,"body","green-primary"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return i.cambiarContrasenia()}),e.TgZ(2,"div",2)(3,"div",3)(4,"mat-icon",4),e._uU(5,"password"),e.qZA()(),e.TgZ(6,"span"),e._uU(7,"Cambiar Contrase\xf1a"),e.qZA()()()(),e.TgZ(8,"div",5)(9,"h1"),e._uU(10,"Bienvenido"),e.qZA(),e.TgZ(11,"h1"),e._uU(12),e.qZA(),e.TgZ(13,"h1"),e._uU(14),e.qZA()()),2&t&&(e.xp6(12),e.Oqu(i.usuarioget.names),e.xp6(2),e.Oqu(i.usuarioget.surnames))},dependencies:[b.Hw,C.lW],styles:[".body[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;align-items:center;flex-direction:column}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px;margin-right:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}"]}),n})();var Xe=_(7887),Ke=_(1782),ae=_(3267),E=_(4633);function et(n,o){if(1&n&&(e.TgZ(0,"a",11)(1,"mat-icon",12),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&n){const t=o.$implicit;e.Q6J("routerLink",t.ruta),e.xp6(2),e.Oqu(t.icono),e.xp6(1),e.hij(" ",t.nombre,"")}}let tt=(()=>{class n{constructor(t,i,r,a){this.api=t,this.router=i,this.puente=r,this.auth=a,this.Titulo="Menu",this.Titulo2="App Juegos",this.menu=[]}ngOnInit(){this.cargarMenu()}cargarMenu(){this.api.getMenu().subscribe(t=>{if("1"!=localStorage.getItem("rol_id"))for(let i=0;i<t.length;i++)"Usuarios"!=t[i].nombre&&"Roles"!=t[i].nombre&&this.menu.push(t[i]);else this.menu=t})}logout(){let t;if(localStorage.getItem("token")){let i=new FormData;t=localStorage.getItem("refresh"),i.append("refresh",t),this.auth.Logout(i).subscribe(r=>{this.router.navigate(["/login"]),localStorage.clear(),Xe.s.accessToken=""},r=>console.log(r))}else this.router.navigate(["/login"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D),e.Y36(g.F0),e.Y36(P.Q),e.Y36(Ke.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-menu"]],decls:23,vars:3,consts:[[1,"example-container"],[1,"example-toolbar","background-black-primary","green-primary"],["mat-icon-button","",3,"click"],[1,"example-app-name"],[1,"example-spacer"],[1,"example-sidenav-container","background-black-primary"],[1,"background-navy-primary"],["snav",""],["class","menu","mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],[1,"Logout"],["mat-raised-button","",3,"click"],["mat-list-item","",1,"menu",3,"routerLink"],[1,"icono"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),e.NdJ("click",function(){e.CHM(r);const c=e.MAs(13);return e.KtG(c.toggle())}),e.TgZ(3,"mat-icon"),e._uU(4,"menu"),e.qZA()(),e.TgZ(5,"h1",3),e._uU(6),e.qZA(),e._UZ(7,"span",4),e.TgZ(8,"h1",3),e._uU(9),e.qZA(),e._UZ(10,"span",4),e.qZA(),e.TgZ(11,"mat-sidenav-container",5)(12,"mat-sidenav",6,7)(14,"mat-nav-list"),e.YNc(15,et,4,3,"a",8),e.qZA(),e.TgZ(16,"div",9)(17,"button",10),e.NdJ("click",function(){return i.logout()}),e.TgZ(18,"mat-icon"),e._uU(19,"logout"),e.qZA(),e._uU(20," CERRAR SESI\xd3N "),e.qZA()()(),e.TgZ(21,"mat-sidenav-content"),e._UZ(22,"router-outlet"),e.qZA()()()}2&t&&(e.xp6(6),e.Oqu(i.Titulo),e.xp6(3),e.Oqu(i.Titulo2),e.xp6(6),e.Q6J("ngForOf",i.menu))},dependencies:[p.sg,b.Hw,C.lW,f.Ye,ae.JX,ae.TM,ae.Rh,E.Hk,E.Tg,g.lC,g.yS],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;inset:0}.example-is-mobile[_ngcontent-%COMP%]   .example-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:2}h1.example-app-name[_ngcontent-%COMP%]{margin-left:8px}.example-sidenav-container[_ngcontent-%COMP%]{flex:1}.mat-sidenav[_ngcontent-%COMP%]{width:15%}.icono[_ngcontent-%COMP%]{margin-right:10px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.menu[_ngcontent-%COMP%]{color:#fff}.Logout[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;text-align:center;margin-left:25px}.Logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px;padding-bottom:15px}a[_ngcontent-%COMP%]:hover{color:var(--color-principal)}"]}),n})(),it=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"app-menu")},dependencies:[tt]}),n})();var l=_(7155),M=_(8739),x=_(6308),L=_(266);function nt(n,o){if(1&n&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ot(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1,"C\xe9dula"),e.qZA())}function rt(n,o){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.cedula)}}function at(n,o){1&n&&(e.TgZ(0,"th",34),e._uU(1," Nombres "),e.qZA())}function st(n,o){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.names)}}function ct(n,o){1&n&&(e.TgZ(0,"th",34),e._uU(1," Apellidos "),e.qZA())}function lt(n,o){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.surnames)}}function mt(n,o){1&n&&(e.TgZ(0,"th",34),e._uU(1," Correo Electr\xf3nico "),e.qZA())}function pt(n,o){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.email)}}function ut(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1," Tel\xe9fono M\xf3vil "),e.qZA())}function dt(n,o){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.phone)}}function gt(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1,"Sexo"),e.qZA())}function _t(n,o){1&n&&(e.TgZ(0,"div")(1,"mat-icon",0),e._uU(2,"male"),e.qZA()())}function ft(n,o){1&n&&(e.TgZ(0,"div")(1,"mat-icon",0),e._uU(2,"female"),e.qZA()())}function ht(n,o){if(1&n&&(e.TgZ(0,"td",33),e.YNc(1,_t,3,0,"div",35),e.YNc(2,ft,3,0,"ng-template",null,36,e.W1O),e.qZA()),2&n){const t=o.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf","M"==t.sex)("ngIfElse",i)}}function Ct(n,o){1&n&&(e.TgZ(0,"th",32),e._uU(1,"Rol"),e.qZA())}function bt(n,o){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.rol)}}function Zt(n,o){1&n&&e._UZ(0,"th",37)}function vt(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.visualizarUsuario(r.id))}),e.TgZ(2,"mat-icon",40),e._uU(3,"remove_red_eye"),e.qZA()(),e.TgZ(4,"button",41),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.editarUsuario(r.id))}),e.TgZ(5,"mat-icon",40),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"button",42),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.eliminarUsuario(r.id))}),e.TgZ(8,"mat-icon",0),e._uU(9,"delete"),e.qZA()()()}}function Tt(n,o){if(1&n&&(e.TgZ(0,"td",33),e.YNc(1,vt,10,0,"div",38),e.qZA()),2&n){const t=o.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",1!=t.id&&t.id!=i.user_id)}}function At(n,o){1&n&&e._UZ(0,"tr",43)}function yt(n,o){1&n&&e._UZ(0,"tr",44)}function xt(n,o){if(1&n&&(e.TgZ(0,"tr",45)(1,"td",46),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(18);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const qt=function(){return[5,10,25,100]};let Ut=(()=>{class n{constructor(t,i,r,a,c){this.api=t,this.router=i,this.dialog=r,this.snackbar=a,this.dialogService=c,this.Filters=[{id:"?rol=&is_active=true",name:"Usuarios Activos"},{id:"?rol=&is_active=false",name:"Usuarios Inactivos"},{id:"?ordering=-created",name:"Ultimos Usuarios Creados"},{id:"?ordering=created",name:"Primeros Usuarios Creados"}],this.filter_default="?ordering=-created",this.Titulo="Usuarios",this.displayedColumns=["cedula","names","surnames","email","phone","sex","rol","Acciones"],this.user_id=Number(localStorage.getItem("user_id"))}ngOnInit(){this.cargarUsuarios(this.filter_default)}cargarUsuarios(t){this.api.getUsuarios(t).subscribe(i=>{this.dataSource=new l.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}editarUsuario(t){this.router.navigate(["dashboard/usuarios/editar",t])}agregarUsuario(){this.router.navigate(["dashboard/usuarios/crear"])}visualizarUsuario(t){this.router.navigate(["dashboard/usuarios/visualizar",t])}eliminarUsuario(t){"1"==localStorage.getItem("rol_id")?(this.dialogService.open({title:"ELIMINAR USUARIO",message:"ESTA SEGURO QUE QUIERE ELIMINAR EL USUARIO?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(r=>{r&&this.api.deleteUsuario(t).subscribe(a=>{this.snackbar.mensaje("Usuario Eliminado Exitosamente"),this.cargarUsuarios(this.filter_default)},a=>{this.dialogService.error(a.error),this.cargarUsuarios(this.filter_default)})})):this.snackbar.mensaje("No tienes permiso para Eliminar Usuarios")}filter(t){this.cargarUsuarios(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D),e.Y36(g.F0),e.Y36(k.uw),e.Y36(h.o),e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-usuarios"]],viewQuery:function(t,i){if(1&t&&(e.Gf(M.NW,5),e.Gf(x.YE,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},decls:52,vars:7,consts:[[1,"green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","cedula"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","names"],["class","ancho_columna","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","surnames"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","sex"],["matColumnDef","rol"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"ancho_columna"],[4,"ngIf","ngIfElse"],["mujer",""],["mat-header-cell",""],[4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.agregarUsuario()}),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-icon",0),e._uU(9,"add"),e.qZA()(),e.TgZ(10,"span"),e._uU(11,"Agregar Usuario"),e.qZA()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"mat-select",8),e.NdJ("selectionChange",function(a){return i.filter(a.value)}),e.YNc(15,nt,2,2,"mat-option",9),e.qZA()(),e.TgZ(16,"div",10)(17,"input",11,12),e.NdJ("keyup",function(a){return i.aplicarFiltro(a)}),e.qZA(),e.TgZ(19,"mat-icon",0),e._uU(20," search "),e.qZA()()(),e.TgZ(21,"div",13)(22,"table",14),e.ynx(23,15),e.YNc(24,ot,2,0,"th",16),e.YNc(25,rt,2,1,"td",17),e.BQk(),e.ynx(26,18),e.YNc(27,at,2,0,"th",19),e.YNc(28,st,2,1,"td",17),e.BQk(),e.ynx(29,20),e.YNc(30,ct,2,0,"th",19),e.YNc(31,lt,2,1,"td",17),e.BQk(),e.ynx(32,21),e.YNc(33,mt,2,0,"th",19),e.YNc(34,pt,2,1,"td",17),e.BQk(),e.ynx(35,22),e.YNc(36,ut,2,0,"th",16),e.YNc(37,dt,2,1,"td",17),e.BQk(),e.ynx(38,23),e.YNc(39,gt,2,0,"th",16),e.YNc(40,ht,4,2,"td",17),e.BQk(),e.ynx(41,24),e.YNc(42,Ct,2,0,"th",16),e._UZ(43,"div"),e.YNc(44,bt,2,1,"td",17),e.BQk(),e.ynx(45,25),e.YNc(46,Zt,1,0,"th",26),e.YNc(47,Tt,2,1,"td",17),e.BQk(),e.YNc(48,At,1,0,"tr",27),e.YNc(49,yt,1,0,"tr",28),e.YNc(50,xt,3,1,"tr",29),e.qZA(),e._UZ(51,"mat-paginator",30),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(26),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,qt)))},dependencies:[p.sg,p.O5,U.Nt,b.Hw,C.lW,f.Ye,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,l.Ee,L.gM,M.NW,x.YE,x.nU,A.gD,y.ey],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.ancho_columna[_ngcontent-%COMP%]{width:17%}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function wt(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ot(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Pt(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function kt(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Mt(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function It(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function Nt(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function St(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Et(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ft(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Yt(n,o){if(1&n&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Dt(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let Rt=(()=>{class n{constructor(t,i,r,a,c){this.api=t,this.router=i,this.fb=r,this.snackBar=a,this.dialogService=c,this.roles=[],this.ocultar=!0,this.form=this.fb.group({cedula:["",s.kI.required],username:["",s.kI.required],names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),password:["",s.kI.required],phone:["",s.kI.required],sex:["",s.kI.required],address:["",s.kI.required],rol:["",s.kI.required]})}ngOnInit(){this.cargarRoles()}crearUsuario(){this.form.valid?(this.dialogService.open({title:"CREAR USUARIO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO USUARIO?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let r=new FormData;r.append("cedula",this.form.get("cedula")?.value),r.append("username",this.form.get("username")?.value),r.append("names",this.form.get("names")?.value),r.append("surnames",this.form.get("surnames")?.value),r.append("email",this.form.get("email")?.value),r.append("password",this.form.get("password")?.value),r.append("phone",this.form.get("phone")?.value),r.append("sex",this.form.get("sex")?.value),r.append("rol",this.form.get("rol")?.value),r.append("address",this.form.get("address")?.value),r.append("rol_request",localStorage.getItem("rol_id")||""),this.api.postUsuarios(r).subscribe({next:a=>{this.snackBar.mensaje("Usuario Creado Exitosamente"),this.regresarUsuarios()},error:a=>{this.dialogService.error(a.error)}})}})):this.snackBar.mensaje("Llene el formulario correctamente")}cargarRoles(){this.api.getRoles().subscribe(t=>{this.roles=t})}regresarUsuarios(){this.router.navigate(["/dashboard/usuarios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D),e.Y36(g.F0),e.Y36(s.qu),e.Y36(h.o),e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-crear-usuarios"]],decls:104,vars:17,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["autocomplete","off","formControlName","username","type","text","matInput",""],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["matInput","","onpaste","return false","autocomplete","off","minlength","8","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["formControlName","sex"],["value","F"],["value","M"],["autocomplete","off","formControlName","address","type","text","matInput",""],["formControlName","rol","mat-select",""],[3,"value",4,"ngFor","ngForOf"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Nuevo Usuario"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"form",2)(6,"mat-form-field")(7,"label"),e._uU(8,"C\xe9dula"),e.qZA(),e.TgZ(9,"div",3),e._UZ(10,"input",4,5),e.qZA(),e.TgZ(12,"mat-hint",6),e._uU(13),e.qZA(),e.YNc(14,wt,2,0,"mat-error",7),e.qZA(),e.TgZ(15,"mat-form-field")(16,"label"),e._uU(17,"Username"),e.qZA(),e.TgZ(18,"div",3),e._UZ(19,"input",8),e.qZA(),e.TgZ(20,"mat-hint"),e._uU(21,"Nombre del usuario"),e.qZA(),e.YNc(22,Ot,2,0,"mat-error",7),e.qZA(),e.TgZ(23,"mat-form-field")(24,"label"),e._uU(25,"Nombres"),e.qZA(),e.TgZ(26,"div",3),e._UZ(27,"input",9),e.qZA(),e.TgZ(28,"mat-hint"),e._uU(29,"Nombre completo"),e.qZA(),e.YNc(30,Pt,2,0,"mat-error",7),e.qZA(),e.TgZ(31,"mat-form-field")(32,"label"),e._uU(33,"Apellidos"),e.qZA(),e.TgZ(34,"div",3),e._UZ(35,"input",10),e.qZA(),e.TgZ(36,"mat-hint"),e._uU(37,"Apellido paterno y materno"),e.qZA(),e.YNc(38,kt,2,0,"mat-error",7),e.qZA(),e.TgZ(39,"mat-form-field")(40,"label"),e._uU(41,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(42,"div",3),e._UZ(43,"input",11),e.qZA(),e.TgZ(44,"mat-hint"),e._uU(45,"Correo electr\xf3nico"),e.qZA(),e.YNc(46,Mt,2,0,"mat-error",7),e.YNc(47,It,2,0,"mat-error",7),e.qZA(),e.TgZ(48,"mat-form-field")(49,"label"),e._uU(50,"Tel\xe9fono"),e.qZA(),e.TgZ(51,"div",3),e._UZ(52,"input",12,13),e.qZA(),e.TgZ(54,"mat-hint",6),e._uU(55),e.qZA(),e.YNc(56,Nt,2,0,"mat-error",7),e.qZA(),e.TgZ(57,"mat-form-field")(58,"label"),e._uU(59,"Contrase\xf1a"),e.qZA(),e.TgZ(60,"div",3),e._UZ(61,"input",14),e.TgZ(62,"button",15),e.NdJ("click",function(){return i.ocultar=!i.ocultar}),e.TgZ(63,"mat-icon"),e._uU(64),e.qZA()()(),e.TgZ(65,"mat-hint"),e._uU(66,"Minimo 8 caracteres"),e.qZA(),e.YNc(67,St,2,0,"mat-error",7),e.qZA(),e.TgZ(68,"mat-form-field")(69,"label"),e._uU(70,"Sexo"),e.qZA(),e.TgZ(71,"mat-select",16)(72,"mat-option",17),e._uU(73,"Femenino"),e.qZA(),e.TgZ(74,"mat-option",18),e._uU(75,"Masculino"),e.qZA()(),e.TgZ(76,"mat-hint"),e._uU(77,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(78,Et,2,0,"mat-error",7),e.qZA(),e.TgZ(79,"mat-form-field")(80,"label"),e._uU(81,"Direcci\xf3n"),e.qZA(),e.TgZ(82,"div",3),e._UZ(83,"input",19),e.qZA(),e.TgZ(84,"mat-hint"),e._uU(85,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(86,Ft,2,0,"mat-error",7),e.qZA(),e.TgZ(87,"mat-form-field")(88,"label"),e._uU(89,"Rol"),e.qZA(),e.TgZ(90,"mat-select",20),e.YNc(91,Yt,2,2,"mat-option",21),e.qZA(),e.TgZ(92,"mat-hint"),e._uU(93,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(94,Dt,2,0,"mat-error",7),e.qZA()(),e.TgZ(95,"div",22)(96,"button",23),e.NdJ("click",function(){return i.regresarUsuarios()}),e.TgZ(97,"mat-icon"),e._uU(98,"close"),e.qZA(),e._uU(99," Cancelar "),e.qZA(),e.TgZ(100,"button",24),e.NdJ("click",function(){return i.crearUsuario()}),e.TgZ(101,"mat-icon"),e._uU(102,"done"),e.qZA(),e._uU(103," Crear "),e.qZA()()()),2&t){const r=e.MAs(11),a=e.MAs(53);e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.cedula.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.username.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("email")),e.xp6(8),e.hij(" ",a.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.phone.hasError("required")),e.xp6(5),e.Q6J("type",i.ocultar?"password":"text"),e.xp6(3),e.Oqu(i.ocultar?"visibility_off":"visibility"),e.xp6(3),e.Q6J("ngIf",i.form.controls.password.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.address.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.roles),e.xp6(3),e.Q6J("ngIf",i.form.controls.rol.hasError("required"))}},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,u.TO,u.KE,u.bx,u.R9,U.Nt,b.Hw,C.lW,f.Ye,A.gD,y.ey],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();function Jt(n,o){1&n&&(e.TgZ(0,"div")(1,"mat-list-item"),e._uU(2,"Activo"),e.qZA()())}function Qt(n,o){1&n&&(e.TgZ(0,"mat-list-item"),e._uU(1,"Inactivo"),e.qZA())}let Gt=(()=>{class n{constructor(t,i,r){this.api=t,this.router=i,this.activerouter=r,this.usuarioget={id:0,cedula:"",names:"",surnames:"",username:"",email:"",phone:"",password:"",sex:"",address:"",rol:"",is_active:!0,created:"",modified:"",last_session:""}}ngOnInit(){let t=this.activerouter.snapshot.paramMap.get("id");this.api.getUsuarioId(Number(t)).subscribe(i=>{this.usuarioget=i})}regresarUsuarios(){this.router.navigate(["/dashboard/usuarios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D),e.Y36(g.F0),e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-visualizar-usuarios"]],decls:90,vars:13,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container"],[1,"datos"],[4,"ngIf","ngIfElse"],["inactivo",""],[1,"container_botones"],["mat-raised-button","",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Visualizar datos del Usuario"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"mat-card",2)(6,"div",3)(7,"div",4)(8,"mat-label"),e._uU(9,"C\xe9dula"),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"mat-list-item"),e._uU(12),e.qZA()(),e.TgZ(13,"div",4)(14,"mat-label"),e._uU(15,"Usuario"),e.qZA(),e._UZ(16,"br"),e.TgZ(17,"mat-list-item"),e._uU(18),e.qZA()()(),e.TgZ(19,"div",3)(20,"div",4)(21,"mat-label"),e._uU(22,"Nombres"),e.qZA(),e._UZ(23,"br"),e.TgZ(24,"mat-list-item"),e._uU(25),e.qZA()(),e.TgZ(26,"div",4)(27,"mat-label"),e._uU(28,"Apellidos"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"mat-list-item"),e._uU(31),e.qZA()()(),e.TgZ(32,"div",3)(33,"div",4)(34,"mat-label"),e._uU(35,"Email"),e.qZA(),e._UZ(36,"br"),e.TgZ(37,"mat-list-item"),e._uU(38),e.qZA()(),e.TgZ(39,"div",4)(40,"mat-label"),e._uU(41,"Tel\xe9fono"),e.qZA(),e._UZ(42,"br"),e.TgZ(43,"mat-list-item"),e._uU(44),e.qZA()()(),e.TgZ(45,"div",3)(46,"div",4)(47,"mat-label"),e._uU(48,"Sexo"),e.qZA(),e._UZ(49,"br"),e.TgZ(50,"mat-list-item"),e._uU(51),e.qZA()(),e.TgZ(52,"div",4)(53,"mat-label"),e._uU(54,"Direcci\xf3n"),e.qZA(),e._UZ(55,"br"),e.TgZ(56,"mat-list-item"),e._uU(57),e.qZA()()(),e.TgZ(58,"div",3)(59,"div",4)(60,"mat-label"),e._uU(61,"Rol"),e.qZA(),e._UZ(62,"br"),e.TgZ(63,"mat-list-item"),e._uU(64),e.qZA()(),e.TgZ(65,"div",4)(66,"mat-label"),e._uU(67,"Estado"),e.qZA(),e._UZ(68,"br"),e.YNc(69,Jt,3,0,"div",5),e.YNc(70,Qt,2,0,"ng-template",null,6,e.W1O),e.qZA()(),e.TgZ(72,"div",3)(73,"div",4)(74,"mat-label"),e._uU(75,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(76,"br"),e.TgZ(77,"mat-list-item"),e._uU(78),e.qZA()(),e.TgZ(79,"div",4)(80,"mat-label"),e._uU(81,"\xdaltima modificaci\xf3n"),e.qZA(),e._UZ(82,"br"),e.TgZ(83,"mat-list-item"),e._uU(84),e.qZA()()(),e.TgZ(85,"div",7)(86,"button",8),e.NdJ("click",function(){return i.regresarUsuarios()}),e.TgZ(87,"mat-icon"),e._uU(88,"close"),e.qZA(),e._uU(89," Salir "),e.qZA()()()()),2&t){const r=e.MAs(71);e.xp6(12),e.Oqu(i.usuarioget.cedula),e.xp6(6),e.Oqu(i.usuarioget.username),e.xp6(7),e.Oqu(i.usuarioget.names),e.xp6(6),e.Oqu(i.usuarioget.surnames),e.xp6(7),e.Oqu(i.usuarioget.email),e.xp6(6),e.Oqu(i.usuarioget.phone),e.xp6(7),e.Oqu(i.usuarioget.sex),e.xp6(6),e.Oqu(i.usuarioget.address),e.xp6(7),e.Oqu(i.usuarioget.rol),e.xp6(5),e.Q6J("ngIf",i.usuarioget.is_active)("ngIfElse",r),e.xp6(9),e.Oqu(i.usuarioget.created),e.xp6(6),e.Oqu(i.usuarioget.modified)}},dependencies:[p.O5,u.hX,b.Hw,C.lW,f.Ye,E.Tg,w.a8],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:20px;flex-direction:row}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 25px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.mat-list-item[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}button[_ngcontent-%COMP%]{margin-top:25px;background:var(--color-cafe);color:var(--color-letras)}button[_ngcontent-%COMP%]:hover{background:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})();function jt(n,o){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Lt(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1,"ID"),e.qZA())}function zt(n,o){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.id)}}function Bt(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Rol"),e.qZA())}function Ht(n,o){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function Vt(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Descripci\xf3n"),e.qZA())}function $t(n,o){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.description)}}function Wt(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1," Fecha de creaci\xf3n "),e.qZA())}function Xt(n,o){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.created)}}function Kt(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Estado"),e.qZA())}function ei(n,o){1&n&&(e.TgZ(0,"div")(1,"div",6),e._uU(2,"Activo"),e.qZA()())}function ti(n,o){1&n&&(e.TgZ(0,"div")(1,"div",6),e._uU(2,"Inactivo"),e.qZA()())}function ii(n,o){if(1&n&&(e.TgZ(0,"td",31),e.YNc(1,ei,3,0,"div",32),e.YNc(2,ti,3,0,"ng-template",null,33,e.W1O),e.qZA()),2&n){const t=o.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.is_active)("ngIfElse",i)}}function ni(n,o){1&n&&e._UZ(0,"th",34)}function oi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",36),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.permisosRol(r.id))}),e.TgZ(2,"mat-icon",37),e._uU(3,"key"),e.qZA()(),e.TgZ(4,"button",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.editarRol(r.id))}),e.TgZ(5,"mat-icon",37),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw();return e.KtG(a.eliminarRol(r.id))}),e.TgZ(8,"mat-icon",6),e._uU(9,"delete"),e.qZA()()()}}function ri(n,o){if(1&n&&(e.TgZ(0,"td",31),e.YNc(1,oi,10,0,"div",35),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",1!=t.id)}}function ai(n,o){1&n&&e._UZ(0,"tr",40)}function si(n,o){1&n&&e._UZ(0,"tr",41)}function ci(n,o){if(1&n&&(e.TgZ(0,"tr",42)(1,"td",43),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(18);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const li=function(){return[5,10,25,100]};let mi=(()=>{class n{constructor(t,i,r,a,c,m){this.api=t,this.router=i,this.dialog=r,this.snackbar=a,this.dialogService=c,this.rolSrv=m,this.Filters=[{id:"?is_active=true",name:"Roles Activos"},{id:"?is_active=false",name:"Roles Inactivos"},{id:"?ordering=-created",name:"Ultimos Roles Creados"},{id:"?ordering=created",name:"Primeros Roles Creados"}],this.filter_default="?ordering=-created",this.Titulo="Roles",this.displayedColumns=["id","name","description","created","is_active","Acciones"]}ngOnInit(){this.cargarRoles(this.filter_default)}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}cargarRoles(t){this.api.getRolesFilter(t).subscribe(i=>{this.dataSource=new l.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}editarRol(t){this.router.navigate(["dashboard/roles/editar",t])}agregarRol(){this.router.navigate(["dashboard/roles/crear"])}permisosRol(t){this.router.navigate(["dashboard/roles/permisos",t])}eliminarRol(t){"1"==localStorage.getItem("rol_id")?(this.dialogService.open({title:"ELIMINAR ROL",message:"ESTA SEGURO QUE QUIERE ELIMINAR EL ROL?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(r=>{r&&this.rolSrv.deleteRol(t).subscribe(a=>{this.snackbar.mensaje("Rol Eliminado Exitosamente"),this.cargarRoles(this.filter_default)},a=>{this.dialogService.error(a.error),this.cargarRoles(this.filter_default)})})):this.snackbar.mensaje("No tienes permiso para Eliminar Roles")}filter(t){this.cargarRoles(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D),e.Y36(g.F0),e.Y36(k.uw),e.Y36(h.o),e.Y36(Z),e.Y36(X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles"]],viewQuery:function(t,i){if(1&t&&(e.Gf(M.NW,5),e.Gf(x.YE,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},decls:45,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"green-primary"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","created"],["matColumnDef","is_active"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-cell",""],[4,"ngIf"],["mat-icon-button","","matTooltip","Permisos",1,"color_amarillo",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.agregarRol()}),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-icon",6),e._uU(9,"add"),e.qZA()(),e.TgZ(10,"span"),e._uU(11,"Agregar Rol"),e.qZA()()()(),e.TgZ(12,"div",7)(13,"div",8)(14,"mat-select",9),e.NdJ("selectionChange",function(a){return i.filter(a.value)}),e.YNc(15,jt,2,2,"mat-option",10),e.qZA()(),e.TgZ(16,"div",11)(17,"input",12,13),e.NdJ("keyup",function(a){return i.aplicarFiltro(a)}),e.qZA(),e.TgZ(19,"mat-icon",6),e._uU(20," search "),e.qZA()()(),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,Lt,2,0,"th",17),e.YNc(25,zt,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,Bt,2,0,"th",17),e.YNc(28,Ht,2,1,"td",18),e.BQk(),e.ynx(29,20),e.YNc(30,Vt,2,0,"th",17),e.YNc(31,$t,2,1,"td",18),e.BQk(),e.ynx(32,21),e.YNc(33,Wt,2,0,"th",17),e.YNc(34,Xt,2,1,"td",18),e.BQk(),e.ynx(35,22),e.YNc(36,Kt,2,0,"th",17),e.YNc(37,ii,4,2,"td",18),e.BQk(),e.ynx(38,23),e.YNc(39,ni,1,0,"th",24),e.YNc(40,ri,2,1,"td",18),e.BQk(),e.YNc(41,ai,1,0,"tr",25),e.YNc(42,si,1,0,"tr",26),e.YNc(43,ci,3,1,"tr",27),e.qZA(),e._UZ(44,"mat-paginator",28),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,li)))},dependencies:[p.sg,p.O5,U.Nt,b.Hw,C.lW,f.Ye,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,l.Ee,L.gM,M.NW,x.YE,x.nU,A.gD,y.ey],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.color_amarillo[_ngcontent-%COMP%]{color:#ffc107}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function pi(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ui(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function di(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let gi=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.fb=i,this.snackbar=r,this.dialogService=a,this.rolSrv=c,this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],is_active:["",s.kI.required]})}ngOnInit(){}regresarRoles(){this.router.navigate(["/dashboard/roles"])}crearRol(){this.form.valid?(this.dialogService.open({title:"CREAR ROLES",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO ROL?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let r=new FormData;r.append("name",this.form.get("name")?.value),r.append("description",this.form.get("description")?.value),r.append("is_active",this.form.get("is_active")?.value),r.append("rol_request",localStorage.getItem("rol_id")||""),this.rolSrv.postRoles(r).subscribe(a=>{this.snackbar.mensaje("Rol Creado Exitosamente"),this.regresarRoles()},a=>{this.dialogService.error(a.error)})}})):this.snackbar.mensaje("Llene el formulario correctamente")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(s.qu),e.Y36(h.o),e.Y36(Z),e.Y36(X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles-crear"]],decls:42,vars:4,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Nuevo Rol"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"form",2)(6,"mat-form-field")(7,"label"),e._uU(8,"Nombre"),e.qZA(),e.TgZ(9,"div",3),e._UZ(10,"input",4),e.qZA(),e.TgZ(11,"mat-hint"),e._uU(12,"Nombre del Rol"),e.qZA(),e.YNc(13,pi,2,0,"mat-error",5),e.qZA(),e.TgZ(14,"mat-form-field")(15,"label"),e._uU(16,"Descripci\xf3n"),e.qZA(),e.TgZ(17,"div",3),e._UZ(18,"input",6),e.qZA(),e.TgZ(19,"mat-hint"),e._uU(20,"Descripci\xf3n del Rol"),e.qZA(),e.YNc(21,ui,2,0,"mat-error",5),e.qZA(),e.TgZ(22,"mat-form-field")(23,"label"),e._uU(24,"Estado"),e.qZA(),e.TgZ(25,"mat-select",7)(26,"mat-option",8),e._uU(27,"Activo"),e.qZA(),e.TgZ(28,"mat-option",9),e._uU(29,"Inactivo"),e.qZA()(),e.TgZ(30,"mat-hint"),e._uU(31,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(32,di,2,0,"mat-error",5),e.qZA()(),e.TgZ(33,"div",10)(34,"button",11),e.NdJ("click",function(){return i.regresarRoles()}),e.TgZ(35,"mat-icon"),e._uU(36,"close"),e.qZA(),e._uU(37," Cancelar "),e.qZA(),e.TgZ(38,"button",12),e.NdJ("click",function(){return i.crearRol()}),e.TgZ(39,"mat-icon"),e._uU(40,"done"),e.qZA(),e._uU(41," Crear "),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")))},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,u.TO,u.KE,u.bx,U.Nt,b.Hw,C.lW,f.Ye,A.gD,y.ey],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();var _i=_(6805);function F(n,o){const t="object"==typeof o;return new Promise((i,r)=>{let c,a=!1;n.subscribe({next:m=>{c=m,a=!0},error:r,complete:()=>{a?i(c):t?i(o.defaultValue):r(new _i.K)}})})}let K=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAll(){return this.http.get(this.url+"api/ticket/")}getById(t){return this.http.get(this.url+"api/ticket/"+t)}post(t){return this.http.post(this.url+"api/ticket/",t)}put(t,i){return this.http.put(this.url+"api/ticket/"+t+"/",i)}delete(t){return this.http.delete(this.url+"api/ticket/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.eN),e.LFG(P.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fi(n,o){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function hi(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1," N\xfamero de factura "),e.qZA())}function Ci(n,o){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.invoice_number)}}function bi(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1,"C\xf3digo QR"),e.qZA())}function Zi(n,o){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.qr_code)}}function vi(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Estado"),e.qZA())}function Ti(n,o){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.state)}}function Ai(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Cliente"),e.qZA())}function yi(n,o){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.client)}}function xi(n,o){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Juego"),e.qZA())}function qi(n,o){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.game)}}function Ui(n,o){1&n&&e._UZ(0,"th",32)}function wi(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",31)(1,"div")(2,"button",33),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.view(a.id))}),e.TgZ(3,"mat-icon"),e._uU(4," remove_red_eye "),e.qZA()(),e.TgZ(5,"button",34),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.edit(a.id))}),e.TgZ(6,"mat-icon"),e._uU(7," edit "),e.qZA()(),e.TgZ(8,"button",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.delete(a.id))}),e.TgZ(9,"mat-icon"),e._uU(10," delete "),e.qZA()()()()}}function Oi(n,o){1&n&&e._UZ(0,"tr",36)}function Pi(n,o){1&n&&e._UZ(0,"tr",37)}function ki(n,o){if(1&n&&(e.TgZ(0,"tr",38)(1,"td",39),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(18);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const Mi=function(){return[5,10,25,100]};let Ii=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.ticketAPI=i,this.permissionsAPI=r,this.confirmDialog=a,this.snackBar=c,this.Filters=[{id:"?state=Disponible",name:"Tickets Activos"},{id:"?state=Reclamado",name:"Tickets Inactivos"},{id:"?ordering=-created",name:"Ultimos Tickets Creados"},{id:"?ordering=created",name:"Primeros Tickets Creados"}],this.filter_default="?state=Disponible",this.singularName="ticket",this.pluralName="tickets",this.actionName="eliminar",this.permissions=[],this.displayedColumns=["invoice_number","qr_code","state","client","game","actions"]}ngOnInit(){this.loadAll(this.filter_default)}loadAll(t){this.ticketAPI.getAll().subscribe(i=>{this.dataSource=new l.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLocaleLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}view(t){this.router.navigate(["/dashboard/"+this.pluralName+"/vizualizar/"+t])}edit(t){this.router.navigate(["/dashboard/"+this.pluralName+"/editar/"+t])}delete(t){var i=this;return T(function*(){yield i.canDelete(),i.permissions.length>0?(i.showDeleteDialog(),i.confirmDialog.confirmed().subscribe(r=>{r&&i.ticketAPI.delete(t).subscribe(a=>{i.snackBar.mensaje(i.singularName+" eliminado exitosamente"),i.loadAll(i.filter_default)})})):i.snackBar.mensaje("No tienes permiso para Eliminar "+i.singularName)})()}showDeleteDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere eliminar el "+this.singularName+" ?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t)}canDelete(){var t=this;return T(function*(){let i=Number(localStorage.getItem("rol_id"));const a=yield F(t.permissionsAPI.getPermisosbyRolandPermission(i,12));t.permissions=a})()}toCreation(){this.router.navigate(["dashboard/"+this.pluralName+"/crear"])}toList(){this.router.navigate(["dashboard/"+this.pluralName])}filter(t){this.loadAll(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(K),e.Y36(j),e.Y36(Z),e.Y36(h.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tickets"]],viewQuery:function(t,i){if(1&t&&(e.Gf(M.NW,5),e.Gf(x.YE,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},decls:45,vars:8,consts:[[1,"background-navy-primary","green-primary"],[1,"spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","invoice_number"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","qr_code"],["matColumnDef","state"],["matColumnDef","client"],["matColumnDef","game"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.toCreation()}),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-icon"),e._uU(9,"add"),e.qZA()(),e.TgZ(10,"span"),e._uU(11),e.qZA()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"mat-select",8),e.NdJ("selectionChange",function(a){return i.filter(a.value)}),e.YNc(15,fi,2,2,"mat-option",9),e.qZA()(),e.TgZ(16,"div",10)(17,"input",11,12),e.NdJ("keyup",function(a){return i.applyFilter(a)}),e.qZA(),e.TgZ(19,"mat-icon",13),e._uU(20," search "),e.qZA()()(),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,hi,2,0,"th",17),e.YNc(25,Ci,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,bi,2,0,"th",17),e.YNc(28,Zi,2,1,"td",18),e.BQk(),e.ynx(29,20),e.YNc(30,vi,2,0,"th",17),e.YNc(31,Ti,2,1,"td",18),e.BQk(),e.ynx(32,21),e.YNc(33,Ai,2,0,"th",17),e.YNc(34,yi,2,1,"td",18),e.BQk(),e.ynx(35,22),e.YNc(36,xi,2,0,"th",17),e.YNc(37,qi,2,1,"td",18),e.BQk(),e.ynx(38,23),e.YNc(39,Ui,1,0,"th",24),e.YNc(40,wi,11,0,"td",18),e.BQk(),e.YNc(41,Oi,1,0,"tr",25),e.YNc(42,Pi,1,0,"tr",26),e.YNc(43,ki,3,1,"tr",27),e.qZA(),e._UZ(44,"mat-paginator",28),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.singularName),e.xp6(9),e.hij("Agregar ",i.singularName,""),e.xp6(4),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(7,Mi)))},dependencies:[p.sg,U.Nt,b.Hw,C.lW,f.Ye,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,l.Ee,L.gM,M.NW,x.YE,x.nU,A.gD,y.ey],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})(),z=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAll(){return this.http.get(this.url+"api/client/")}getById(t){return this.http.get(this.url+"api/client/"+t)}post(t){return this.http.post(this.url+"api/client/",t)}put(t,i){return this.http.put(this.url+"api/client/"+t+"/",i)}delete(t){return this.http.delete(this.url+"api/client/"+t)}getFilter(t){return this.http.get(this.url+"api/clientfilter/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.eN),e.LFG(P.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ee=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAll(){return this.http.get(this.url+"api/game/")}put(t,i){return this.http.put(this.url+"api/game/"+t+"/",i)}putGame(t,i){return this.http.put(this.url+"api/game/"+t+"/",i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.eN),e.LFG(P.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ni(n,o){if(1&n&&e._UZ(0,"img",18),2&n){const t=e.oxw();e.s9C("src",t.qrCodePath,e.LSH)}}function Si(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Ei(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Fi(n,o){if(1&n&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.cedula+" "+t.names+" "+t.surnames," ")}}function Yi(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Di(n,o){if(1&n&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ri(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let Ji=(()=>{class n{constructor(t,i,r,a,c,m,d){this.router=t,this.formBuilder=i,this.snackBar=r,this.confirmDialog=a,this.ticketAPI=c,this.ClientAPI=m,this.GameAPI=d,this.singularName="ticket",this.pluralName="tickets",this.actionName="crear",this.allClients=[],this.allGames=[],this.invoiceNumber="",this.qrCodePath="",this.clientId="",this.formGroup=this.formBuilder.group({qr_code:[""],invoice_number:["",s.kI.required],state:["",s.kI.required],client:["",s.kI.required],game:["",s.kI.required]}),this.ClientAPI.getAll().subscribe(q=>{this.allClients=q}),this.GameAPI.getAll().subscribe(q=>{this.allGames=q})}toList(){this.router.navigate(["dashboard/"+this.pluralName])}create(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el nuevo "+this.singularName+"?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){this.confirmDialog.confirmed().subscribe(t=>{if(t){let i=this.fillForm();this.ticketAPI.post(i).subscribe({next:r=>{this.snackBar.mensaje(this.singularName+" Creado Exitosamente"),this.toList()},error:r=>{this.confirmDialog.error(r.error)}})}})}fillForm(){let t=localStorage.getItem("user_id"),i=new FormData;return i.append("invoice_number",this.formGroup.get("invoice_number")?.value),i.append("state",this.formGroup.get("state")?.value),i.append("client",this.formGroup.get("client")?.value),i.append("game",this.formGroup.get("game")?.value),i.append("user_register",t),i.append("user_modifier",t),i.append("qr_code",this.qrCodePath),i}ngOnInit(){}generateQRCode(){this.invoiceNumber=this.formGroup.get("invoice_number")?.value,this.clientId=this.formGroup.get("client")?.value,this.qrCodePath="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data="+this.invoiceNumber+"-"+this.clientId}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(s.qu),e.Y36(h.o),e.Y36(Z),e.Y36(K),e.Y36(z),e.Y36(ee))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-ticket"]],decls:53,vars:10,consts:[["mat-raised-button","",3,"click"],["alt","",3,"src",4,"ngIf"],[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","invoice_number","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["formControlName","state","mat-select",""],["value","Disponible"],["value","Reclamado"],["formControlName","client","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","game","mat-select",""],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],["alt","",3,"src"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Nuevo Ticket"),e.qZA()(),e.TgZ(3,"button",0),e.NdJ("click",function(){return i.generateQRCode()}),e._uU(4," Generar c\xf3digo QR\n"),e.qZA(),e.YNc(5,Ni,1,1,"img",1),e.TgZ(6,"div",2)(7,"form",3)(8,"mat-form-field")(9,"label"),e._uU(10,"N\xfamero de Factura"),e.qZA(),e.TgZ(11,"div",4),e._UZ(12,"input",5,6),e.qZA(),e.TgZ(14,"mat-hint",7),e._uU(15),e.qZA(),e.YNc(16,Si,2,0,"mat-error",8),e.qZA(),e.TgZ(17,"mat-form-field")(18,"label"),e._uU(19,"Estado"),e.qZA(),e.TgZ(20,"mat-select",9)(21,"mat-option",10),e._uU(22,"Disponible"),e.qZA(),e.TgZ(23,"mat-option",11),e._uU(24,"Reclamado"),e.qZA()(),e.TgZ(25,"mat-hint"),e._uU(26,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(27,Ei,2,0,"mat-error",8),e.qZA(),e.TgZ(28,"mat-form-field")(29,"label"),e._uU(30,"Cliente"),e.qZA(),e.TgZ(31,"mat-select",12),e.YNc(32,Fi,2,2,"mat-option",13),e.qZA(),e.TgZ(33,"mat-hint"),e._uU(34,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(35,Yi,2,0,"mat-error",8),e.qZA(),e.TgZ(36,"mat-form-field")(37,"label"),e._uU(38,"Juego"),e.qZA(),e.TgZ(39,"mat-select",14),e.YNc(40,Di,2,2,"mat-option",13),e.qZA(),e.TgZ(41,"mat-hint"),e._uU(42,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(43,Ri,2,0,"mat-error",8),e.qZA()(),e.TgZ(44,"div",15)(45,"button",16),e.NdJ("click",function(){return i.toList()}),e.TgZ(46,"mat-icon"),e._uU(47,"close"),e.qZA(),e._uU(48," Cancelar "),e.qZA(),e.TgZ(49,"button",17),e.NdJ("click",function(){return i.create()}),e.TgZ(50,"mat-icon"),e._uU(51,"done"),e.qZA(),e._uU(52),e.qZA()()()),2&t){const r=e.MAs(13);e.xp6(5),e.Q6J("ngIf",i.invoiceNumber&&i.clientId),e.xp6(2),e.Q6J("formGroup",i.formGroup),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.invoice_number.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.state.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.allClients),e.xp6(3),e.Q6J("ngIf",i.formGroup.controls.client.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.allGames),e.xp6(3),e.Q6J("ngIf",i.formGroup.controls.game.hasError("required")),e.xp6(9),e.hij(" ",i.actionName," ")}},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,u.TO,u.KE,u.bx,U.Nt,b.Hw,C.lW,f.Ye,A.gD,y.ey],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}mat-hint[_ngcontent-%COMP%]{color:var(--color-principal)}mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})(),Qi=(()=>{class n{constructor(t,i,r){this.router=t,this.activedRoute=i,this.ticketAPI=r,this.singularName="ticket",this.pluralName="tickets",this.actionName="visualizar",this.ticket={id:"",invoice_number:"",qr_code:"",state:"",client:"",game:"",user_register:"",user_modifier:"",date_created:"",date_modified:""}}toList(){this.router.navigate(["dashboard/"+this.pluralName])}ngOnInit(){let t=this.activedRoute.snapshot.paramMap.get("id");this.ticketAPI.getById(Number(t)).subscribe(i=>{this.ticket=i})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-ticket"]],decls:47,vars:13,consts:[[1,"container_card"],[1,"card"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA()(),e.TgZ(3,"div",0)(4,"mat-card",1)(5,"mat-list")(6,"mat-label"),e._uU(7,"N\xfamero de Factura"),e.qZA(),e.TgZ(8,"mat-list-item"),e._uU(9),e.qZA(),e.TgZ(10,"mat-label"),e._uU(11,"C\xf3digo QR"),e.qZA(),e.TgZ(12,"mat-list-item"),e._uU(13),e.qZA(),e.TgZ(14,"mat-label"),e._uU(15,"Estado"),e.qZA(),e.TgZ(16,"mat-list-item"),e._uU(17),e.qZA(),e.TgZ(18,"mat-label"),e._uU(19,"Cliente"),e.qZA(),e.TgZ(20,"mat-list-item"),e._uU(21),e.qZA(),e.TgZ(22,"mat-label"),e._uU(23,"Juego"),e.qZA(),e.TgZ(24,"mat-list-item"),e._uU(25),e.qZA(),e.TgZ(26,"mat-label"),e._uU(27,"Fecha de registro"),e.qZA(),e.TgZ(28,"mat-list-item"),e._uU(29),e.qZA(),e.TgZ(30,"mat-label"),e._uU(31,"Usuario de registro"),e.qZA(),e.TgZ(32,"mat-list-item"),e._uU(33),e.qZA(),e.TgZ(34,"mat-label"),e._uU(35,"Fecha de \xfaltima modificaci\xf3n"),e.qZA(),e.TgZ(36,"mat-list-item"),e._uU(37),e.qZA(),e.TgZ(38,"mat-label"),e._uU(39,"Usuario responsable de la modificaci\xf3n"),e.qZA(),e.TgZ(40,"mat-list-item"),e._uU(41),e.qZA()(),e.TgZ(42,"div",2)(43,"button",3),e.NdJ("click",function(){return i.toList()}),e.TgZ(44,"mat-icon"),e._uU(45,"close"),e.qZA(),e._uU(46," Salir "),e.qZA()()()()),2&t&&(e.xp6(2),e.HOy(" ",i.actionName," ",i.singularName," ",i.ticket.id," ",i.ticket.invoice_number," "),e.xp6(7),e.Oqu(i.ticket.invoice_number),e.xp6(4),e.Oqu(i.ticket.qr_code),e.xp6(4),e.Oqu(i.ticket.state),e.xp6(4),e.Oqu(i.ticket.client),e.xp6(4),e.Oqu(i.ticket.game),e.xp6(4),e.Oqu(i.ticket.date_created),e.xp6(4),e.Oqu(i.ticket.user_register),e.xp6(4),e.Oqu(i.ticket.date_modified),e.xp6(4),e.Oqu(i.ticket.user_modifier))},dependencies:[u.hX,b.Hw,C.lW,f.Ye,E.i$,E.Tg,w.a8],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px}mat-label[_ngcontent-%COMP%]{font-size:17px;font-weight:700}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}"]}),n})();function Gi(n,o){if(1&n&&e._UZ(0,"img",18),2&n){const t=e.oxw();e.s9C("src",t.qrCodePath,e.LSH)}}function ji(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Li(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function zi(n,o){if(1&n&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.cedula+" "+t.names+" "+t.surnames," ")}}function Bi(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Hi(n,o){if(1&n&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Vi(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let $i=(()=>{class n{constructor(t,i,r,a,c,m,d,q){this.router=t,this.formBuilder=i,this.snackBar=r,this.confirmDialog=a,this.ticketAPI=c,this.activatedRoute=m,this.ClientAPI=d,this.GameAPI=q,this.singularName="Ticket",this.pluralName="Tickets",this.actionName="Editar",this.allClients=[],this.allGames=[],this.invoiceNumber="",this.qrCodePath="",this.clientId="",this.formGroup=this.formBuilder.group({qr_code:[""],invoice_number:["",s.kI.required],state:["",s.kI.required],client:["",s.kI.required],game:["",s.kI.required]}),this.ClientAPI.getAll().subscribe(O=>{this.allClients=O}),this.GameAPI.getAll().subscribe(O=>{this.allGames=O})}toList(){this.router.navigate(["dashboard/tickets"])}edit(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el "+this.singularName+" "+this.formGroup.get("names")?.value+" ?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){let t=this.activatedRoute.snapshot.paramMap.get("id");this.confirmDialog.confirmed().subscribe(i=>{if(i){this.generateQRCode();let r=this.fillForm();this.ticketAPI.put(Number(t),r).subscribe({next:a=>{this.snackBar.mensaje(this.singularName+" Actualizado Exitosamente"),this.toList()},error:a=>{this.confirmDialog.error(a.error)}})}})}fillForm(){let t=localStorage.getItem("user_id"),i=new FormData;return i.append("invoice_number",this.formGroup.get("invoice_number")?.value),i.append("state",this.formGroup.get("state")?.value),i.append("client",this.formGroup.get("client")?.value),i.append("game",this.formGroup.get("game")?.value),i.append("user_modifier",t),i.append("qr_code",this.qrCodePath),i}ngOnInit(){let t=this.activatedRoute.snapshot.paramMap.get("id");this.ticketAPI.getById(Number(t)).subscribe(i=>{this.currentTicket=i,this.getInfo()},i=>{})}getInfo(){this.formGroup.patchValue({qr_code:this.currentTicket.qr_code,invoice_number:this.currentTicket.invoice_number,state:this.currentTicket.state,client:this.currentTicket.client,game:this.currentTicket.game})}generateQRCode(){this.invoiceNumber=this.formGroup.get("invoice_number")?.value,this.clientId=this.formGroup.get("client")?.value,this.qrCodePath="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data="+this.invoiceNumber+"-"+this.clientId}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(s.qu),e.Y36(h.o),e.Y36(Z),e.Y36(K),e.Y36(g.gz),e.Y36(z),e.Y36(ee))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-ticket"]],decls:55,vars:15,consts:[["mat-raised-button","",3,"click"],["alt","",3,"src",4,"ngIf"],[1,"container"],[3,"formGroup"],["matInput","","autocomplete","off","formControlName","invoice_number","type","text","required","","placeholder","0900000000","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["formControlName","state","mat-select","","placeholder","Seleccione una opci\xf3n"],["value","Disponible"],["value","Reclamado"],["formControlName","client","mat-select","","placeholder","Seleccione una opci\xf3n"],["selected",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","game","mat-select","","placeholder","Seleccione una opci\xf3n"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],["alt","",3,"src"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA()(),e.TgZ(3,"button",0),e.NdJ("click",function(){return i.generateQRCode()}),e._uU(4," Generar c\xf3digo QR\n"),e.qZA(),e.YNc(5,Gi,1,1,"img",1),e.TgZ(6,"div",2)(7,"mat-card")(8,"form",3)(9,"mat-form-field")(10,"mat-label"),e._uU(11,"N\xfamero de Factura"),e.qZA(),e._UZ(12,"input",4,5),e.TgZ(14,"mat-hint",6),e._uU(15),e.qZA(),e.YNc(16,ji,2,0,"mat-error",7),e.qZA(),e.TgZ(17,"mat-form-field")(18,"mat-label"),e._uU(19,"Estado"),e.qZA(),e.TgZ(20,"mat-select",8)(21,"mat-option",9),e._uU(22,"Disponible"),e.qZA(),e.TgZ(23,"mat-option",10),e._uU(24,"Reclamado"),e.qZA()(),e.TgZ(25,"mat-hint"),e._uU(26,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(27,Li,2,0,"mat-error",7),e.qZA(),e.TgZ(28,"mat-form-field")(29,"mat-label"),e._uU(30,"Cliente"),e.qZA(),e.TgZ(31,"mat-select",11)(32,"mat-option",12),e._uU(33),e.qZA(),e.YNc(34,zi,2,2,"mat-option",13),e.qZA(),e.TgZ(35,"mat-hint"),e._uU(36,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(37,Bi,2,0,"mat-error",7),e.qZA(),e.TgZ(38,"mat-form-field")(39,"mat-label"),e._uU(40,"Juego"),e.qZA(),e.TgZ(41,"mat-select",14),e.YNc(42,Hi,2,2,"mat-option",13),e.qZA(),e.TgZ(43,"mat-hint"),e._uU(44,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(45,Vi,2,0,"mat-error",7),e.qZA()(),e.TgZ(46,"div",15)(47,"button",16),e.NdJ("click",function(){return i.toList()}),e.TgZ(48,"mat-icon"),e._uU(49,"close"),e.qZA(),e._uU(50," Cancelar "),e.qZA(),e.TgZ(51,"button",17),e.NdJ("click",function(){return i.edit()}),e.TgZ(52,"mat-icon"),e._uU(53,"done"),e.qZA(),e._uU(54),e.qZA()()()()),2&t){const r=e.MAs(13);e.xp6(2),e.HOy("",i.actionName," ",i.singularName," : ",i.currentTicket.id," ",i.currentTicket.invoice_number," "),e.xp6(3),e.Q6J("ngIf",i.invoiceNumber&&i.clientId),e.xp6(3),e.Q6J("formGroup",i.formGroup),e.xp6(7),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.invoice_number.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.state.hasError("required")),e.xp6(6),e.hij(" ",i.currentTicket.client.cedula+" "+i.currentTicket.client.names+" "+i.currentTicket.client.surnames," "),e.xp6(1),e.Q6J("ngForOf",i.allClients),e.xp6(3),e.Q6J("ngIf",i.formGroup.controls.client.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.allGames),e.xp6(3),e.Q6J("ngIf",i.formGroup.controls.game.hasError("required")),e.xp6(9),e.hij(" ",i.actionName," ")}},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,u.TO,u.KE,u.bx,u.hX,U.Nt,b.Hw,C.lW,f.Ye,A.gD,y.ey,w.a8],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}mat-hint[_ngcontent-%COMP%]{color:var(--color-principal)}mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();var te=_(782);function Wi(n,o){if(1&n&&(e.TgZ(0,"mat-grid-tile")(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),e._uU(4),e.qZA()(),e.TgZ(5,"mat-card-content")(6,"p"),e._uU(7),e.qZA(),e._uU(8),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"button",2),e._uU(12," Continuar "),e.qZA()()()()),2&n){const t=o.$implicit;e.xp6(4),e.hij(" ",t.name," "),e.xp6(3),e.hij(" Jugadores diarios : ",t.players," "),e.xp6(1),e.hij(" ",t.state," "),e.xp6(2),e.hij(" ",t.description," ")}}let Xi=(()=>{class n{constructor(t){this.GameAPI=t,this.singularName="Juego",this.pluralName="Juegos",this.actionName="Seleccionar",this.allGames=[],this.GameAPI.getAll().subscribe(i=>{this.allGames=i})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ee))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-selection"]],decls:5,vars:1,consts:[["cols","2","rowHeight","2:1"],[4,"ngFor","ngForOf"],["mat-button",""]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Seleccionar Juego"),e.qZA()(),e.TgZ(3,"mat-grid-list",0),e.YNc(4,Wi,13,4,"mat-grid-tile",1),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.allGames))},dependencies:[p.sg,C.lW,f.Ye,w.a8,w.dk,w.dn,w.n5,te.Il,te.DX]}),n})();const Ki=["takeInput"];let en=(()=>{class n{constructor(t,i,r){this.imageSrv=t,this.snackbar=i,this.dashboardPublicity=r,this.img_upload="assets/img/upload.png",this.previsulizacion=this.img_upload,this.title="",this.isTop=!0,this.cambioPrevisualizacion=new e.vpe}ngOnInit(){}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base,this.cambioPrevisualizacion.emit(this.previsulizacion),this.isTop?(this.dashboardPublicity.changeTopPublicityImage(this.previsulizacion),this.dashboardPublicity.setTopImageFile(this.imagen)):(this.dashboardPublicity.changeBottomPublicityImage(this.previsulizacion),this.dashboardPublicity.setBottomImageFile(this.imagen))})):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J),e.Y36(h.o),e.Y36(R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-publicity"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ki,5),2&t){let r;e.iGM(r=e.CRH())&&(i.InputVar=r.first)}},inputs:{title:"title",isTop:"isTop"},outputs:{cambioPrevisualizacion:"cambioPrevisualizacion"},decls:9,vars:1,consts:[[1,"color-white","publicity-container"],[1,"publicity__title","green-primary"],[1,"publicity-info__container"],[1,""],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"p",3),e._uU(5,"Imagen"),e.qZA(),e.TgZ(6,"div",4)(7,"input",5,6),e.NdJ("change",function(a){return i.capturarFile(a)}),e.qZA()()()()),2&t&&(e.xp6(2),e.Oqu(i.title))},styles:['.publicity-info__container[_ngcontent-%COMP%]{padding:0 .5rem}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png, jpg, jpeg)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}']}),n})(),tn=(()=>{class n{constructor(t,i,r,a){this.publicity=t,this.dashboardPublicityService=i,this.snackbar=r,this.dialogService=a}ngOnInit(){this.publicity.getPublicityList().subscribe(t=>{console.log(t[0]),this.dashboardPublicityService.loadData(t),this.dashboardPublicityService.changeTopPublicityImage(t[0].image),this.dashboardPublicityService.changeBottomPublicityImage(t[1].image)})}createPublicity(){}updatePublicity(){this.dialogService.open({title:"ACTUALIZAR PUBLICIDAD",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR LA PUBLICIDAD?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let r=new FormData;r.append("id","1"),r.append("image",this.dashboardPublicityService.getTopImageFile(),this.dashboardPublicityService.getTopImageFile().name),r.append("titulo","Publicidad Superior"),r.append("created",this.dashboardPublicityService.getTopPublicity().created),r.append("modified",(new Date).toISOString()),r.append("is_active","true");let a=new FormData;a.append("id","2"),a.append("image",this.dashboardPublicityService.getBottomImageFile(),this.dashboardPublicityService.getBottomImageFile().name),a.append("titulo","Publicidad Superior"),a.append("created",this.dashboardPublicityService.getBottomPublicity().created),a.append("modified",(new Date).toISOString()),a.append("is_active","true"),this.publicity.put(1,r),this.publicity.put(2,a),this.snackbar.mensaje("Publicidad Actualizada exitosamente")}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G),e.Y36(R),e.Y36(h.o),e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicity"]],decls:14,vars:4,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],["title","Publicidad Superior",3,"isTop"],["title","Publicidad Inferior",3,"isTop"],["title","Guardar",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop"],[1,"view-menu"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Publicidad"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"div",3),e._UZ(6,"app-add-publicity",4)(7,"app-add-publicity",5),e.TgZ(8,"app-button-primary",6),e.NdJ("click",function(){return i.updatePublicity()}),e.qZA()(),e.TgZ(9,"div",7)(10,"div",8),e._UZ(11,"app-banner-publicity",9)(12,"div",10)(13,"app-banner-publicity",9),e.qZA()()()),2&t&&(e.xp6(6),e.Q6J("isTop",!0),e.xp6(1),e.Q6J("isTop",!1),e.xp6(4),e.Q6J("isTop",!0),e.xp6(2),e.Q6J("isTop",!1))},dependencies:[f.Ye,Q,en,B],styles:[".publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:5rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{background-color:gray;height:20rem}"]}),n})();function nn(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function on(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function rn(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let an=(()=>{class n{constructor(t,i,r,a,c,m){this.api=t,this.router=i,this.fb=r,this.dialog=a,this.snackBar=c,this.dialogService=m,this.ocultar=!0,this.ocultar2=!0,this.ocultar3=!0,this.mensaje_error_lista=[],this.form=this.fb.group({old_password:["",s.kI.required],new_password:["",s.kI.required],confirm_password:["",s.kI.required]})}ngOnInit(){}regresarInicio(){this.router.navigate(["/dashboard"])}mensajes_errores(t){this.dialog.open(de.o,{width:"50%",data:t})}cambiarContrasenia(){if(this.form.valid){let t=Number(localStorage.getItem("user_id")),i=new FormData;i.append("old_password",this.form.get("old_password")?.value),i.append("new_password",this.form.get("new_password")?.value),i.append("confirm_password",this.form.get("confirm_password")?.value),this.dialogService.open({title:"CAMBIAR CONTRASE\xd1A",message:"ESTA SEGURO QUE QUIERE CAMBIAR SU CONTRASE\xd1A?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(a=>{this.api.postCambiarContrase\u00f1a(t,i).subscribe(c=>{this.snackBar.mensaje("Contrase\xf1a cambiada correctamente"),this.router.navigate(["/dashboard"])},c=>{for(let m in c.error)this.mensaje_error_lista.push(c.error[m]);this.mensajes_errores(this.mensaje_error_lista),this.mensaje_error_lista=[]})})}else this.snackBar.mensaje("Por favor, complete todos los campos")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D),e.Y36(g.F0),e.Y36(s.qu),e.Y36(k.uw),e.Y36(h.o),e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cambiar-contrasenia"]],decls:49,vars:12,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"ancho"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","old_password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["matInput","","minlength","8","autocomplete","off","formControlName","new_password",3,"type"],["input_new",""],["align","end"],["matInput","","minlength","8","autocomplete","off","formControlName","confirm_password",3,"type"],["input_new_confirm",""],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Cambiar Contrase\xf1a"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"mat-card")(6,"form",2)(7,"mat-form-field",3)(8,"label"),e._uU(9,"Contase\xf1a Actual"),e.qZA(),e.TgZ(10,"div",4),e._UZ(11,"input",5),e.TgZ(12,"button",6),e.NdJ("click",function(){return i.ocultar=!i.ocultar}),e.TgZ(13,"mat-icon"),e._uU(14),e.qZA()()(),e.YNc(15,nn,2,0,"mat-error",7),e.qZA(),e.TgZ(16,"mat-form-field",3)(17,"label"),e._uU(18,"Nueva Contase\xf1a"),e.qZA(),e.TgZ(19,"div",4),e._UZ(20,"input",8,9),e.TgZ(22,"button",6),e.NdJ("click",function(){return i.ocultar2=!i.ocultar2}),e.TgZ(23,"mat-icon"),e._uU(24),e.qZA()()(),e.TgZ(25,"mat-hint",10),e._uU(26),e.qZA(),e.YNc(27,on,2,0,"mat-error",7),e.qZA(),e.TgZ(28,"mat-form-field",3)(29,"label"),e._uU(30,"Confirmar Nueva Contase\xf1a"),e.qZA(),e.TgZ(31,"div",4),e._UZ(32,"input",11,12),e.TgZ(34,"button",6),e.NdJ("click",function(){return i.ocultar3=!i.ocultar3}),e.TgZ(35,"mat-icon"),e._uU(36),e.qZA()()(),e.TgZ(37,"mat-hint",10),e._uU(38),e.qZA(),e.YNc(39,rn,2,0,"mat-error",7),e.qZA()(),e.TgZ(40,"div",13)(41,"button",14),e.NdJ("click",function(){return i.regresarInicio()}),e.TgZ(42,"mat-icon"),e._uU(43,"close"),e.qZA(),e._uU(44," Cancelar "),e.qZA(),e.TgZ(45,"button",15),e.NdJ("click",function(){return i.cambiarContrasenia()}),e.TgZ(46,"mat-icon"),e._uU(47,"done"),e.qZA(),e._uU(48," Guardar "),e.qZA()()()()),2&t){const r=e.MAs(21),a=e.MAs(33);e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(5),e.Q6J("type",i.ocultar?"password":"text"),e.xp6(3),e.Oqu(i.ocultar?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",i.form.controls.old_password.hasError("required")),e.xp6(5),e.Q6J("type",i.ocultar2?"password":"text"),e.xp6(4),e.Oqu(i.ocultar2?"visibility_off":"visibility"),e.xp6(2),e.hij(" Minimo 8 caracteres ",r.value.length||0,"/8 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.new_password.hasError("required")),e.xp6(5),e.Q6J("type",i.ocultar3?"password":"text"),e.xp6(4),e.Oqu(i.ocultar3?"visibility_off":"visibility"),e.xp6(2),e.hij(" Minimo 8 caracteres ",a.value.length||0,"/8 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.confirm_password.hasError("required"))}},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.wO,s.sg,s.u,u.TO,u.KE,u.bx,u.R9,U.Nt,b.Hw,C.lW,f.Ye,w.a8],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}mat-card[_ngcontent-%COMP%]{background-color:var(--color-fondo-principal)}"]}),n})();function sn(n,o){if(1&n&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function cn(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1,"C\xe9dula"),e.qZA())}function ln(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.cedula)}}function mn(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Nombres"),e.qZA())}function pn(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.names)}}function un(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Apellidos"),e.qZA())}function dn(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.surnames)}}function gn(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1," Correo Electr\xf3nico "),e.qZA())}function _n(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.email)}}function fn(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Sexo"),e.qZA())}function hn(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.sex)}}function Cn(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Estado"),e.qZA())}function bn(n,o){if(1&n&&(e.TgZ(0,"td",32)(1,"div",13),e._uU(2),e.qZA()()),2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t.state)}}function Zn(n,o){1&n&&e._UZ(0,"th",33)}function vn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",32)(1,"div")(2,"button",34),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.view(a.id))}),e.TgZ(3,"mat-icon",35),e._uU(4," remove_red_eye "),e.qZA()(),e.TgZ(5,"button",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.edit(a.id))}),e.TgZ(6,"mat-icon",35),e._uU(7," edit "),e.qZA()(),e.TgZ(8,"button",37),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.delete(a.id))}),e.TgZ(9,"mat-icon",13),e._uU(10," delete "),e.qZA()()()()}}function Tn(n,o){1&n&&e._UZ(0,"tr",38)}function An(n,o){1&n&&e._UZ(0,"tr",39)}function yn(n,o){if(1&n&&(e.TgZ(0,"tr",40)(1,"td",41),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(18);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const xn=function(){return[5,10,25,100]};let qn=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.clientAPI=i,this.permissionAPI=r,this.confirmDialog=a,this.snackBar=c,this.Filters=[{id:"?state=Activo",name:"Clientes Activos"},{id:"?state=Inactivo",name:"Clientes Inactivos"},{id:"?ordering=-created",name:"Ultimos Clientes Creados"},{id:"?ordering=created",name:"Primeros Clientes Creados"}],this.filter_default="?ordering=-created",this.singularName="cliente",this.pluralName="clientes",this.actionName="eliminar",this.permissions=[],this.displayedColumns=["cedula","names","surnames","email","state","actions"]}ngOnInit(){this.loadAll(this.filter_default)}loadAll(t){this.clientAPI.getFilter(t).subscribe(i=>{this.dataSource=new l.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLocaleLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}view(t){this.router.navigate(["/dashboard/"+this.pluralName+"/vizualizar/"+t])}edit(t){this.router.navigate(["/dashboard/"+this.pluralName+"/editar/"+t])}delete(t){var i=this;return T(function*(){yield i.canDelete(),i.permissions.length>0?(i.showDeleteDialog(),i.confirmDialog.confirmed().subscribe(r=>{r&&i.clientAPI.delete(t).subscribe(a=>{i.snackBar.mensaje(i.singularName+" eliminado exitosamente"),i.loadAll(i.filter_default)})})):i.snackBar.mensaje("No tienes permiso para Eliminar "+i.singularName)})()}showDeleteDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el "+this.singularName+"?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t)}canDelete(){var t=this;return T(function*(){let i=Number(localStorage.getItem("rol_id")),r=yield F(t.permissionAPI.getPermisosbyName("Eliminar Cliente")),a=Number(r[0].id);const c=yield F(t.permissionAPI.getPermisosbyRolandPermission(i,a));t.permissions=c})()}toCreation(){this.router.navigate(["dashboard/"+this.pluralName+"/crear"])}toList(){this.router.navigate(["dashboard/"+this.pluralName])}filter(t){this.loadAll(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(z),e.Y36(j),e.Y36(Z),e.Y36(h.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-clients"]],viewQuery:function(t,i){if(1&t&&(e.Gf(M.NW,5),e.Gf(x.YE,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},decls:48,vars:8,consts:[[1,"background-navy-primary","green-primary"],[1,"spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","cedula"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","names"],["matColumnDef","surnames"],["matColumnDef","email"],["matColumnDef","sex"],["matColumnDef","state"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.toCreation()}),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-icon"),e._uU(9,"add"),e.qZA()(),e.TgZ(10,"span"),e._uU(11),e.qZA()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"mat-select",8),e.NdJ("selectionChange",function(a){return i.filter(a.value)}),e.YNc(15,sn,2,2,"mat-option",9),e.qZA()(),e.TgZ(16,"div",10)(17,"input",11,12),e.NdJ("keyup",function(a){return i.applyFilter(a)}),e.qZA(),e.TgZ(19,"mat-icon",13),e._uU(20," search "),e.qZA()()(),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,cn,2,0,"th",17),e.YNc(25,ln,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,mn,2,0,"th",17),e.YNc(28,pn,2,1,"td",18),e.BQk(),e.ynx(29,20),e.YNc(30,un,2,0,"th",17),e.YNc(31,dn,2,1,"td",18),e.BQk(),e.ynx(32,21),e.YNc(33,gn,2,0,"th",17),e.YNc(34,_n,2,1,"td",18),e.BQk(),e.ynx(35,22),e.YNc(36,fn,2,0,"th",17),e.YNc(37,hn,2,1,"td",18),e.BQk(),e.ynx(38,23),e.YNc(39,Cn,2,0,"th",17),e.YNc(40,bn,3,1,"td",18),e.BQk(),e.ynx(41,24),e.YNc(42,Zn,1,0,"th",25),e.YNc(43,vn,11,0,"td",18),e.BQk(),e.YNc(44,Tn,1,0,"tr",26),e.YNc(45,An,1,0,"tr",27),e.YNc(46,yn,3,1,"tr",28),e.qZA(),e._UZ(47,"mat-paginator",29),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.singularName),e.xp6(9),e.hij("Agregar ",i.singularName,""),e.xp6(4),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(7,xn)))},dependencies:[p.sg,U.Nt,b.Hw,C.lW,f.Ye,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,l.Ee,L.gM,M.NW,x.YE,x.nU,A.gD,y.ey],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function Un(n,o){if(1&n&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function wn(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1,"ID"),e.qZA())}function On(n,o){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.id)}}function Pn(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1,"Nombre"),e.qZA())}function kn(n,o){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.name)}}function Mn(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1,"Descripci\xf3n"),e.qZA())}function In(n,o){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.description)}}function Nn(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1,"Stock Incial"),e.qZA())}function Sn(n,o){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.initial_stock)}}function En(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1,"Stock Actual"),e.qZA())}function Fn(n,o){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.current_stock)}}function Yn(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1," Fecha de Creaci\xf3n "),e.qZA())}function Dn(n,o){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.created)}}function Rn(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1,"Juego"),e.qZA())}function Jn(n,o){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.game)}}function Qn(n,o){1&n&&(e.TgZ(0,"th",33),e._uU(1,"Estado"),e.qZA())}function Gn(n,o){1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2,"Activo"),e.qZA()())}function jn(n,o){1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2,"Inactivo"),e.qZA()())}function Ln(n,o){if(1&n&&(e.TgZ(0,"td",34),e.YNc(1,Gn,3,0,"div",35),e.YNc(2,jn,3,0,"ng-template",null,36,e.W1O),e.qZA()),2&n){const t=o.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.is_active)("ngIfElse",i)}}function zn(n,o){1&n&&e._UZ(0,"th",37)}function Bn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",34)(1,"div")(2,"button",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.verPremios(a.id))}),e.TgZ(3,"mat-icon",39),e._uU(4,"remove_red_eye"),e.qZA()(),e.TgZ(5,"button",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editarPremios(a.id))}),e.TgZ(6,"mat-icon",39),e._uU(7,"edit"),e.qZA()(),e.TgZ(8,"button",41),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.eliminarPremios(a.id))}),e.TgZ(9,"mat-icon",13),e._uU(10,"delete"),e.qZA()()()()}}function Hn(n,o){1&n&&e._UZ(0,"tr",42)}function Vn(n,o){1&n&&e._UZ(0,"tr",43)}function $n(n,o){if(1&n&&(e.TgZ(0,"tr",44)(1,"td",45),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(18);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const Wn=function(){return[5,10,25,100]};let Xn=(()=>{class n{constructor(t,i,r,a,c,m){this.router=t,this.dialog=i,this.snackbar=r,this.premiosSrv=a,this.dialogService=c,this.permisos_api=m,this.Filters=[{id:"?is_active=true",name:"Premios Activos"},{id:"?is_active=false",name:"Premios Inactivos"},{id:"?ordering=-created",name:"Ultimos Premios Creados"},{id:"?ordering=created",name:"Primeros Premios Creados"}],this.filter_default="?ordering=-created",this.Titulo="Premios",this.displayedColumns=["id","name","description","initial_stock","current_stock","created","juego","is_active","Acciones"],this.permisos=[]}ngOnInit(){this.cargarPremios(this.filter_default)}agregarPremios(){this.router.navigate(["/dashboard/premios/crear"])}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}cargarPremios(t){this.premiosSrv.getFilterAward(t).subscribe(i=>{this.dataSource=new l.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}verPremios(t){this.router.navigate(["/dashboard/premios/visualizar/"+t])}editarPremios(t){this.router.navigate(["/dashboard/premios/editar/"+t])}eliminarPremios(t){var i=this;return T(function*(){yield i.Permisoeliminar(),i.permisos.length>0?(i.dialogService.open({title:"ELIMINAR PREMIO",message:"ESTA SEGURO QUE QUIERE ELIMINAR EL PREMIO?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),i.dialogService.confirmed().subscribe(a=>{a&&i.premiosSrv.deleteAward(t).subscribe(c=>{i.snackbar.mensaje("Premio Eliminado Existosamente"),i.cargarPremios(i.filter_default)},c=>{i.dialogService.error(c.error),i.cargarPremios(i.filter_default)})})):i.snackbar.mensaje("No tienes permisos para Eliminar Premios")})()}Permisoeliminar(){var t=this;return T(function*(){let i=Number(localStorage.getItem("rol_id")),r=yield F(t.permisos_api.getPermisosbyName("Eliminar Premio")),a=Number(r[0].id);const c=yield F(t.permisos_api.getPermisosbyRolandPermission(i,a));t.permisos=c})()}filter(t){this.cargarPremios(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(k.uw),e.Y36(h.o),e.Y36(S),e.Y36(Z),e.Y36(j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-awards"]],viewQuery:function(t,i){if(1&t&&(e.Gf(M.NW,5),e.Gf(x.YE,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},decls:54,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","initial_stock"],["matColumnDef","current_stock"],["matColumnDef","created"],["matColumnDef","juego"],["matColumnDef","is_active"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.agregarPremios()}),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-icon"),e._uU(9,"add"),e.qZA()(),e.TgZ(10,"span"),e._uU(11,"Agregar Premio"),e.qZA()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"mat-select",8),e.NdJ("selectionChange",function(a){return i.filter(a.value)}),e.YNc(15,Un,2,2,"mat-option",9),e.qZA()(),e.TgZ(16,"div",10)(17,"input",11,12),e.NdJ("keyup",function(a){return i.aplicarFiltro(a)}),e.qZA(),e.TgZ(19,"mat-icon",13),e._uU(20," search "),e.qZA()()(),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,wn,2,0,"th",17),e.YNc(25,On,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,Pn,2,0,"th",17),e.YNc(28,kn,2,1,"td",18),e.BQk(),e.ynx(29,20),e.YNc(30,Mn,2,0,"th",17),e.YNc(31,In,2,1,"td",18),e.BQk(),e.ynx(32,21),e.YNc(33,Nn,2,0,"th",17),e.YNc(34,Sn,2,1,"td",18),e.BQk(),e.ynx(35,22),e.YNc(36,En,2,0,"th",17),e.YNc(37,Fn,2,1,"td",18),e.BQk(),e.ynx(38,23),e.YNc(39,Yn,2,0,"th",17),e.YNc(40,Dn,2,1,"td",18),e.BQk(),e.ynx(41,24),e.YNc(42,Rn,2,0,"th",17),e.YNc(43,Jn,2,1,"td",18),e.BQk(),e.ynx(44,25),e.YNc(45,Qn,2,0,"th",17),e.YNc(46,Ln,4,2,"td",18),e.BQk(),e.ynx(47,26),e.YNc(48,zn,1,0,"th",27),e.YNc(49,Bn,11,0,"td",18),e.BQk(),e.YNc(50,Hn,1,0,"tr",28),e.YNc(51,Vn,1,0,"tr",29),e.YNc(52,$n,3,1,"tr",30),e.qZA(),e._UZ(53,"mat-paginator",31),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,Wn)))},dependencies:[p.sg,p.O5,U.Nt,b.Hw,C.lW,f.Ye,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,l.Ee,L.gM,M.NW,x.YE,x.nU,A.gD,y.ey],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function Kn(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function eo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function to(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function io(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function no(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function oo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function ro(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function ao(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function so(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let co=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.formBuilder=i,this.snackBar=r,this.confirmDialog=a,this.api=c,this.singularName="cliente",this.pluralName="clientes",this.actionName="crear",this.formGroup=this.formBuilder.group({cedula:["",s.kI.required],names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),phone:["",s.kI.required],sex:["",s.kI.required],address:["",s.kI.required],state:["",s.kI.required]})}toList(){this.router.navigate(["dashboard/"+this.pluralName])}create(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el nuevo "+this.singularName+"?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){this.confirmDialog.confirmed().subscribe(t=>{if(t){let i=this.fillForm();this.api.post(i).subscribe({next:r=>{this.snackBar.mensaje(this.singularName+" creado exitosamente"),this.toList()},error:r=>{this.confirmDialog.error(r.error)}})}})}fillForm(){let t=localStorage.getItem("user_id"),i=new FormData;return i.append("cedula",this.formGroup.get("cedula")?.value),i.append("names",this.formGroup.get("names")?.value),i.append("surnames",this.formGroup.get("surnames")?.value),i.append("email",this.formGroup.get("email")?.value),i.append("phone",this.formGroup.get("phone")?.value),i.append("address",this.formGroup.get("address")?.value),i.append("sex",this.formGroup.get("sex")?.value),i.append("state",this.formGroup.get("state")?.value),i.append("user_client_register",t),i.append("user_client_modify",t),i}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(s.qu),e.Y36(h.o),e.Y36(Z),e.Y36(z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-client"]],decls:87,vars:13,consts:[[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["formControlName","sex","mat-select",""],["value","Femenino"],["value","Masculino"],["autocomplete","off","formControlName","address","type","text","matInput",""],["formControlName","state","mat-select",""],["value","Activo"],["value","Inactivo"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Nuevo Cliente"),e.qZA()(),e.TgZ(3,"div",0)(4,"form",1)(5,"mat-form-field")(6,"label"),e._uU(7,"C\xe9dula"),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"input",3,4),e.qZA(),e.TgZ(11,"mat-hint",5),e._uU(12),e.qZA(),e.YNc(13,Kn,2,0,"mat-error",6),e.qZA(),e.TgZ(14,"mat-form-field")(15,"label"),e._uU(16,"Nombres"),e.qZA(),e.TgZ(17,"div",2),e._UZ(18,"input",7),e.qZA(),e.TgZ(19,"mat-hint"),e._uU(20,"Nombre del Cliente"),e.qZA(),e.YNc(21,eo,2,0,"mat-error",6),e.qZA(),e.TgZ(22,"mat-form-field")(23,"label"),e._uU(24,"Apellidos"),e.qZA(),e.TgZ(25,"div",2),e._UZ(26,"input",8),e.qZA(),e.TgZ(27,"mat-hint"),e._uU(28,"Apellido paterno y materno"),e.qZA(),e.YNc(29,to,2,0,"mat-error",6),e.qZA(),e.TgZ(30,"mat-form-field")(31,"label"),e._uU(32,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(33,"div",2),e._UZ(34,"input",9),e.qZA(),e.TgZ(35,"mat-hint"),e._uU(36,"Correo electr\xf3nico"),e.qZA(),e.YNc(37,io,2,0,"mat-error",6),e.YNc(38,no,2,0,"mat-error",6),e.qZA(),e.TgZ(39,"mat-form-field")(40,"label"),e._uU(41,"Tel\xe9fono"),e.qZA(),e.TgZ(42,"div",2),e._UZ(43,"input",10,11),e.qZA(),e.TgZ(45,"mat-hint",5),e._uU(46),e.qZA(),e.YNc(47,oo,2,0,"mat-error",6),e.qZA(),e.TgZ(48,"mat-form-field")(49,"label"),e._uU(50,"Sexo"),e.qZA(),e.TgZ(51,"mat-select",12)(52,"mat-option",13),e._uU(53,"Femenino"),e.qZA(),e.TgZ(54,"mat-option",14),e._uU(55,"Masculino"),e.qZA()(),e.TgZ(56,"mat-hint"),e._uU(57,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(58,ro,2,0,"mat-error",6),e.qZA(),e.TgZ(59,"mat-form-field")(60,"label"),e._uU(61,"Direcci\xf3n"),e.qZA(),e.TgZ(62,"div",2),e._UZ(63,"input",15),e.qZA(),e.TgZ(64,"mat-hint"),e._uU(65,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(66,ao,2,0,"mat-error",6),e.qZA(),e.TgZ(67,"mat-form-field")(68,"label"),e._uU(69,"Estado"),e.qZA(),e.TgZ(70,"mat-select",16)(71,"mat-option",17),e._uU(72,"Activo"),e.qZA(),e.TgZ(73,"mat-option",18),e._uU(74,"Inactivo"),e.qZA()(),e.TgZ(75,"mat-hint"),e._uU(76,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(77,so,2,0,"mat-error",6),e.qZA()(),e.TgZ(78,"div",19)(79,"button",20),e.NdJ("click",function(){return i.toList()}),e.TgZ(80,"mat-icon"),e._uU(81,"close"),e.qZA(),e._uU(82," Cancelar "),e.qZA(),e.TgZ(83,"button",21),e.NdJ("click",function(){return i.create()}),e.TgZ(84,"mat-icon"),e._uU(85,"done"),e.qZA(),e._uU(86),e.qZA()()()),2&t){const r=e.MAs(10),a=e.MAs(44);e.xp6(4),e.Q6J("formGroup",i.formGroup),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.cedula.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.email.hasError("email")),e.xp6(8),e.hij(" ",a.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.address.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.state.hasError("required")),e.xp6(9),e.hij(" ",i.actionName," ")}},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,u.TO,u.KE,u.bx,U.Nt,b.Hw,C.lW,f.Ye,A.gD,y.ey],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();const lo=["takeInput"];function mo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function po(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function uo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function go(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function _o(n,o){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function fo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function ho(n,o){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Co(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let bo=(()=>{class n{constructor(t,i,r,a,c,m){this.router=t,this.fb=i,this.awardSrv=r,this.snackbar=a,this.dialogService=c,this.imageSrv=m,this.img_upload="assets/img/upload.png",this.previsulizacion=this.img_upload,this.Categorias=[{id:"L",name:"Legendaria"},{id:"E",name:"Epica"},{id:"R",name:"Rara"},{id:"C",name:"Com\xfan"}],this.Juegos=[{id:"1",name:"Tragamonedas"}],this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],initial_stock:["",s.kI.required],is_active:["",s.kI.required],category:["",s.kI.required],juego:["",s.kI.required]})}ngOnInit(){}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base}):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}deleteImage(){this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.fileToUpload=null}createAwards(){this.form.valid&&this.fileToUpload?(this.imagen=this.fileToUpload,this.dialogService.open({title:"CREAR PREMIO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO PREMIO?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let r=new FormData,a=localStorage.getItem("user_id");r.append("name",this.form.get("name")?.value),r.append("description",this.form.get("description")?.value),r.append("initial_stock",this.form.get("initial_stock")?.value),r.append("is_active",this.form.get("is_active")?.value),r.append("category",this.form.get("category")?.value),r.append("game",this.form.get("juego")?.value),r.append("imagen",this.imagen,this.imagen.name),r.append("user_register",a),r.append("user_modify",a),this.awardSrv.postAward(r).subscribe(c=>{this.snackbar.mensaje("Premio Creado Exitosamente"),this.router.navigate(["dashboard/premios"])},c=>{this.dialogService.error(c.error)})}})):this.snackbar.mensaje("Complete todos los campos")}backAwards(){this.router.navigate(["dashboard/premios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(s.qu),e.Y36(S),e.Y36(h.o),e.Y36(Z),e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-awards"]],viewQuery:function(t,i){if(1&t&&e.Gf(lo,5),2&t){let r;e.iGM(r=e.CRH())&&(i.InputVar=r.first)}},decls:79,vars:10,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["autocomplete","off","formControlName","initial_stock","onpaste","return false","type","number","onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],["formControlName","category","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","juego","mat-select",""],[1,"file_container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",3,"change"],["takeInput",""],["mat-icon-button","",1,"green-primary",3,"click"],[1,"container_img"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary","color","primary",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Nuevo Premio"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"mat-card",2)(6,"div",3)(7,"div")(8,"form",4)(9,"mat-form-field")(10,"label"),e._uU(11,"Nombre"),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"input",6),e.qZA(),e.TgZ(14,"mat-hint"),e._uU(15,"Nombre del Premio"),e.qZA(),e.YNc(16,mo,2,0,"mat-error",7),e.qZA(),e.TgZ(17,"mat-form-field")(18,"label"),e._uU(19,"Descripci\xf3n"),e.qZA(),e.TgZ(20,"div",5),e._UZ(21,"input",8),e.qZA(),e.TgZ(22,"mat-hint"),e._uU(23,"Descripci\xf3n del Premio"),e.qZA(),e.YNc(24,po,2,0,"mat-error",7),e.qZA(),e.TgZ(25,"mat-form-field")(26,"label"),e._uU(27,"Stock Inicial"),e.qZA(),e.TgZ(28,"div",5),e._UZ(29,"input",9),e.qZA(),e.TgZ(30,"mat-hint"),e._uU(31,"Stock Inicial del Premio"),e.qZA(),e.YNc(32,uo,2,0,"mat-error",7),e.qZA(),e.TgZ(33,"mat-form-field")(34,"label"),e._uU(35,"Estado"),e.qZA(),e.TgZ(36,"mat-select",10)(37,"mat-option",11),e._uU(38,"Activo"),e.qZA(),e.TgZ(39,"mat-option",12),e._uU(40,"Inactivo"),e.qZA()(),e.TgZ(41,"mat-hint"),e._uU(42,"Estado del Premio"),e.qZA(),e.YNc(43,go,2,0,"mat-error",7),e.qZA(),e.TgZ(44,"mat-form-field")(45,"label"),e._uU(46,"Categotr\xeda"),e.qZA(),e.TgZ(47,"mat-select",13),e.YNc(48,_o,2,2,"mat-option",14),e.qZA(),e.TgZ(49,"mat-hint"),e._uU(50,"Categoria del Premio"),e.qZA(),e.YNc(51,fo,2,0,"mat-error",7),e.qZA(),e.TgZ(52,"mat-form-field")(53,"label"),e._uU(54,"Juego"),e.qZA(),e.TgZ(55,"mat-select",15),e.YNc(56,ho,2,2,"mat-option",14),e.qZA(),e.TgZ(57,"mat-hint"),e._uU(58,"Juego del Premio"),e.qZA(),e.YNc(59,Co,2,0,"mat-error",7),e.qZA()()(),e.TgZ(60,"div")(61,"div",16)(62,"div",17)(63,"input",18,19),e.NdJ("change",function(a){return i.capturarFile(a)}),e.qZA()(),e.TgZ(65,"button",20),e.NdJ("click",function(){return i.deleteImage()}),e.TgZ(66,"mat-icon"),e._uU(67,"close"),e.qZA()()(),e.TgZ(68,"div",21),e._UZ(69,"img",22),e.qZA()()(),e.TgZ(70,"div",23)(71,"button",24),e.NdJ("click",function(){return i.backAwards()}),e.TgZ(72,"mat-icon"),e._uU(73,"close"),e.qZA(),e._uU(74," Cancelar "),e.qZA(),e.TgZ(75,"button",25),e.NdJ("click",function(){return i.createAwards()}),e.TgZ(76,"mat-icon"),e._uU(77,"done"),e.qZA(),e._uU(78," Crear "),e.qZA()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.initial_stock.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Categorias),e.xp6(3),e.Q6J("ngIf",i.form.controls.category.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Juegos),e.xp6(3),e.Q6J("ngIf",i.form.controls.juego.hasError("required")),e.xp6(10),e.Q6J("src",i.previsulizacion,e.LSH))},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,u.TO,u.KE,u.bx,U.Nt,b.Hw,C.lW,f.Ye,A.gD,y.ey,w.a8],styles:['mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_img[_ngcontent-%COMP%]{width:400px;height:250px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:300px;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:#fff;color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Selecciona una imagen (png, jpg, jpeg)"}.file_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}']}),n})();const Zo=["takeInput"];function vo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function To(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Ao(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function yo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function xo(n,o){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function qo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Uo(n,o){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function wo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let Oo=(()=>{class n{constructor(t,i,r,a,c,m,d,q,O){this.router=t,this.fb=i,this.dialog=r,this.sanitizer=a,this.awardSrv=c,this.snackbar=m,this.dialogService=d,this.activerouter=q,this.imageSrv=O,this.img_upload="assets/img/upload.png",this.previsulizacion=this.img_upload,this.Categorias=[{id:"L",name:"Legendaria"},{id:"E",name:"Epica"},{id:"R",name:"Rara"},{id:"C",name:"Com\xfan"}],this.Juegos=[{id:"1",name:"Tragamonedas"}],this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],initial_stock:["",s.kI.required],is_active:["",s.kI.required],category:["",s.kI.required],juego:["",s.kI.required]})}ngOnInit(){let t=this.activerouter.snapshot.paramMap.get("id");this.awardSrv.getAwardbyId(Number(t)).subscribe(i=>{this.getPremio=i,this.form.patchValue({name:this.getPremio.name,description:this.getPremio.description,initial_stock:this.getPremio.initial_stock,is_active:this.getPremio.is_active.toString(),category:this.getPremio.category,juego:this.getPremio.game.toString()}),this.previsulizacion=this.getPremio.imagen},i=>{console.log(i)})}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base}):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}deleteImage(){this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.fileToUpload=null}editAwards(){if(this.form.valid){let t=this.activerouter.snapshot.paramMap.get("id");const i={title:"EDITAR PREMIO",message:"\xbfEST\xc1 SEGURO QUE QUIERE EDITAR EL PREMIO "+this.form.get("name")?.value+"?",cancelText:"CANCELAR",confirmText:"EDITAR"};this.dialogService.open(i),this.dialogService.confirmed().subscribe(r=>{if(r){let a=new FormData,c=localStorage.getItem("user_id");a.append("name",this.form.get("name")?.value),a.append("description",this.form.get("description")?.value),a.append("initial_stock",this.form.get("initial_stock")?.value),a.append("is_active",this.form.get("is_active")?.value),a.append("category",this.form.get("category")?.value),a.append("game",this.form.get("juego")?.value),this.fileToUpload&&(this.imagen=this.fileToUpload,a.append("imagen",this.imagen,this.imagen.name)),a.append("user_modify",c),this.awardSrv.putAward(Number(t),a).subscribe(m=>{this.snackbar.mensaje("Premio Actualizado Exitosamente"),this.router.navigate(["/dashboard/premios"])},m=>{this.dialogService.error(m.error)})}})}}backAwards(){this.router.navigate(["/dashboard/premios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(s.qu),e.Y36(k.uw),e.Y36(_e.H7),e.Y36(S),e.Y36(h.o),e.Y36(Z),e.Y36(g.gz),e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-awards"]],viewQuery:function(t,i){if(1&t&&e.Gf(Zo,5),2&t){let r;e.iGM(r=e.CRH())&&(i.InputVar=r.first)}},decls:79,vars:12,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["autocomplete","off","formControlName","initial_stock","onpaste","return false","type","number","onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],["formControlName","category","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","juego","mat-select","",3,"disabled"],[1,"file_container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",3,"change"],["takeInput",""],["mat-icon-button","",1,"green-primary",3,"click"],[1,"container_img"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary","color","primary",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"mat-card",2)(6,"div",3)(7,"div")(8,"form",4)(9,"mat-form-field")(10,"label"),e._uU(11,"Nombre"),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"input",6),e.qZA(),e.TgZ(14,"mat-hint"),e._uU(15,"Nombre del Premio"),e.qZA(),e.YNc(16,vo,2,0,"mat-error",7),e.qZA(),e.TgZ(17,"mat-form-field")(18,"label"),e._uU(19,"Descripci\xf3n"),e.qZA(),e.TgZ(20,"div",5),e._UZ(21,"input",8),e.qZA(),e.TgZ(22,"mat-hint"),e._uU(23,"Descripci\xf3n del Premio"),e.qZA(),e.YNc(24,To,2,0,"mat-error",7),e.qZA(),e.TgZ(25,"mat-form-field")(26,"label"),e._uU(27,"Stock Inicial"),e.qZA(),e.TgZ(28,"div",5),e._UZ(29,"input",9),e.qZA(),e.TgZ(30,"mat-hint"),e._uU(31,"Stock Inicial del Premio"),e.qZA(),e.YNc(32,Ao,2,0,"mat-error",7),e.qZA(),e.TgZ(33,"mat-form-field")(34,"label"),e._uU(35,"Estado"),e.qZA(),e.TgZ(36,"mat-select",10)(37,"mat-option",11),e._uU(38,"Activo"),e.qZA(),e.TgZ(39,"mat-option",12),e._uU(40,"Inactivo"),e.qZA()(),e.TgZ(41,"mat-hint"),e._uU(42,"Estado del Premio"),e.qZA(),e.YNc(43,yo,2,0,"mat-error",7),e.qZA(),e.TgZ(44,"mat-form-field")(45,"label"),e._uU(46,"Categotr\xeda"),e.qZA(),e.TgZ(47,"mat-select",13),e.YNc(48,xo,2,2,"mat-option",14),e.qZA(),e.TgZ(49,"mat-hint"),e._uU(50,"Categoria del Premio"),e.qZA(),e.YNc(51,qo,2,0,"mat-error",7),e.qZA(),e.TgZ(52,"mat-form-field")(53,"label"),e._uU(54,"Juego"),e.qZA(),e.TgZ(55,"mat-select",15),e.YNc(56,Uo,2,2,"mat-option",14),e.qZA(),e.TgZ(57,"mat-hint"),e._uU(58,"Juego del Premio"),e.qZA(),e.YNc(59,wo,2,0,"mat-error",7),e.qZA()()(),e.TgZ(60,"div")(61,"div",16)(62,"div",17)(63,"input",18,19),e.NdJ("change",function(a){return i.capturarFile(a)}),e.qZA()(),e.TgZ(65,"button",20),e.NdJ("click",function(){return i.deleteImage()}),e.TgZ(66,"mat-icon"),e._uU(67,"close"),e.qZA()()(),e.TgZ(68,"div",21),e._UZ(69,"img",22),e.qZA()()(),e.TgZ(70,"div",23)(71,"button",24),e.NdJ("click",function(){return i.backAwards()}),e.TgZ(72,"mat-icon"),e._uU(73,"close"),e.qZA(),e._uU(74," Cancelar "),e.qZA(),e.TgZ(75,"button",25),e.NdJ("click",function(){return i.editAwards()}),e.TgZ(76,"mat-icon"),e._uU(77,"done"),e.qZA(),e._uU(78," Guardar "),e.qZA()()()()),2&t&&(e.xp6(2),e.hij("Editar Premio : ",i.getPremio.name,""),e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.initial_stock.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Categorias),e.xp6(3),e.Q6J("ngIf",i.form.controls.category.hasError("required")),e.xp6(4),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("ngForOf",i.Juegos),e.xp6(3),e.Q6J("ngIf",i.form.controls.juego.hasError("required")),e.xp6(10),e.Q6J("src",i.previsulizacion,e.LSH))},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,u.TO,u.KE,u.bx,U.Nt,b.Hw,C.lW,f.Ye,A.gD,y.ey,w.a8],styles:['mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.container_img[_ngcontent-%COMP%]{width:400px;height:250px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:300px;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:#fff;color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Selecciona una imagen (png, jpg, jpeg)"}.file_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}']}),n})();function Po(n,o){1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2,"Activo"),e.qZA()())}function ko(n,o){1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1,"Inactivo"),e.qZA())}function Mo(n,o){if(1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.premioget.user_modify)}}function Io(n,o){if(1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.premioget.user_register)}}let No=(()=>{class n{constructor(t,i,r){this.award=t,this.router=i,this.activerouter=r,this.premioget={id:0,name:"",description:"",imagen:"",initial_stock:0,current_stock:0,prizes_awarded:0,is_active:!0,created:"",modified:"",user_register:"",user_modify:"",category:"",game:""}}ngOnInit(){let t=this.activerouter.snapshot.paramMap.get("id");this.award.getAwardbyIdVisualizer(Number(t)).subscribe(i=>{this.premioget=i,console.log(this.premioget)})}regresarPremios(){this.router.navigate(["/dashboard/premios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S),e.Y36(g.F0),e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-awards"]],decls:95,vars:15,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[1,"container"],[1,"datos"],["role","listitem"],[4,"ngIf","ngIfElse"],["inactivo",""],["sinmodificar",""],[1,"container_img"],["alt","",3,"src"],[1,"container_botones"],["mat-raised-button","",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Visualizar premio"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"mat-card",2)(6,"div",3)(7,"div")(8,"div",4)(9,"div",5)(10,"mat-label"),e._uU(11,"Nombre"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"mat-list-item",6),e._uU(14),e.qZA()(),e.TgZ(15,"div",5)(16,"mat-label"),e._uU(17,"Descripci\xf3n"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"mat-list-item",6),e._uU(20),e.qZA()()(),e.TgZ(21,"div",4)(22,"div",5)(23,"mat-label"),e._uU(24,"Stock Inicial"),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"mat-list-item",6),e._uU(27),e.qZA()(),e.TgZ(28,"div",5)(29,"mat-label"),e._uU(30,"Stock Actual"),e.qZA(),e._UZ(31,"br"),e.TgZ(32,"mat-list-item",6),e._uU(33),e.qZA()()(),e.TgZ(34,"div",4)(35,"div",5)(36,"mat-label"),e._uU(37,"Ganados"),e.qZA(),e._UZ(38,"br"),e.TgZ(39,"mat-list-item",6),e._uU(40),e.qZA()(),e.TgZ(41,"div",5)(42,"mat-label"),e._uU(43,"Estado"),e.qZA(),e._UZ(44,"br"),e.YNc(45,Po,3,0,"div",7),e.YNc(46,ko,2,0,"ng-template",null,8,e.W1O),e.qZA()(),e.TgZ(48,"div",4)(49,"div",5)(50,"mat-label"),e._uU(51,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(52,"br"),e.TgZ(53,"mat-list-item",6),e._uU(54),e.qZA()(),e.TgZ(55,"div",5)(56,"mat-label"),e._uU(57,"\xdaltima Modificaci\xf3n"),e.qZA(),e._UZ(58,"br"),e.TgZ(59,"mat-list-item",6),e._uU(60),e.qZA()()(),e.TgZ(61,"div",4)(62,"div",5)(63,"mat-label"),e._uU(64,"Usuario que registro el premio"),e.qZA(),e._UZ(65,"br"),e.TgZ(66,"mat-list-item",6),e._uU(67),e.qZA()(),e.TgZ(68,"div",5)(69,"mat-label"),e._uU(70,"\xdaltimo usuario en modificar el premio"),e.qZA(),e._UZ(71,"br"),e.YNc(72,Mo,3,1,"div",7),e.YNc(73,Io,2,1,"ng-template",null,9,e.W1O),e.qZA()(),e.TgZ(75,"div",4)(76,"div",5)(77,"mat-label"),e._uU(78,"Categor\xeda"),e.qZA(),e._UZ(79,"br"),e.TgZ(80,"mat-list-item",6),e._uU(81),e.qZA()(),e.TgZ(82,"div",5)(83,"mat-label"),e._uU(84,"EL premio pertenece al juego"),e.qZA(),e._UZ(85,"br"),e.TgZ(86,"mat-list-item",6),e._uU(87),e.qZA()()()(),e.TgZ(88,"div",10),e._UZ(89,"img",11),e.qZA()(),e.TgZ(90,"div",12)(91,"button",13),e.NdJ("click",function(){return i.regresarPremios()}),e.TgZ(92,"mat-icon"),e._uU(93,"close"),e.qZA(),e._uU(94," Salir "),e.qZA()()()()),2&t){const r=e.MAs(47),a=e.MAs(74);e.xp6(14),e.Oqu(i.premioget.name),e.xp6(6),e.Oqu(i.premioget.description),e.xp6(7),e.Oqu(i.premioget.initial_stock),e.xp6(6),e.Oqu(i.premioget.current_stock),e.xp6(7),e.Oqu(i.premioget.prizes_awarded),e.xp6(5),e.Q6J("ngIf",i.premioget.is_active)("ngIfElse",r),e.xp6(9),e.Oqu(i.premioget.created),e.xp6(6),e.Oqu(i.premioget.modified),e.xp6(7),e.Oqu(i.premioget.user_register),e.xp6(5),e.Q6J("ngIf",i.premioget.user_modify)("ngIfElse",a),e.xp6(9),e.Oqu(i.premioget.category),e.xp6(6),e.Oqu(i.premioget.game),e.xp6(2),e.s9C("src",i.premioget.imagen,e.LSH)}},dependencies:[p.O5,u.hX,b.Hw,C.lW,f.Ye,E.Tg,w.a8],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:20px}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background-color:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.container_img[_ngcontent-%COMP%]{width:500px;height:350px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.mat-list-item[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}button[_ngcontent-%COMP%]{margin-top:25px;background:var(--color-cafe);color:var(--color-letras)}button[_ngcontent-%COMP%]:hover{background:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})(),se=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAwardsListGame(){return this.http.get(this.url+"api/awardGame/")}getProbabilites(){return this.http.get(this.url+"api/probabilidad")}postItemToCategory(t){return this.http.post(this.url+"api/awardGame/",t)}postProbabilityConfig(t){return this.http.post(this.url+"api/probabilidad/",t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.eN),e.LFG(P.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ce=(()=>{class n{constructor(t,i){this.probability=t,this.awards=i,this.id_game="1",this.newAwards=[],this.legendary_box=[1],this.epic_box=[1,2],this.common_box=[1,2,4]}addItemToCategory(t,i){let r={game_id:this.id_game,premio_id:String(t.id)};this.probability.postItemToCategory(r).subscribe(a=>{this.awards.getAward().subscribe(c=>{c.map(m=>{this.probability.getAwardsListGame().subscribe(d=>{d.forEach(q=>{m.category==i&&q.premio_id==m.id&&this.newAwards.push(m)})})})})})}addProbabilityConfig(t){}getNewAwards(){return this.newAwards}getLegendaryBoxes(){return this.legendary_box}getEpicBoxes(){return this.epic_box}getCommonBoxes(){return this.common_box}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(se),e.LFG(S))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function So(n,o){if(1&n&&(e.TgZ(0,"figure",10),e._UZ(1,"img",11),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.s9C("src",t.imagen,e.LSH)}}function Eo(n,o){if(1&n&&(e.TgZ(0,"figure",10),e._UZ(1,"img",11),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.s9C("src",t.image,e.LSH)}}function Fo(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Eo,2,1,"figure",6),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.publicityList)}}function Yo(n,o){1&n&&e._UZ(0,"div",12)}let Do=(()=>{class n{constructor(t,i,r){this.probability=t,this.controller=i,this.publicity=r,this.isModalOpen=!1,this.propagar=new e.vpe,this.awards=[],this.publicityList=[],this.title="",this.color="",this.box_number=1,this.boxes=[]}ngOnInit(){this.publicity.getPublicityList().subscribe(t=>{this.publicityList=t})}reload(){this.awards=this.controller.getNewAwards()}openModal(){this.isModalOpen=!0,this.propagar.emit({isModalOpen:this.isModalOpen,category:this.title,awards:this.awards,publicity:this.publicityList})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(se),e.Y36(ce),e.Y36(G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-categorie"]],inputs:{awards:"awards",title:"title",color:"color",box_number:"box_number",boxes:"boxes"},outputs:{propagar:"propagar"},decls:12,vars:4,consts:[[1,"container-category"],[1,"categorie","background-light-blue-primary"],[1,"background-navy-primary","btn-container","green-primary"],[1,"add-container",3,"click"],[1,"styled-icon"],[1,"category-title","m-0","me-3"],["class","award-container",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"container-box"],["class","box",4,"ngFor","ngForOf"],[1,"award-container"],["alt","award-image",3,"src"],[1,"box"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.NdJ("click",function(){return i.openModal()}),e.TgZ(4,"mat-icon",4),e._uU(5,"add"),e.qZA()(),e.TgZ(6,"p",5),e._uU(7),e.qZA()(),e.YNc(8,So,2,1,"figure",6),e.YNc(9,Fo,2,1,"div",7),e.qZA(),e.TgZ(10,"div",8),e.YNc(11,Yo,1,0,"div",9),e.qZA()()),2&t&&(e.xp6(7),e.Oqu(i.title),e.xp6(1),e.Q6J("ngForOf",i.awards),e.xp6(1),e.Q6J("ngIf","publicity"==i.title),e.xp6(2),e.Q6J("ngForOf",i.boxes))},dependencies:[p.sg,p.O5,b.Hw],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%}.container-category[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;margin-bottom:3rem}.categorie[_ngcontent-%COMP%]{display:flex;gap:.2rem;align-items:center;justify-content:start;width:80%;flex-wrap:wrap;padding:.5rem 0;border-radius:6px}.category-title[_ngcontent-%COMP%]{font-size:1rem}.add-container[_ngcontent-%COMP%]{border-radius:15px;width:3rem;height:1rem;display:flex;justify-content:center;align-items:center;border:1px solid #00ffc5;padding:.3rem 0}.styled-icon[_ngcontent-%COMP%]{font-size:17px;width:17px;height:17px}.btn-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;border-radius:6px;padding:.3rem 1rem;margin-left:.3rem;background-color:#002130}.award-container[_ngcontent-%COMP%]{width:5rem;height:5rem;margin:0}.container-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.box[_ngcontent-%COMP%]{width:5rem;height:5rem;border:1px solid #00ffc5}"]}),n})(),Ro=(()=>{class n{constructor(t){this.controller=t,this.name="product name",this.stock="-",this.imgUrl="",this.newAwardList=[],this.propagar=new e.vpe}ngOnInit(){}addItem(){this.controller.addItemToCategory(this.award,this.award.category),this.newAwardList=this.controller.getNewAwards(),this.propagar.emit(this.newAwardList)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ce))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal-item"]],inputs:{name:"name",stock:"stock",imgUrl:"imgUrl",award:"award"},outputs:{propagar:"propagar"},decls:9,vars:3,consts:[[1,"container-item"],[1,"item-nombre"],[1,"item__img-container"],["alt","award-img",3,"src"],[1,"item-stock"],["type","button",1,"",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"figure",2),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"p",4),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return i.addItem()}),e._uU(8,"Anadir"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(i.name),e.xp6(2),e.s9C("src",i.imgUrl,e.LSH),e.xp6(2),e.hij("stock: ",i.stock,""))},styles:[".container-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.item__img-container[_ngcontent-%COMP%]{width:5rem;height:5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}.modal-item__btn[_ngcontent-%COMP%]{outline:none;padding:1.5rem}"]}),n})();function Jo(n,o){if(1&n&&e._UZ(0,"app-modal-item",8),2&n){const t=o.$implicit;e.s9C("name",t.name),e.s9C("imgUrl",t.imagen),e.s9C("stock",t.current_stock),e.Q6J("award",t)}}function Qo(n,o){if(1&n&&e._UZ(0,"app-modal-item",10),2&n){const t=o.$implicit;e.s9C("name",t.titulo),e.s9C("imgUrl",t.image)}}function Go(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Qo,1,2,"app-modal-item",9),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.publicity)}}let jo=(()=>{class n{constructor(t){this.awards=t,this.category="",this.publicity=[],this.modalAwards=[],this.isOpenModal=!0,this.propagar=new e.vpe}ngOnInit(){this.awards.getAward().subscribe(t=>{t.map(i=>{this.category==i.category&&this.modalAwards.push(i)})})}closeModalOutsideModal(t){t.target.classList.contains("row")&&(this.isOpenModal=!1,this.propagar.emit(this.isOpenModal))}closeModal(){this.isOpenModal=!1,this.propagar.emit(this.isOpenModal)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal"]],inputs:{category:"category",publicity:"publicity"},outputs:{propagar:"propagar"},decls:11,vars:3,consts:[[1,"container-modal",3,"click"],[1,"row","align-items-center","justify-content-center","w-100","h-100"],[1,"container-modal-awards"],[1,"cancel-icon",3,"click"],[1,"row","text-align-center"],[1,"awards-container"],[3,"award","name","imgUrl","stock",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"award","name","imgUrl","stock"],["s","",3,"name","imgUrl",4,"ngFor","ngForOf"],["s","",3,"name","imgUrl"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(a){return i.closeModalOutsideModal(a)}),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-icon",3),e.NdJ("click",function(){return i.closeModal()}),e._uU(4,"cancel"),e.qZA(),e.TgZ(5,"div",4)(6,"p"),e._uU(7),e.qZA()(),e.TgZ(8,"div",5),e.YNc(9,Jo,1,4,"app-modal-item",6),e.YNc(10,Go,2,1,"div",7),e.qZA()()()()),2&t&&(e.xp6(7),e.hij(" Anadir premio a la categoria ",i.category," "),e.xp6(2),e.Q6J("ngForOf",i.modalAwards),e.xp6(1),e.Q6J("ngIf","publicity"==i.category))},dependencies:[p.sg,p.O5,b.Hw,Ro],styles:[".container-modal[_ngcontent-%COMP%]{width:100%;height:100vh;position:absolute;background-color:#808080a3;z-index:0}.container-modal-awards[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:gray;height:20rem;width:90%;padding:2rem}.awards-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;gap:.5rem;flex-wrap:wrap}.cancel-icon[_ngcontent-%COMP%]{position:absolute;top:7px;right:15px;width:2rem;height:2rem;font-size:2rem}"]}),n})();function Lo(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-modal",24),e.NdJ("propagar",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.manageCloseModal(r))}),e.qZA()}if(2&n){const t=e.oxw();e.s9C("category",t.categoryModal),e.Q6J("publicity",t.publicityList)}}let zo=(()=>{class n{constructor(t,i,r,a,c,m){this.awards=t,this.controller=i,this.probability=r,this.fb=a,this.dialog=c,this.snackBar=m,this.isModalOpen=!1,this.awardsList=[],this.awardsGame=[],this.legendary=[],this.legendary_box=this.controller.getLegendaryBoxes(),this.epic=[],this.epic_box=this.controller.getEpicBoxes(),this.rare=[],this.common=[],this.common_box=this.controller.getCommonBoxes(),this.modalAwards=[],this.publicityList=[],this.categoryModal="",this.totalSquares=0,this.limitWinners=5,this.limitMessage=`Todavia no ha pasado el limite actual ${this.limitWinners}`,this.form=this.fb.group({percent_win:[""],limit_winners:[""]})}ngOnInit(){this.awards.getAward().subscribe(t=>{this.probability.getAwardsListGame().subscribe(i=>{this.getAwardsPerCategory(t,i)})}),this.probability.getProbabilites().subscribe(t=>{this.probabilityData=t[t.length-1],this.limitWinners=this.probabilityData.winners_limit,this.limitMessage=`Todavia no ha pasado el limite actual ${this.limitWinners}`})}getAwardsPerCategory(t,i){t.forEach(r=>{i.forEach(a=>{"Legendaria"==r.category&&a.premio_id==r.id?this.legendary.push(r):"Epica"==r.category&&a.premio_id==r.id?this.epic.push(r):"Rara"==r.category&&a.premio_id==r.id?this.rare.push(r):a.premio_id==r.id&&this.common.push(r)})})}addProbabilityConfig(){if(this.form.valid){const t={title:"CAMBIAR CONFIGURACION PROBABILIDADES JUEGO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CAMBIAR LA CONFIGURACION DE PROBABILIDADES?",cancelText:"CANCELAR",confirmText:"CREAR"};let i={porcent_win:this.form.get("percent_win")?.value,winners_limit:this.form.get("limit_winners")?.value,is_active:!0,game_id:"1"};this.dialog.open(t),this.dialog.confirmed().subscribe(r=>{r&&this.probability.postProbabilityConfig(i).subscribe(a=>{console.log(a),this.snackBar.mensaje("Configuracion Cambiada con exito"),this.limitWinners=i.winners_limit,this.limitMessage=`Todavia no ha pasado el limite actual ${this.limitWinners}`})})}}padreOpenModal(t){this.isModalOpen=t.isModalOpen,this.modalAwards=t.awards,this.categoryModal=t.category,this.publicityList=t.publicity}manageCloseModal(t){this.isModalOpen=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S),e.Y36(ce),e.Y36(se),e.Y36(s.qu),e.Y36(Z),e.Y36(h.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-probabilidades"]],decls:36,vars:12,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[3,"category","publicity","propagar",4,"ngIf"],[1,"container-premios","background-black-primary"],[1,"container-categories"],[1,"categories-caption","green-primary"],["mat-lib-title",""],["color","legendary","title","Legendaria",3,"awards","boxes","propagar"],["color","epic","title","Epica",3,"awards","boxes","propagar"],["color","rare","title","Rara",3,"awards","boxes","propagar"],["color","common","title","Comun",3,"awards","boxes","propagar"],["color","publicity","title","publicity",3,"boxes","propagar"],[1,"container-set-categories","green-primary"],["mat-lib-title","",1,"set-categories__title"],[1,"container-set-squares"],[1,"container-total"],["action","",1,"row","align-items-center","justify-content-start","me-2","form",3,"formGroup"],["for","percent_win",1,"total","col-8"],["type","number","id","percent_win","formControlName","percent_win","required","",1,"input-global","col-4","ms-4"],["for","limit_winners",1,"total","col-8","mt-4"],["type","number","id","limit_winners","formControlName","limit_winners","required","",1,"input-global","col-4","ms-4"],[1,"ganadores__limit-message","no-pass-limit"],["type","number","id","attempts number","formControlName","attempts_number","required","",1,"input-global","col-4","ms-4"],["title","Guardar",3,"click"],[3,"category","publicity","propagar"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Probabilidad"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.YNc(4,Lo,1,2,"app-modal",2),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"h3",6),e._uU(9,"Categorias y Premios"),e.qZA(),e.TgZ(10,"h3",6),e._uU(11,"Casillas Disponibles"),e.qZA()(),e.TgZ(12,"app-categorie",7),e.NdJ("propagar",function(a){return i.padreOpenModal(a)}),e.qZA(),e.TgZ(13,"app-categorie",8),e.NdJ("propagar",function(a){return i.padreOpenModal(a)}),e.qZA(),e.TgZ(14,"app-categorie",9),e.NdJ("propagar",function(a){return i.padreOpenModal(a)}),e.qZA(),e.TgZ(15,"app-categorie",10),e.NdJ("propagar",function(a){return i.padreOpenModal(a)}),e.qZA(),e.TgZ(16,"app-categorie",11),e.NdJ("propagar",function(a){return i.padreOpenModal(a)}),e.qZA()(),e.TgZ(17,"div",12)(18,"h3",13),e._uU(19,"Editar Probabilidades"),e.qZA(),e.TgZ(20,"div",14)(21,"div",15)(22,"form",16)(23,"label",17),e._uU(24,"Porcentaje de ganar un premio"),e.qZA(),e._UZ(25,"input",18),e._uU(26," % "),e.TgZ(27,"label",19),e._uU(28,"Limitar ganadores por dia"),e.qZA(),e._UZ(29,"input",20),e.TgZ(30,"p",21),e._uU(31),e.qZA(),e.TgZ(32,"label",19),e._uU(33,"Numero de intentos"),e.qZA(),e._UZ(34,"input",22),e.qZA(),e.TgZ(35,"app-button-primary",23),e.NdJ("click",function(){return i.addProbabilityConfig()}),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.isModalOpen),e.xp6(8),e.Q6J("awards",i.legendary)("boxes",i.legendary_box),e.xp6(1),e.Q6J("awards",i.epic)("boxes",i.epic_box),e.xp6(1),e.Q6J("awards",i.rare)("boxes",i.epic_box),e.xp6(1),e.Q6J("awards",i.common)("boxes",i.common_box),e.xp6(1),e.Q6J("boxes",i.common_box),e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(9),e.hij(" ",i.limitMessage," "))},dependencies:[p.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.sg,s.u,f.Ye,Q,Do,jo],styles:["p[_ngcontent-%COMP%]{margin:0}.container-premios[_ngcontent-%COMP%]{display:flex;align-items:top}.container-categories[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6rem;width:65%;margin-right:1rem;padding:.5rem .8rem}.container-set-categories[_ngcontent-%COMP%]{width:35%}img[_ngcontent-%COMP%]{width:100%;height:100%}.categories-caption[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.set-categories__title[_ngcontent-%COMP%]{margin-top:.5rem}.container-set-squares[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem;padding-right:.5rem}.line[_ngcontent-%COMP%]{border-top:1px solid black;width:57%;align-self:center}.container-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;align-items:center}.total-squares__number[_ngcontent-%COMP%]{margin-right:5rem}.form[_ngcontent-%COMP%]{gap:.2rem}.form__input[_ngcontent-%COMP%]{width:4rem;height:2rem}.container-ganadores[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem}.ganadores__limit-message[_ngcontent-%COMP%]{align-self:center}.no-pass-limit[_ngcontent-%COMP%]{color:green}.pass-limit[_ngcontent-%COMP%]{color:red}"]}),n})(),I=(()=>{class n{constructor(t,i){this.permisos_api=t,this.snackbar=i}canActivate(t,i){var r=this;return T(function*(){let a=t.data.Permiso_nombre;const c=yield F(r.permisos_api.getPermisosbyName(a));let m=Number(c[0].id),d=Number(localStorage.getItem("rol_id"));return(yield F(r.permisos_api.getPermisosbyRolandPermission(d,m))).length>0||(r.snackbar.mensaje("No tienes permiso para: "+a),!1)})()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(j),e.LFG(h.o))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var v=_(3068);function Bo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ho(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Vo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function $o(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Wo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function Xo(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ko(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function er(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function tr(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let ir=(()=>{class n{constructor(t,i,r,a,c,m){this.router=t,this.formBuilder=i,this.snackBar=r,this.confirmDialog=a,this.clientAPI=c,this.activatedRoute=m,this.singularName="cliente",this.pluralName="Clientes",this.actionName="editar",this.formGroup=this.formBuilder.group({cedula:["",s.kI.required],names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),phone:["",s.kI.required],sex:["",s.kI.required],address:["",s.kI.required],state:["",s.kI.required]})}toList(){this.router.navigate(["dashboard/"+this.pluralName.toLocaleLowerCase()])}editClient(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el "+this.singularName+" "+this.formGroup.get("names")?.value+" ?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){let t=this.activatedRoute.snapshot.paramMap.get("id");this.confirmDialog.confirmed().subscribe(i=>{if(i){let r=this.fillForm();this.clientAPI.put(Number(t),r).subscribe({next:a=>{this.snackBar.mensaje(this.singularName+" Actualizado Exitosamente"),this.toList()},error:a=>{this.confirmDialog.error(a.error)}})}})}fillForm(){let t=localStorage.getItem("user_id"),i=new FormData;return i.append("cedula",this.formGroup.get("cedula")?.value),i.append("names",this.formGroup.get("names")?.value),i.append("surnames",this.formGroup.get("surnames")?.value),i.append("email",this.formGroup.get("email")?.value),i.append("phone",this.formGroup.get("phone")?.value),i.append("address",this.formGroup.get("address")?.value),i.append("sex",this.formGroup.get("sex")?.value),i.append("state",this.formGroup.get("state")?.value),i.append("user_client_modify",t),i}ngOnInit(){let t=this.activatedRoute.snapshot.paramMap.get("id");this.clientAPI.getById(Number(t)).subscribe(i=>{this.currentClient=i,this.getInfo()},i=>{})}getInfo(){this.formGroup.patchValue({cedula:this.currentClient.cedula,names:this.currentClient.names,surnames:this.currentClient.surnames,email:this.currentClient.email,phone:this.currentClient.phone,address:this.currentClient.address,sex:this.currentClient.sex,state:this.currentClient.state})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(s.qu),e.Y36(h.o),e.Y36(Z),e.Y36(z),e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-client"]],decls:87,vars:14,consts:[[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["formControlName","sex","mat-select",""],["value","Femenino"],["value","Masculino"],["autocomplete","off","formControlName","address","type","text","matInput",""],["formControlName","state","mat-select",""],["value","Activo"],["value","Inactivo"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA()(),e.TgZ(3,"div",0)(4,"form",1)(5,"mat-form-field")(6,"label"),e._uU(7,"C\xe9dula"),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"input",3,4),e.qZA(),e.TgZ(11,"mat-hint",5),e._uU(12),e.qZA(),e.YNc(13,Bo,2,0,"mat-error",6),e.qZA(),e.TgZ(14,"mat-form-field")(15,"label"),e._uU(16,"Nombres"),e.qZA(),e.TgZ(17,"div",2),e._UZ(18,"input",7),e.qZA(),e.TgZ(19,"mat-hint"),e._uU(20,"Nombre del Cliente"),e.qZA(),e.YNc(21,Ho,2,0,"mat-error",6),e.qZA(),e.TgZ(22,"mat-form-field")(23,"label"),e._uU(24,"Apellidos"),e.qZA(),e.TgZ(25,"div",2),e._UZ(26,"input",8),e.qZA(),e.TgZ(27,"mat-hint"),e._uU(28,"Apellido paterno y materno"),e.qZA(),e.YNc(29,Vo,2,0,"mat-error",6),e.qZA(),e.TgZ(30,"mat-form-field")(31,"label"),e._uU(32,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(33,"div",2),e._UZ(34,"input",9),e.qZA(),e.TgZ(35,"mat-hint"),e._uU(36,"Correo electr\xf3nico"),e.qZA(),e.YNc(37,$o,2,0,"mat-error",6),e.YNc(38,Wo,2,0,"mat-error",6),e.qZA(),e.TgZ(39,"mat-form-field")(40,"label"),e._uU(41,"Tel\xe9fono"),e.qZA(),e.TgZ(42,"div",2),e._UZ(43,"input",10,11),e.qZA(),e.TgZ(45,"mat-hint",5),e._uU(46),e.qZA(),e.YNc(47,Xo,2,0,"mat-error",6),e.qZA(),e.TgZ(48,"mat-form-field")(49,"label"),e._uU(50,"Sexo"),e.qZA(),e.TgZ(51,"mat-select",12)(52,"mat-option",13),e._uU(53,"Femenino"),e.qZA(),e.TgZ(54,"mat-option",14),e._uU(55,"Masculino"),e.qZA()(),e.TgZ(56,"mat-hint"),e._uU(57,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(58,Ko,2,0,"mat-error",6),e.qZA(),e.TgZ(59,"mat-form-field")(60,"label"),e._uU(61,"Direcci\xf3n"),e.qZA(),e.TgZ(62,"div",2),e._UZ(63,"input",15),e.qZA(),e.TgZ(64,"mat-hint"),e._uU(65,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(66,er,2,0,"mat-error",6),e.qZA(),e.TgZ(67,"mat-form-field")(68,"label"),e._uU(69,"Estado"),e.qZA(),e.TgZ(70,"mat-select",16)(71,"mat-option",17),e._uU(72,"Activo"),e.qZA(),e.TgZ(73,"mat-option",18),e._uU(74,"Inactivo"),e.qZA()(),e.TgZ(75,"mat-hint"),e._uU(76,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(77,tr,2,0,"mat-error",6),e.qZA()(),e.TgZ(78,"div",19)(79,"button",20),e.NdJ("click",function(){return i.toList()}),e.TgZ(80,"mat-icon"),e._uU(81,"close"),e.qZA(),e._uU(82," Cancelar "),e.qZA(),e.TgZ(83,"button",21),e.NdJ("click",function(){return i.editClient()}),e.TgZ(84,"mat-icon"),e._uU(85,"done"),e.qZA(),e._uU(86," Guardar "),e.qZA()()()),2&t){const r=e.MAs(10),a=e.MAs(44);e.xp6(2),e.AsE("Editar Cliente : ",i.currentClient.names," #",i.currentClient.cedula," "),e.xp6(2),e.Q6J("formGroup",i.formGroup),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.cedula.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.email.hasError("email")),e.xp6(8),e.hij(" ",a.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.address.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.state.hasError("required"))}},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,u.TO,u.KE,u.bx,U.Nt,b.Hw,C.lW,f.Ye,A.gD,y.ey],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})(),nr=(()=>{class n{constructor(t,i,r){this.router=t,this.activedRoute=i,this.clientAPI=r,this.singularName="cliente",this.pluralName="clientes",this.actionName="visualizar",this.client={id:"",cedula:"",names:"",surnames:"",email:"",phone:"",sex:"",address:"",state:"",user_client_register:"",user_client_modify:"",created:"",modified:""}}toList(){this.router.navigate(["dashboard/"+this.pluralName])}ngOnInit(){let t=this.activedRoute.snapshot.paramMap.get("id");this.clientAPI.getById(Number(t)).subscribe(i=>{this.client=i})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(g.gz),e.Y36(z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-client"]],decls:62,vars:15,consts:[["cols","3","rowHeight","50rem"],["mat-raised-button","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA()(),e.TgZ(3,"mat-grid-list",0)(4,"mat-grid-tile")(5,"mat-list")(6,"mat-label"),e._uU(7,"C\xe9dula"),e.qZA(),e.TgZ(8,"mat-list-item"),e._uU(9),e.qZA(),e.TgZ(10,"mat-label"),e._uU(11,"Nombres"),e.qZA(),e.TgZ(12,"mat-list-item"),e._uU(13),e.qZA(),e.TgZ(14,"mat-label"),e._uU(15,"Apellidos"),e.qZA(),e.TgZ(16,"mat-list-item"),e._uU(17),e.qZA(),e.TgZ(18,"mat-label"),e._uU(19,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(20,"mat-list-item"),e._uU(21),e.qZA(),e.TgZ(22,"mat-label"),e._uU(23,"Tel\xe9fono"),e.qZA(),e.TgZ(24,"mat-list-item"),e._uU(25),e.qZA(),e.TgZ(26,"mat-label"),e._uU(27,"Sexo"),e.qZA(),e.TgZ(28,"mat-list-item"),e._uU(29),e.qZA(),e.TgZ(30,"mat-label"),e._uU(31,"Direcci\xf3n"),e.qZA(),e.TgZ(32,"mat-list-item"),e._uU(33),e.qZA(),e.TgZ(34,"mat-label"),e._uU(35,"Fecha de registro"),e.qZA(),e.TgZ(36,"mat-list-item"),e._uU(37),e.qZA(),e.TgZ(38,"mat-label"),e._uU(39,"Usuario de registro"),e.qZA(),e.TgZ(40,"mat-list-item"),e._uU(41),e.qZA(),e.TgZ(42,"mat-label"),e._uU(43,"Fecha de \xfaltima modificaci\xf3n"),e.qZA(),e.TgZ(44,"mat-list-item"),e._uU(45),e.qZA(),e.TgZ(46,"mat-label"),e._uU(47,"\xdaltima usuario que modific\xf3"),e.qZA(),e.TgZ(48,"mat-list-item"),e._uU(49),e.qZA()()(),e.TgZ(50,"mat-grid-tile")(51,"mat-list")(52,"mat-label"),e._uU(53,"Historial de partida"),e.qZA()()(),e.TgZ(54,"mat-grid-tile")(55,"mat-list")(56,"mat-label"),e._uU(57,"Resumen"),e.qZA()()()(),e.TgZ(58,"button",1),e.NdJ("click",function(){return i.toList()}),e.TgZ(59,"mat-icon"),e._uU(60,"close"),e.qZA(),e._uU(61," Salir\n"),e.qZA()),2&t&&(e.xp6(2),e.HOy(" ",i.actionName," ",i.singularName," ",i.client.names," ",i.client.cedula," "),e.xp6(7),e.Oqu(i.client.cedula),e.xp6(4),e.Oqu(i.client.names),e.xp6(4),e.Oqu(i.client.surnames),e.xp6(4),e.Oqu(i.client.email),e.xp6(4),e.Oqu(i.client.phone),e.xp6(4),e.Oqu(i.client.sex),e.xp6(4),e.Oqu(i.client.address),e.xp6(4),e.Oqu(i.client.created),e.xp6(4),e.Oqu(i.client.user_client_register),e.xp6(4),e.Oqu(i.client.modified),e.xp6(4),e.Oqu(i.client.user_client_modify))},dependencies:[u.hX,b.Hw,C.lW,f.Ye,E.i$,E.Tg,te.Il,te.DX],styles:[".container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.mat-list-item[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}button[_ngcontent-%COMP%]{margin-top:25px;background:var(--color-cafe);color:var(--color-letras)}button[_ngcontent-%COMP%]:hover{background:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})(),or=(()=>{class n{constructor(t,i){this.snackbar=t,this.game=i,this.beginDate=new Date(2015,10,30),this.finishDate=new Date}ngOnInit(){}saveNewDateGame(){if(this.validateDates()){let t={id:"1",start_date:this.beginDate.toISOString(),end_date:this.finishDate.toISOString(),modification_date:(new Date).toISOString(),game:"T",is_active:"true"};console.log(t),this.game.putGame(1,t).subscribe(i=>{console.log(i)}),this.snackbar.mensaje("Se a actualizado la fecha de disponibilidad del juego")}}validateDates(){let t=new Date(2015,10,30);return t.setHours(0,0,0,0),this.beginDate.setHours(0,0,0,0),this.finishDate.setHours(0,0,0,0),this.beginDate.getTime()==t.getTime()?(this.snackbar.mensaje("Seleccione un rango de fechas"),!1):!(this.beginDate>this.finishDate&&(this.snackbar.mensaje("La fecha de inicio no puede ser mayor a la fecha final"),1))}cancel(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.o),e.Y36(ee))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-date"]],decls:24,vars:3,consts:[[1,"green-primary","background-navy-primary"],[1,"example-spacer"],[1,"container-fluid","background-black-primary","root-container"],[1,"row"],[1,"col","align-self-center","text-center"],[1,"date-title","green-primary"],[1,"calendar-container"],[1,"calendar"],[1,"input-date","green-primary"],[1,"calendar__card"],[1,"demo-inline-calendar-card","background-navy-primary","green-primary"],[1,"green-primary",3,"selected","selectedChange"],["title","Guardar",1,"save-button",3,"click"],[3,"selected","selectedChange"],["title","Cancelar",1,"cancel-button",3,"backgroundColor","click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Fecha"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"h2",5),e._uU(8,"JUEGO DISPONIBLE"),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7)(11,"p",8),e._uU(12,"Inicio"),e.qZA(),e.TgZ(13,"div",9)(14,"mat-card",10)(15,"mat-calendar",11),e.NdJ("selectedChange",function(a){return i.beginDate=a}),e.qZA()()(),e.TgZ(16,"app-button-primary",12),e.NdJ("click",function(){return i.saveNewDateGame()}),e.qZA()(),e.TgZ(17,"div",7)(18,"p",8),e._uU(19,"Fin"),e.qZA(),e.TgZ(20,"div",9)(21,"mat-card",10)(22,"mat-calendar",13),e.NdJ("selectedChange",function(a){return i.finishDate=a}),e.qZA()()(),e.TgZ(23,"app-button-primary",14),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()()),2&t&&(e.xp6(15),e.Q6J("selected",i.beginDate),e.xp6(7),e.Q6J("selected",i.finishDate),e.xp6(1),e.Q6J("backgroundColor","#d4d4d4"))},dependencies:[f.Ye,w.a8,re._H,Q],styles:["p[_ngcontent-%COMP%]{margin:0}.exit-icon[_ngcontent-%COMP%]{width:3.5rem;height:2rem}.exit-container[_ngcontent-%COMP%]{margin-top:1rem;padding-bottom:1rem}.date-title[_ngcontent-%COMP%]{margin:1.5rem 0}.calendar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:40%}.calendar__card[_ngcontent-%COMP%]{padding:0 1rem}.input-date[_ngcontent-%COMP%]{margin:1rem 0;padding:.5rem 1.5rem;border:1px solid #00ffc5;border-radius:15px;font-weight:500}.date-container[_ngcontent-%COMP%]{height:100%}.save-button[_ngcontent-%COMP%]{align-self:flex-end;margin-right:2rem;margin-bottom:2rem}.cancel-button[_ngcontent-%COMP%]{align-self:flex-start;margin-left:2rem}"]}),n})();function rr(n,o){if(1&n&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ar(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1,"ID"),e.qZA())}function sr(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.id)}}function cr(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Nombre"),e.qZA())}function lr(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.award)}}function mr(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Juego"),e.qZA())}function pr(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.game)}}function ur(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Fecha de Inicio"),e.qZA())}function dr(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.start_date)}}function gr(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1," Fecha de Fin "),e.qZA())}function _r(n,o){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.xp6(1),e.Oqu(t.end_date)}}function fr(n,o){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Estado"),e.qZA())}function hr(n,o){1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2,"Procesado"),e.qZA()())}function Cr(n,o){1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2,"Sin procesar"),e.qZA()())}function br(n,o){if(1&n&&(e.TgZ(0,"td",32),e.YNc(1,hr,3,0,"div",33),e.YNc(2,Cr,3,0,"ng-template",null,34,e.W1O),e.qZA()),2&n){const t=o.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.is_active)("ngIfElse",i)}}function Zr(n,o){1&n&&e._UZ(0,"th",35)}function vr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"td",32)(1,"div")(2,"button",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.verPremios(a.id))}),e.TgZ(3,"mat-icon",37),e._uU(4,"remove_red_eye"),e.qZA()(),e.TgZ(5,"button",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editarPremios(a.id))}),e.TgZ(6,"mat-icon",37),e._uU(7,"edit"),e.qZA()(),e.TgZ(8,"button",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.eliminarPremios(a.id))}),e.TgZ(9,"mat-icon",13),e._uU(10,"delete"),e.qZA()()()()}}function Tr(n,o){1&n&&e._UZ(0,"tr",40)}function Ar(n,o){1&n&&e._UZ(0,"tr",41)}function yr(n,o){if(1&n&&(e.TgZ(0,"tr",42)(1,"td",43),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(18);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const xr=function(){return[5,10,25,100]};function Ur(n,o){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=o.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function wr(n,o){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Pr(n,o){1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2,"Procesado"),e.qZA()())}function kr(n,o){1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1,"Sin Procesar"),e.qZA())}const Ir=["takeInput"];function Nr(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"input",22,23),e.NdJ("change",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.capturarFile(r))}),e.qZA()()}}function Sr(n,o){1&n&&(e.TgZ(0,"div",24)(1,"label",25),e._uU(2," Url del video: "),e.qZA(),e._UZ(3,"input",26),e.qZA())}const he=function(n){return{"video-option-active":n}},Yr=["takeInput"],Dr=function(n,o){return{"font-family":n,color:o}},Jr=[{path:"",component:it,children:[{path:"",component:We},{path:"cambiar-contrase\xf1a",component:an},{path:"usuarios",component:Ut,canActivate:[v.c,Y]},{path:"usuarios/crear",component:Rt,canActivate:[v.c,Y]},{path:"usuarios/visualizar/:id",component:Gt,canActivate:[v.c,Y]},{path:"usuarios/editar/:id",component:$e,canActivate:[v.c,Y]},{path:"roles",component:mi,canActivate:[v.c,Y]},{path:"roles/crear",component:gi,canActivate:[v.c,Y]},{path:"roles/permisos/:id",component:Ie,canActivate:[v.c,Y]},{path:"roles/editar/:id",component:Fe,canActivate:[v.c,Y]},{path:"clientes",component:qn,canActivate:[v.c]},{path:"clientes/crear",component:co,canActivate:[I,v.c],data:{Permiso_nombre:"Crear Cliente"}},{path:"clientes/vizualizar/:id",component:nr,canActivate:[I,v.c],data:{Permiso_nombre:"Ver Cliente"}},{path:"clientes/editar/:id",component:ir,canActivate:[I,v.c],data:{Permiso_nombre:"Editar Cliente"}},{path:"tickets",component:Ii,canActivate:[v.c]},{path:"tickets/crear",component:Ji,canActivate:[I,v.c],data:{Permiso_nombre:"Crear Ticket"}},{path:"tickets/vizualizar/:id",component:Qi,canActivate:[I,v.c],data:{Permiso_nombre:"Ver Ticket"}},{path:"tickets/editar/:id",component:$i,canActivate:[I,v.c],data:{Permiso_nombre:"Editar Ticket"}},{path:"premios",component:Xn,canActivate:[v.c]},{path:"premios/crear",component:bo,canActivate:[I,v.c],data:{Permiso_nombre:"Crear Premio"}},{path:"premios/visualizar/:id",component:No,canActivate:[I,v.c],data:{Permiso_nombre:"Ver Premio"}},{path:"premios/editar/:id",component:Oo,canActivate:[I,v.c],data:{Permiso_nombre:"Editar Premio"}},{path:"probabilidades",component:zo,canActivate:[v.c]},{path:"premios/condicion",component:(()=>{class n{constructor(t,i,r,a,c,m,d){this.router=t,this.dialog=i,this.snackbar=r,this.premiosSrv=a,this.dialogService=c,this.permisos_api=m,this.premiosCondicionSrv=d,this.Filters=[{id:"?is_approved=false",name:"Premios Condicionados Pendientes"},{id:"?is_approved=true",name:"Premios Condicionados Finalizados"},{id:"?ordering=start_date",name:"Premios Condicionados por Fecha de Inicio"},{id:"?ordering=end_date",name:"Premios Condicionados por Fecha de Finalizaci\xf3n"}],this.filter_default="?ordering=start_date",this.Titulo="Premios Condicionados",this.displayedColumns=["id","award","game","start_date","end_date","is_approved","Acciones"],this.permisos=[]}ngOnInit(){this.cargarPremios(this.filter_default)}cargarPremios(t){this.premiosCondicionSrv.getAwardConditionFilter(t).subscribe(i=>{this.dataSource=new l.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}filter(t){this.cargarPremios(t)}agregarPremios(){this.router.navigate(["dashboard/premios/condicion/crear"])}verPremios(t){this.router.navigate(["dashboard/premios/condicion/visualizar",t])}editarPremios(t){this.router.navigate(["dashboard/premios/condicion/editar",t])}eliminarPremios(t){var i=this;return T(function*(){yield i.Permisoeliminar(),console.log(i.permisos.length),i.permisos.length>0?(i.dialogService.open({title:"ELIMINAR PREMIO",message:"ESTA SEGURO QUE QUIERE ELIMINAR EL PREMIO?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),i.dialogService.confirmed().subscribe(a=>{a&&i.premiosCondicionSrv.deleteAwardCondition(t).subscribe(c=>{i.snackbar.mensaje("Premio Condicionado Eliminado Existosamente"),i.cargarPremios(i.filter_default)},c=>{i.dialogService.error(c.error),i.cargarPremios(i.filter_default)})})):i.snackbar.mensaje("No tienes permisos para Eliminar Premios Condicionados")})()}Permisoeliminar(){var t=this;return T(function*(){let i=Number(localStorage.getItem("rol_id")),r=yield F(t.permisos_api.getPermisosbyName("Eliminar Condicion de Premio")),a=Number(r[0].id);const c=yield F(t.permisos_api.getPermisosbyRolandPermission(i,a));t.permisos=c})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.F0),e.Y36(k.uw),e.Y36(h.o),e.Y36(S),e.Y36(Z),e.Y36(j),e.Y36(W))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-awards-condition"]],viewQuery:function(t,i){if(1&t&&(e.Gf(M.NW,5),e.Gf(x.YE,5)),2&t){let r;e.iGM(r=e.CRH())&&(i.paginator=r.first),e.iGM(r=e.CRH())&&(i.sort=r.first)}},decls:48,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","award"],["matColumnDef","game"],["matColumnDef","start_date"],["matColumnDef","end_date"],["matColumnDef","is_approved"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.agregarPremios()}),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-icon"),e._uU(9,"add"),e.qZA()(),e.TgZ(10,"span"),e._uU(11,"Agregar Premio Condicionado"),e.qZA()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"mat-select",8),e.NdJ("selectionChange",function(a){return i.filter(a.value)}),e.YNc(15,rr,2,2,"mat-option",9),e.qZA()(),e.TgZ(16,"div",10)(17,"input",11,12),e.NdJ("keyup",function(a){return i.aplicarFiltro(a)}),e.qZA(),e.TgZ(19,"mat-icon",13),e._uU(20," search "),e.qZA()()(),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,ar,2,0,"th",17),e.YNc(25,sr,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,cr,2,0,"th",17),e.YNc(28,lr,2,1,"td",18),e.BQk(),e.ynx(29,20),e.YNc(30,mr,2,0,"th",17),e.YNc(31,pr,2,1,"td",18),e.BQk(),e.ynx(32,21),e.YNc(33,ur,2,0,"th",17),e.YNc(34,dr,2,1,"td",18),e.BQk(),e.ynx(35,22),e.YNc(36,gr,2,0,"th",17),e.YNc(37,_r,2,1,"td",18),e.BQk(),e.ynx(38,23),e.YNc(39,fr,2,0,"th",17),e.YNc(40,br,4,2,"td",18),e.BQk(),e.ynx(41,24),e.YNc(42,Zr,1,0,"th",25),e.YNc(43,vr,11,0,"td",18),e.BQk(),e.YNc(44,Tr,1,0,"tr",26),e.YNc(45,Ar,1,0,"tr",27),e.YNc(46,yr,3,1,"tr",28),e.qZA(),e._UZ(47,"mat-paginator",29),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,xr)))},dependencies:[p.sg,p.O5,U.Nt,b.Hw,C.lW,f.Ye,l.BZ,l.fO,l.as,l.w1,l.Dz,l.nj,l.ge,l.ev,l.XQ,l.Gk,l.Ee,L.gM,M.NW,x.YE,x.nU,A.gD,y.ey],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})(),canActivate:[v.c]},{path:"premios/condicion/crear",component:(()=>{class n{constructor(t,i,r,a,c,m){this.fb=t,this.awardConditionSrv=i,this.awardSrv=r,this.snackbar=a,this.dialogService=c,this.router=m,this.minDate=new Date,this.minDatefin=new Date,this.img_upload="assets/img/regalo.png",this.previsulizacion=this.img_upload,this.stock_actual=0,this.award_name="",this.startDate=new Date,this.endDate=new Date,this.beginDate=new Date,this.finishDate=new Date,this.award_condition=[],this.form=this.fb.group({startTime:["",s.kI.required],endTime:["",s.kI.required],award:["",s.kI.required]})}ngOnInit(){this.getAward();let t=(new Date).getFullYear(),i=(new Date).getMonth(),r=(new Date).getDate();this.minDate=new Date(t,i,r),this.minDatefin=new Date(t,i,r),this.finishDate=new Date(t,i,r)}changetime(){var t=this;return T(function*(){let i=t.form.value.startTime.hour,r=t.form.value.startTime.minute,a=t.form.value.endTime.hour,c=t.form.value.endTime.minute,m=t.beginDate.toISOString().split("T")[0];const[d,q,O]=m.split("-");let ie=t.finishDate.toISOString().split("T")[0];const[le,me,pe]=ie.split("-");t.startDate=new Date(parseInt(d),parseInt(q)-1,parseInt(O),parseInt(i),parseInt(r)),t.endDate=new Date(parseInt(le),parseInt(me)-1,parseInt(pe),parseInt(a),parseInt(c))})()}create(){var t=this;return T(function*(){t.form.valid?(yield t.changetime(),t.dialogService.open({title:"CREAR PREMIO CONDICIONADO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO PREMIO CONDICIONADO?",cancelText:"CANCELAR",confirmText:"CREAR"}),t.dialogService.confirmed().subscribe(r=>{if(r){let a=new FormData,c=1,m=localStorage.getItem("user_id");a.append("start_date",t.startDate.toISOString().split(".")[0]),a.append("end_date",t.endDate.toISOString().split(".")[0]),a.append("award",t.form.get("award")?.value),a.append("game",c.toString()),a.append("user_register",m),a.append("user_modify",m),t.awardConditionSrv.postAwardCondition(a).subscribe(d=>{t.snackbar.mensaje("Premio Condicionado Creado Exitosamente"),t.router.navigate(["dashboard/premios/condicion"])},d=>{t.dialogService.error(d.error)})}})):t.snackbar.mensaje("Complete todos los campos")})()}getAward(){this.awardConditionSrv.getAward().subscribe(t=>{this.award_condition=t})}imgAward(t){this.awardSrv.getAwardbyId(t).subscribe(i=>{this.previsulizacion=i.imagen,this.stock_actual=i.current_stock,this.award_name=i.name})}cancel(){this.router.navigate(["dashboard/premios/condicion"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(W),e.Y36(S),e.Y36(h.o),e.Y36(Z),e.Y36(g.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-awards-condition"]],decls:48,vars:12,consts:[[1,"example-spacer"],[3,"formGroup"],[1,"condition_container"],[1,"container"],[1,"register_container"],[1,"form_container"],["formControlName","award","mat-select","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"img_container"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"date_container"],[1,"calendar"],[1,"input-date","green-primary"],[1,"calendar__card"],[1,"demo-inline-calendar-card","background-navy-primary","green-primary"],[1,"green-primary",3,"selected","minDate","selectedChange"],[1,"time_container"],["formControlName","startTime",1,"time",3,"meridian"],["formControlName","endTime",3,"meridian"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Nueva Condici\xf3n"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"form",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"mat-form-field")(10,"label"),e._uU(11,"Premios"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"label"),e._uU(14),e.qZA(),e.TgZ(15,"mat-select",6),e.NdJ("selectionChange",function(a){return i.imgAward(a.value)}),e.YNc(16,Ur,2,2,"mat-option",7),e.qZA(),e.TgZ(17,"mat-hint"),e._uU(18,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(19,wr,2,0,"mat-error",8),e.qZA()(),e.TgZ(20,"div",9),e._UZ(21,"img",10),e.qZA()(),e.TgZ(22,"div",11)(23,"button",12),e.NdJ("click",function(){return i.cancel()}),e.TgZ(24,"mat-icon"),e._uU(25,"close"),e.qZA(),e._uU(26," Cancelar "),e.qZA(),e.TgZ(27,"button",13),e.NdJ("click",function(){return i.create()}),e.TgZ(28,"mat-icon"),e._uU(29,"done"),e.qZA(),e._uU(30," Crear "),e.qZA()()(),e.TgZ(31,"div",14)(32,"div",15)(33,"p",16),e._uU(34,"Fecha Inicio"),e.qZA(),e.TgZ(35,"div",17)(36,"mat-card",18)(37,"mat-calendar",19),e.NdJ("selectedChange",function(a){return i.beginDate=a}),e.qZA()()(),e.TgZ(38,"div",20),e._UZ(39,"ngb-timepicker",21),e.qZA()(),e.TgZ(40,"div",15)(41,"p",16),e._uU(42,"Fecha Fin"),e.qZA(),e.TgZ(43,"div",17)(44,"mat-card",18)(45,"mat-calendar",19),e.NdJ("selectedChange",function(a){return i.finishDate=a}),e.qZA()()(),e.TgZ(46,"div",20),e._UZ(47,"ngb-timepicker",22),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(10),e.AsE("Hay ",i.stock_actual," del premio: ",i.award_name,""),e.xp6(2),e.Q6J("ngForOf",i.award_condition),e.xp6(3),e.Q6J("ngIf",i.form.controls.award.hasError("required")),e.xp6(2),e.Q6J("src",i.previsulizacion,e.LSH),e.xp6(16),e.Q6J("selected",i.beginDate)("minDate",i.minDate),e.xp6(2),e.Q6J("meridian",!0),e.xp6(6),e.Q6J("selected",i.finishDate)("minDate",i.minDatefin),e.xp6(2),e.Q6J("meridian",!0))},dependencies:[p.sg,p.O5,s._Y,s.JJ,s.JL,s.sg,s.u,u.TO,u.KE,u.bx,b.Hw,C.lW,f.Ye,A.gD,y.ey,w.a8,re._H,fe.Pm],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.condition_container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row}.date_container[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:row;justify-content:space-around}.container[_ngcontent-%COMP%]{margin-top:20px;width:60%;display:flex;flex-direction:column}.register_container[_ngcontent-%COMP%]{margin-top:20px;width:100%;display:flex;flex-direction:row}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:45%}.input-date[_ngcontent-%COMP%]{margin-top:20px;padding:.5rem 1.5rem;border:1px solid var(--color-principal);border-radius:15px;text-align:center}.calendar__card[_ngcontent-%COMP%]{padding:0 1rem}.time_container[_ngcontent-%COMP%]{display:flex;justify-content:center}.time[_ngcontent-%COMP%]{color:var(--color-principal)}.mat-form-field[_ngcontent-%COMP%]{width:95%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.form_container[_ngcontent-%COMP%]{width:40%}.img_container[_ngcontent-%COMP%]{display:flex;width:60%;height:250px}.img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% auto auto;width:85%;height:100%;border-radius:10px;object-fit:fill}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:10% 15px 15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})(),canActivate:[I,v.c],data:{Permiso_nombre:"Crear Condicion de Premio"}},{path:"premios/condicion/visualizar/:id",component:(()=>{class n{constructor(t,i,r,a,c,m,d){this.fb=t,this.awardConditionSrv=i,this.awardSrv=r,this.snackbar=a,this.dialogService=c,this.router=m,this.activerouter=d,this.award_name="",this.award_condition_id=Number(this.activerouter.snapshot.paramMap.get("id")),this.award_image=""}ngOnInit(){var t=this;return T(function*(){yield t.getAwardConditionId(t.award_condition_id)})()}getAwardConditionId(t){var i=this;return T(function*(){i.awardConditionSrv.getAwardConditionbyId(t).subscribe(r=>{i.getAward(r.award),i.award_condition=r},r=>{i.dialogService.error(r.error)})})()}getAward(t){this.awardSrv.getAwardbyId(t).subscribe(i=>{this.award_image=i.imagen,this.award_name=i.name})}backAwardCondition(){this.router.navigate(["/dashboard/premios/condicion"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(W),e.Y36(S),e.Y36(h.o),e.Y36(Z),e.Y36(g.F0),e.Y36(g.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-awards-condition"]],decls:81,vars:12,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[1,"container"],[1,"datos"],["role","listitem"],[4,"ngIf","ngIfElse"],["sinmodificar",""],[1,"container_img"],["alt","",3,"src"],[1,"container_botones"],["mat-raised-button","",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Visualizar Premio Condicionado"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"mat-card",2)(6,"div",3)(7,"div")(8,"div",4)(9,"div",5)(10,"mat-label"),e._uU(11,"Nombre"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"mat-list-item",6),e._uU(14),e.qZA()(),e.TgZ(15,"div",5)(16,"mat-label"),e._uU(17,"Juego"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"mat-list-item",6),e._uU(20),e.qZA()()(),e.TgZ(21,"div",4)(22,"div",5)(23,"mat-label"),e._uU(24,"Fecha de Inicio"),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"mat-list-item",6),e._uU(27),e.qZA()(),e.TgZ(28,"div",5)(29,"mat-label"),e._uU(30,"Fecha de Fin"),e.qZA(),e._UZ(31,"br"),e.TgZ(32,"mat-list-item",6),e._uU(33),e.qZA()()(),e.TgZ(34,"div",4)(35,"div",5)(36,"mat-label"),e._uU(37,"Usuario que registr\xf3 la condici\xf3n"),e.qZA(),e._UZ(38,"br"),e.TgZ(39,"mat-list-item",6),e._uU(40),e.qZA()(),e.TgZ(41,"div",5)(42,"mat-label"),e._uU(43,"\xdaltimo usuario que modific\xf3 la condici\xf3n"),e.qZA(),e._UZ(44,"br"),e.TgZ(45,"mat-list-item",6),e._uU(46),e.qZA()()(),e.TgZ(47,"div",4)(48,"div",5)(49,"mat-label"),e._uU(50,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(51,"br"),e.TgZ(52,"mat-list-item",6),e._uU(53),e.qZA()(),e.TgZ(54,"div",5)(55,"mat-label"),e._uU(56,"\xdaltima Modificaci\xf3n"),e.qZA(),e._UZ(57,"br"),e.TgZ(58,"mat-list-item",6),e._uU(59),e.qZA()()(),e.TgZ(60,"div",4)(61,"div",5)(62,"mat-label"),e._uU(63,"Duraci\xf3n"),e.qZA(),e._UZ(64,"br"),e.TgZ(65,"mat-list-item",6),e._uU(66),e.qZA()(),e.TgZ(67,"div",5)(68,"mat-label"),e._uU(69,"Estado"),e.qZA(),e._UZ(70,"br"),e.YNc(71,Pr,3,0,"div",7),e.YNc(72,kr,2,0,"ng-template",null,8,e.W1O),e.qZA()()(),e.TgZ(74,"div",9),e._UZ(75,"img",10),e.qZA()(),e.TgZ(76,"div",11)(77,"button",12),e.NdJ("click",function(){return i.backAwardCondition()}),e.TgZ(78,"mat-icon"),e._uU(79,"close"),e.qZA(),e._uU(80," Salir "),e.qZA()()()()),2&t){const r=e.MAs(73);e.xp6(14),e.Oqu(i.award_name),e.xp6(6),e.Oqu(i.award_condition.game),e.xp6(7),e.Oqu(i.award_condition.start_date),e.xp6(6),e.Oqu(i.award_condition.end_date),e.xp6(7),e.Oqu(i.award_condition.user_register),e.xp6(6),e.Oqu(i.award_condition.user_modify),e.xp6(7),e.Oqu(i.award_condition.created),e.xp6(6),e.Oqu(i.award_condition.modified),e.xp6(7),e.hij("",i.award_condition.duration," d\xedas"),e.xp6(5),e.Q6J("ngIf",i.award_condition.is_approved)("ngIfElse",r),e.xp6(4),e.Q6J("src",i.award_image,e.LSH)}},dependencies:[p.O5,u.hX,b.Hw,C.lW,f.Ye,E.Tg,w.a8],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:20px}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background-color:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.container_img[_ngcontent-%COMP%]{width:500px;height:350px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.mat-list-item[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}button[_ngcontent-%COMP%]{margin-top:25px;background:var(--color-cafe);color:var(--color-letras)}button[_ngcontent-%COMP%]:hover{background:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})(),canActivate:[I,v.c],data:{Permiso_nombre:"Ver Condicion de Premio"}},{path:"premios/condicion/editar/:id",component:ke,canActivate:[I,v.c],data:{Permiso_nombre:"Editar Condicion de Premio"}},{path:"juego/fecha",component:or},{path:"juego/seleccion",component:Xi},{path:"juego/publicidad",component:tn},{path:"juego/salvapantallas",component:(()=>{class n{constructor(t,i,r,a,c,m,d){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=r,this.dialogService=a,this.theme=c,this.dashStyle=m,this.imageSrv=d,this.isUpload=!0,this.buttonTitle="",this.previsulizacion=""}ngOnInit(){this.publicity.getPublicityList().subscribe(t=>{console.log(t[0]),this.dashboardPublicityService.loadData(t),this.dashboardPublicityService.changeTopPublicityImage(t[0].image),this.dashboardPublicityService.changeBottomPublicityImage(t[1].image),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.buttonTitle=this.dashStyle.get_title_button_screensaver(),this.previsulizacion=this.dashStyle.get_video_screensaver(),console.log(i[0])})})}updateSaveScreen(){this.dialogService.open({title:"ACTUALIZAR Salvapantallas",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL SALVAPANTALLAS?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i&&this.fileToUpload){let r=new FormData;r.append("id","1"),r.append("video_screensaver",this.dashStyle.getVideoScreensaverFile(),this.dashStyle.getVideoScreensaverFile().name),r.append("title_button_screensaver",this.buttonTitle),r.append("color_background_game",this.dashStyle.get_color_background_game()),r.append("color_text",this.dashStyle.get_color_text()),r.append("title_winner",this.dashStyle.get_title_winner()),r.append("description_winner",this.dashStyle.get_description_winner()),r.append("date_modified",(new Date).toISOString()),r.append("is_active","true"),r.append("game_id","1"),this.theme.updateDesgin(1,r),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}else if(i&&!this.fileToUpload){let r=new FormData;r.append("id","1"),r.append("title_button_screensaver",this.buttonTitle),r.append("color_background_game",this.dashStyle.get_color_background_game()),r.append("color_text",this.dashStyle.get_color_text()),r.append("title_winner",this.dashStyle.get_title_winner()),r.append("description_winner",this.dashStyle.get_description_winner()),r.append("date_modified",(new Date).toISOString()),r.append("is_active","true"),r.append("game_id","1"),this.theme.updateDesgin(1,r),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}})}capturarFile(t){this.fileToUpload=this.imageSrv.captureVideoFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base,this.dashStyle.setVideoScreensaverFile(this.fileToUpload)})):(this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten videos"))}toggleUpload(){this.isUpload=!this.isUpload}onChangeNameButton(t){this.buttonTitle=t.target.value}cancel(){this.previsulizacion=this.dashStyle.get_video_screensaver(),this.buttonTitle=this.dashStyle.get_title_button_screensaver()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R),e.Y36(G),e.Y36(h.o),e.Y36(Z),e.Y36(H),e.Y36(V),e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-save-screen"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ir,5),2&t){let r;e.iGM(r=e.CRH())&&(i.InputVar=r.first)}},decls:31,vars:14,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","white-color"],[1,"savescreen-info__container"],[1,"savescreen-info__video-option"],[1,"green-primary","video-option",3,"ngClass","click"],["class","file-select","id","src-file1",4,"ngIf"],["class","url-select",4,"ngIf"],["type","text","placeholder","Nombre del boton",1,"input-global",3,"ngModel","ngModelChange"],["buttonInput","ngModel"],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#d4d4d4",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop"],[1,"view-menu"],["autoplay","true",1,"video",3,"loop","src"],["styledPadding",".5rem .5rem","fontSize","1rem",1,"menu-btn",3,"title"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],[1,"url-select"],["for","url",1,"color-white"],["type","text","name","url","placeholder","url video",1,"input-global"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"SALVAPANTALLAS"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"p",4),e._uU(7,"Video:"),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"p",7),e.NdJ("click",function(){return i.toggleUpload()}),e._uU(11," Subir video "),e.qZA(),e.TgZ(12,"p",7),e.NdJ("click",function(){return i.toggleUpload()}),e._uU(13," Copiar url "),e.qZA()(),e.YNc(14,Nr,3,0,"div",8),e.YNc(15,Sr,4,0,"div",9),e.qZA(),e.TgZ(16,"p",4),e._uU(17,"Nombre del Boton:"),e.qZA(),e.TgZ(18,"div",5)(19,"input",10,11),e.NdJ("ngModelChange",function(a){return i.buttonTitle=a}),e.qZA(),e.TgZ(21,"div",12)(22,"app-button-primary",13),e.NdJ("click",function(){return i.updateSaveScreen()}),e.qZA(),e.TgZ(23,"app-button-primary",14),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(24,"div",15)(25,"div",16),e._UZ(26,"app-banner-publicity",17),e.TgZ(27,"div",18),e._UZ(28,"video",19)(29,"app-button-game",20),e.qZA(),e._UZ(30,"app-banner-publicity",17),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("ngClass",e.VKq(10,he,i.isUpload)),e.xp6(2),e.Q6J("ngClass",e.VKq(12,he,!i.isUpload)),e.xp6(2),e.Q6J("ngIf",i.isUpload),e.xp6(1),e.Q6J("ngIf",!i.isUpload),e.xp6(4),e.Q6J("ngModel",i.buttonTitle),e.xp6(7),e.Q6J("isTop",!0),e.xp6(2),e.Q6J("loop",!0)("src",i.previsulizacion,e.LSH),e.xp6(1),e.Q6J("title",i.buttonTitle),e.xp6(1),e.Q6J("isTop",!1))},dependencies:[p.mk,p.O5,s.Fj,s.JJ,f.Ye,s.On,Q,$,B],styles:['.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:1.5rem;padding-left:.5rem}.video-option[_ngcontent-%COMP%]:hover{cursor:pointer}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;background-color:gray;height:20rem}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona un Video(Mp4)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.video[_ngcontent-%COMP%]{width:100%;height:100%}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 62px);bottom:25px}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:1rem}']}),n})()},{path:"juego/scan",component:(()=>{class n{constructor(t,i,r,a,c,m,d){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=r,this.dialogService=a,this.theme=c,this.dashStyle=m,this.imageSrv=d,this.title="",this.description=""}ngOnInit(){this.publicity.getPublicityList().subscribe(t=>{console.log(t[0]),this.dashboardPublicityService.loadData(t),this.dashboardPublicityService.changeTopPublicityImage(t[0].image),this.dashboardPublicityService.changeBottomPublicityImage(t[1].image),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.title=this.dashStyle.get_scan_code_title(),this.description=this.dashStyle.get_scan_code_description(),console.log(i[0])})})}updateScanScreen(){this.dialogService.open({title:"ACTUALIZAR SCANNER",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR INFORMACION DE ESCANER",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let r=new FormData;r.append("id","1"),r.append("scan_code_title",this.title),r.append("scan_code_description",this.description),r.append("date_modified",(new Date).toISOString()),r.append("game_id","1"),this.theme.updateDesgin(1,r),this.snackbar.mensaje("Informacion Escaner Actualizada exitosamente")}})}cancel(){this.title=this.dashStyle.get_scan_code_title(),this.description=this.dashStyle.get_scan_code_description()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R),e.Y36(G),e.Y36(h.o),e.Y36(Z),e.Y36(H),e.Y36(V),e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-scan-code"]],decls:34,vars:9,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","green-primary"],[1,"savescreen-info__container"],[1,"url-select"],["type","text","name","titulo",1,"input-global",3,"ngModel","ngModelChange"],["type","text","placeholder","Nombre del boton",1,"input-global","description-input",3,"ngModel","ngModelChange"],["buttonInput","ngModel"],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#d4d4d4",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop"],[1,"view-menu"],["height","1.5rem",1,"logo-container",3,"isHome","isBackground","urlImage"],[1,"menu-info","color-white"],[1,"scan_title"],[1,"explication-text"],[1,"menu-container_scan-img-container"],["src","../../../../assets//img//codigoQR.png","alt","scan-logo",1,"menu-container_scan-img"],["type","text","placeholder","Ingresar codigo...",1,"btn","menu__input"],["title","continuar","fontSize","1rem","styledPadding",".5rem 1rem"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Escaneo Codigo"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"p",4),e._uU(7,"Titulo:"),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"input",7),e.NdJ("ngModelChange",function(a){return i.title=a}),e.qZA()()(),e.TgZ(11,"p",4),e._uU(12,"Descripci\xf3n:"),e.qZA(),e.TgZ(13,"div",5)(14,"input",8,9),e.NdJ("ngModelChange",function(a){return i.description=a}),e.qZA(),e.TgZ(16,"div",10)(17,"app-button-primary",11),e.NdJ("click",function(){return i.updateScanScreen()}),e.qZA(),e.TgZ(18,"app-button-primary",12),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(19,"div",13)(20,"div",14),e._UZ(21,"app-banner-publicity",15),e.TgZ(22,"div",16),e._UZ(23,"app-logo",17),e.TgZ(24,"div",18)(25,"h2",19),e._uU(26),e.qZA(),e.TgZ(27,"p",20),e._uU(28),e.qZA()(),e.TgZ(29,"figure",21),e._UZ(30,"img",22),e.qZA(),e._UZ(31,"input",23)(32,"app-button-game",24),e.qZA(),e._UZ(33,"app-banner-publicity",15),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("ngModel",i.title),e.xp6(4),e.Q6J("ngModel",i.description),e.xp6(7),e.Q6J("isTop",!0),e.xp6(2),e.Q6J("isHome",!1)("isBackground",!1)("urlImage",i.dashStyle.get_image_logo_game()),e.xp6(3),e.Oqu(i.title),e.xp6(2),e.hij(" ",i.description," "),e.xp6(5),e.Q6J("isTop",!1))},dependencies:[s.Fj,s.JJ,f.Ye,s.On,Q,$,ne,B],styles:[".publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:1.5rem;padding-left:.5rem}.video-option[_ngcontent-%COMP%]:hover{cursor:pointer}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:15px;align-items:center;height:20rem}.logo-container[_ngcontent-%COMP%]{margin-right:3rem;height:2.5rem}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:14rem}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 62px);bottom:25px}.menu-container_scan-img-container[_ngcontent-%COMP%]{height:3rem;width:3rem}.menu__input[_ngcontent-%COMP%]{border:3px solid red;outline:none;border-radius:13px;background-color:#000;color:#fff;padding:.2rem .5rem}.menu__input[_ngcontent-%COMP%]::placeholder{color:#fff}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}"]}),n})()},{path:"juego/diseno",component:(()=>{class n{constructor(t,i,r,a,c,m,d){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=r,this.dialogService=a,this.theme=c,this.dashStyle=m,this.imageSrv=d,this.availableSpin="Disponible 1 Giro m\xe1s!",this.fontFamily="",this.colorText="",this.previsulizacion=""}ngOnInit(){this.publicity.getPublicityList().subscribe(t=>{console.log(t[0]),this.dashboardPublicityService.loadData(t),this.dashboardPublicityService.changeTopPublicityImage(t[0].image),this.dashboardPublicityService.changeBottomPublicityImage(t[1].image),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.previsulizacion=this.dashStyle.get_image_machine_game(),this.fontFamily=this.dashStyle.get_font_letter(),this.colorText=this.dashStyle.get_color_text(),console.log(i[0])})})}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base,this.dashStyle.setImageMchineGameFile(this.fileToUpload)})):(this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}updateDesign(){this.dialogService.open({title:"ACTUALIZAR Salvapantallas",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL SALVAPANTALLAS?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i&&this.fileToUpload){let r=new FormData;r.append("id","1"),r.append("image_machine_game",this.dashStyle.getImageMachineGameFile(),this.dashStyle.getImageMachineGameFile().name),r.append("color_text",this.colorText),r.append("font_letter",this.fontFamily),r.append("date_modified",(new Date).toISOString()),r.append("is_active","true"),r.append("game_id","1"),this.theme.updateDesgin(1,r),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}else if(i&&!this.fileToUpload){let r=new FormData;r.append("id","1"),r.append("color_text",this.colorText),r.append("font_letter",this.fontFamily),r.append("date_modified",(new Date).toISOString()),r.append("is_active","true"),r.append("game_id","1"),this.theme.updateDesgin(1,r),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}})}previewChangeFontLetter(t){this.fontFamily=t.target.value}previewChangeColorLetter(t){this.colorText=t.target.value}cancel(){this.fontFamily=this.dashStyle.get_font_letter(),this.colorText=this.dashStyle.get_color_text()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R),e.Y36(G),e.Y36(h.o),e.Y36(Z),e.Y36(H),e.Y36(V),e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-design"]],viewQuery:function(t,i){if(1&t&&e.Gf(Yr,5),2&t){let r;e.iGM(r=e.CRH())&&(i.InputVar=r.first)}},decls:97,vars:11,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","white-color"],[1,"savescreen-info__container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],["name","fuentes","placeholder","seleccione fuente de letra",1,"input-global",3,"change"],["default","","value","---"],["value","Arial"],["value","Times New Roman"],["value","Helvetica"],["value","Cambria"],["value","Century Gothic"],["value","Didot"],["value","Bodoni"],["value","Candara"],["value","Optima"],["value","Quicksand"],["value","Courier New"],["value","Rockwel"],["value","Copperplate"],["name","colores","placeholder","seleccione color letras",1,"input-global",3,"change"],["value","black"],["value","white"],["value","blue"],["value","brown"],["value","grey"],["value","green"],["value","purple"],["value","red"],["value","yellow"],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#d4d4d4",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop"],[1,"view-menu"],["height","1.5rem",1,"logo-container",3,"isHome","isBackground","urlImage"],[1,"information-game-container"],[1,"info-game__text"],[1,"info-game__text",3,"ngStyle"],[1,"spinner__container"],[1,"award-box-container"],["alt","cajon-premios",1,"awards-box",3,"src"],[1,"awards-container"],[1,"awards-column"],[1,"award-image-container"],["src","../../../../../assets/img/logoejemplo.png","alt",""],["title","Girar","styledPadding",".5rem 1rem","fontSize","1rem",1,"menu-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"winner-design works!"),e.qZA(),e.TgZ(2,"mat-toolbar",0)(3,"span"),e._uU(4,"Dise\xf1o"),e.qZA(),e._UZ(5,"span",1),e.qZA(),e.TgZ(6,"div",2)(7,"div",3)(8,"p",4),e._uU(9,"Diseno:"),e.qZA(),e.TgZ(10,"div",5)(11,"p",4),e._uU(12,"Imagen Maquina:"),e.qZA(),e.TgZ(13,"div",6)(14,"input",7,8),e.NdJ("change",function(a){return i.capturarFile(a)}),e.qZA()(),e.TgZ(16,"p",4),e._uU(17,"Fuente Letra:"),e.qZA(),e.TgZ(18,"select",9),e.NdJ("change",function(a){return i.previewChangeFontLetter(a)}),e.TgZ(19,"option",10),e._uU(20,"Seleccione fuente de letra"),e.qZA(),e.TgZ(21,"option",11),e._uU(22,"Arial"),e.qZA(),e.TgZ(23,"option",12),e._uU(24,"Times New Roman"),e.qZA(),e.TgZ(25,"option",13),e._uU(26,"Helvetica"),e.qZA(),e.TgZ(27,"option",14),e._uU(28,"Cambria"),e.qZA(),e.TgZ(29,"option",15),e._uU(30,"Century Gothic"),e.qZA(),e.TgZ(31,"option",16),e._uU(32,"Didot"),e.qZA(),e.TgZ(33,"option",17),e._uU(34,"Bodoni"),e.qZA(),e.TgZ(35,"option",18),e._uU(36,"Candara"),e.qZA(),e.TgZ(37,"option",19),e._uU(38,"Optima"),e.qZA(),e.TgZ(39,"option",20),e._uU(40,"Quicksand"),e.qZA(),e.TgZ(41,"option",21),e._uU(42,"Courier New"),e.qZA(),e.TgZ(43,"option",22),e._uU(44,"Rockwel"),e.qZA(),e.TgZ(45,"option",23),e._uU(46,"Copperplate"),e.qZA()(),e.TgZ(47,"p",4),e._uU(48,"Color Texto:"),e.qZA(),e.TgZ(49,"select",24),e.NdJ("change",function(a){return i.previewChangeColorLetter(a)}),e.TgZ(50,"option",10),e._uU(51,"Seleccione color de letra"),e.qZA(),e.TgZ(52,"option",25),e._uU(53,"Black"),e.qZA(),e.TgZ(54,"option",26),e._uU(55,"White"),e.qZA(),e.TgZ(56,"option",27),e._uU(57,"Blue"),e.qZA(),e.TgZ(58,"option",28),e._uU(59,"Brown"),e.qZA(),e.TgZ(60,"option",29),e._uU(61,"Grey"),e.qZA(),e.TgZ(62,"option",30),e._uU(63,"Green"),e.qZA(),e.TgZ(64,"option",31),e._uU(65,"Purple"),e.qZA(),e.TgZ(66,"option",32),e._uU(67,"Red"),e.qZA(),e.TgZ(68,"option",33),e._uU(69,"Yellow"),e.qZA()(),e.TgZ(70,"div",34)(71,"app-button-primary",35),e.NdJ("click",function(){return i.updateDesign()}),e.qZA(),e.TgZ(72,"app-button-primary",36),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(73,"div",37)(74,"div",38),e._UZ(75,"app-banner-publicity",39),e.TgZ(76,"div",40),e._UZ(77,"app-logo",41),e.TgZ(78,"div",42)(79,"div",43)(80,"p",44),e._uU(81),e.qZA()()(),e.TgZ(82,"div",45)(83,"figure",46),e._UZ(84,"img",47),e.qZA(),e.TgZ(85,"div",48)(86,"div",49)(87,"figure",50),e._UZ(88,"img",51),e.qZA()(),e.TgZ(89,"div",49)(90,"figure",50),e._UZ(91,"img",51),e.qZA()(),e.TgZ(92,"div",49)(93,"figure",50),e._UZ(94,"img",51),e.qZA()()()(),e._UZ(95,"app-button-game",52),e.qZA(),e._UZ(96,"app-banner-publicity",39),e.qZA()()()),2&t&&(e.xp6(75),e.Q6J("isTop",!0),e.xp6(2),e.Q6J("isHome",!1)("isBackground",!1)("urlImage",i.dashStyle.get_image_logo_game()),e.xp6(3),e.Q6J("ngStyle",e.WLB(8,Dr,i.fontFamily,i.colorText)),e.xp6(1),e.hij(" ",i.availableSpin," "),e.xp6(3),e.Q6J("src",i.previsulizacion,e.LSH),e.xp6(12),e.Q6J("isTop",!1))},dependencies:[p.PC,s.YN,s.Kr,f.Ye,Q,$,ne,B],styles:['.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:.5rem;padding-left:.5rem}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:15px;align-items:center;height:20rem}.logo-container[_ngcontent-%COMP%]{margin-right:3rem;height:2.5rem}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:14rem}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 23px);bottom:25px}.menu-container_scan-img-container[_ngcontent-%COMP%]{height:3rem;width:3rem}.menu__input[_ngcontent-%COMP%]{border:3px solid red;outline:none;border-radius:13px;background-color:#000;color:#fff;padding:.2rem .5rem}.menu__input[_ngcontent-%COMP%]::placeholder{color:#fff}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}img[_ngcontent-%COMP%]{width:100%;height:100%}figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png, jpg, jpeg)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.information-game-container[_ngcontent-%COMP%]{background-color:#ffaf00;width:100%;display:flex;justify-content:center;height:2rem;align-items:center}.spinner__container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;height:47%;width:100%;max-height:202px}.awards-container[_ngcontent-%COMP%]{position:absolute;top:46px;left:calc(50% - 118px);display:flex;justify-content:center;gap:1.5rem;z-index:4;overflow:hidden}.awards-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;height:6rem;animation-duration:4s;animation-name:slidevertical;animation-iteration-count:infinite}.award-image-container[_ngcontent-%COMP%]{height:3rem;width:4rem}.award-box-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-width:766px}']}),n})()},{path:"juego/diseno/ganador",component:we}]}];let Qr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.Bz.forChild(Jr),g.Bz]}),n})(),Gr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Ce.m,p.ez,Qr,be.B]}),n})()}}]);