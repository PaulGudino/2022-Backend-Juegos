"use strict";(self.webpackChunkFrontend_Juegos_2022=self.webpackChunkFrontend_Juegos_2022||[]).push([[43],{5043:(Gs,fe,g)=>{g.r(fe),g.d(fe,{DashboardModule:()=>js});var Ae=g(5906),xe=g(8602),d=g(6895),e=g(4650);let we=(()=>{class n{canActivate(t,i){return"1"!=sessionStorage.getItem("user_id")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var s=g(4006),I=g(501),q=g(6308),m=g(7155),Q=g(3867),W=g(9760),h=g(9406),_=g(1390),f=g(9549),k=g(4144),D=g(7392),S=g(4859),C=g(3683),B=g(266),O=g(4385),P=g(3238),U=g(9602),X=g(2262),Ue=g(1782),de=g(3267),K=g(4633);function qe(n,a){1&n&&(e.TgZ(0,"div",12)(1,"ul",13)(2,"li",14)(3,"mat-icon"),e._uU(4,"settings"),e.qZA(),e.TgZ(5,"ul",15)(6,"li",16)(7,"a",17),e._uU(8,"Cambiar Contrase\xf1a"),e.qZA()()()()()())}function ke(n,a){if(1&n&&(e.TgZ(0,"a",18)(1,"mat-icon",19),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&n){const t=a.$implicit;e.Q6J("routerLink",t.ruta),e.xp6(2),e.Oqu(t.icono),e.xp6(1),e.hij(" ",t.nombre,"")}}const Pe=["*"];let v=(()=>{class n{constructor(t,i,o,r){this.api=t,this.router=i,this.staticData=o,this.auth=r,this.Titulo="Menu",this.Titulo2="App Juegos",this.menu=[],this.admin=""}ngOnInit(){this.cargarMenu(),this.admin=sessionStorage.getItem("user_id")}cargarMenu(){this.staticData.getMenu().subscribe(t=>{if("1"!=sessionStorage.getItem("rol_id"))for(let i=0;i<t.length;i++)"Usuarios"!=t[i].nombre&&"Roles"!=t[i].nombre&&this.menu.push(t[i]);else this.menu=t})}logout(){let t;if(sessionStorage.getItem("token")){let i=new FormData;t=sessionStorage.getItem("refresh"),i.append("refresh",t),this.auth.Logout(i).subscribe(o=>{this.router.navigate(["/login"]),sessionStorage.removeItem("user_id"),sessionStorage.removeItem("rol_id")},o=>console.log(o))}else this.router.navigate(["/juego"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X.s),e.Y36(_.F0),e.Y36(h.Q),e.Y36(Ue.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-menu"]],ngContentSelectors:Pe,decls:24,vars:4,consts:[[1,"example-container"],[1,"example-toolbar","background-black-primary","green-primary"],["mat-icon-button","",3,"click"],[1,"example-app-name"],[1,"example-spacer"],["class","nav-container",4,"ngIf"],[1,"example-sidenav-container","background-black-primary"],[1,"background-navy-primary"],["snav",""],["class","menu","mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],[1,"Logout"],["mat-raised-button","",3,"click"],[1,"nav-container"],[1,"nav-items"],[1,"nav-item","nav-item-dropdown"],[1,"dropdown-menu"],[1,"dropdown-menu-item"],["routerLink","/dashboard/cambiar-contrase\xf1a"],["mat-list-item","",1,"menu",3,"routerLink"],[1,"icono"]],template:function(t,i){if(1&t){const o=e.EpF();e.F$t(),e.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(14);return e.KtG(c.toggle())}),e.TgZ(3,"mat-icon"),e._uU(4,"menu"),e.qZA()(),e.TgZ(5,"h1",3),e._uU(6),e.qZA(),e._UZ(7,"span",4),e.TgZ(8,"h1",3),e._uU(9),e.qZA(),e._UZ(10,"span",4),e.YNc(11,qe,9,0,"div",5),e.qZA(),e.TgZ(12,"mat-sidenav-container",6)(13,"mat-sidenav",7,8)(15,"mat-nav-list"),e.YNc(16,ke,4,3,"a",9),e.qZA(),e.TgZ(17,"div",10)(18,"button",11),e.NdJ("click",function(){return i.logout()}),e.TgZ(19,"mat-icon"),e._uU(20,"logout"),e.qZA(),e._uU(21," CERRAR SESI\xd3N "),e.qZA()()(),e.TgZ(22,"mat-sidenav-content"),e.Hsn(23),e.qZA()()()}2&t&&(e.xp6(6),e.Oqu(i.Titulo),e.xp6(3),e.Oqu(i.Titulo2),e.xp6(2),e.Q6J("ngIf",1!=i.admin),e.xp6(5),e.Q6J("ngForOf",i.menu))},dependencies:[d.sg,d.O5,D.Hw,S.lW,C.Ye,de.JX,de.TM,de.Rh,K.Hk,K.Tg,_.yS],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;inset:0}.example-is-mobile[_ngcontent-%COMP%]   .example-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:2}h1.example-app-name[_ngcontent-%COMP%]{margin-left:8px}.example-sidenav-container[_ngcontent-%COMP%]{flex:1}.mat-sidenav[_ngcontent-%COMP%]{width:15%}.icono[_ngcontent-%COMP%]{margin-right:10px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.menu[_ngcontent-%COMP%]{color:#fff}.Logout[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;text-align:center;margin-left:25px}.Logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px;padding-bottom:15px}a[_ngcontent-%COMP%]:hover{color:var(--color-principal)}mat-sidenav[_ngcontent-%COMP%]{padding-bottom:70px}.nav-container[_ngcontent-%COMP%]{background:var(--color-fondo-principal);border-radius:4px;padding:1em;border:none;display:block;max-width:200px;margin:0 auto;text-align:center}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none;-webkit-padding-start:0}a[_ngcontent-%COMP%]{text-decoration:none}.nav-item[_ngcontent-%COMP%]{padding:1em;display:inline}.nav-item-dropdown[_ngcontent-%COMP%]{position:relative;top:10px}.nav-item-dropdown[_ngcontent-%COMP%]:hover > .dropdown-menu[_ngcontent-%COMP%]{display:block;opacity:1}.dropdown-trigger[_ngcontent-%COMP%]{position:relative}.dropdown-trigger[_ngcontent-%COMP%]:focus + .dropdown-menu[_ngcontent-%COMP%]{display:block;opacity:1}.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);display:inline-block;text-align:right;position:absolute;top:4rem;right:-30px;display:none;opacity:0;transition:opacity .5s ease;width:180px}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.dropdown-menu-item[_ngcontent-%COMP%]{cursor:pointer;padding:5px;text-align:center}.dropdown-menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-principal)}"]}),n})();function Oe(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid start date"),e.qZA())}function De(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid end date"),e.qZA())}function Me(n,a){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ie(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"Fecha de Juego"),e.qZA())}function Se(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.emision_date_match)}}function Ne(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"Jugador"),e.qZA())}function Fe(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.client_player)}}function Ee(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"# Factura"),e.qZA())}function Ye(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.invoice_number)}}function Je(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"ID Ticket"),e.qZA())}function Re(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.ticket)}}function je(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"C\xf3digo QR"),e.qZA())}function Le(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.qr)}}function Ge(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"ID Premio"),e.qZA())}function Qe(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.win_award_id)}}function Be(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"Premio"),e.qZA())}function ze(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.win_award)}}function He(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"Categoria Premio"),e.qZA())}function Ve(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.win_award_category)}}function $e(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"Premio entregado?"),e.qZA())}function We(n,a){1&n&&(e.TgZ(0,"div")(1,"div",15),e._uU(2,"Si"),e.qZA()())}function Xe(n,a){1&n&&(e.TgZ(0,"div")(1,"div",15),e._uU(2,"No"),e.qZA()())}function Ke(n,a){if(1&n&&(e.TgZ(0,"td",42),e.YNc(1,We,3,0,"div",43),e.YNc(2,Xe,3,0,"ng-template",null,44,e.W1O),e.qZA()),2&n){const t=a.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.delivered_award)("ngIfElse",i)}}function et(n,a){1&n&&e._UZ(0,"tr",45)}function tt(n,a){1&n&&e._UZ(0,"tr",46)}function it(n,a){if(1&n&&(e.TgZ(0,"tr",47)(1,"td",48),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(35);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const nt=function(){return[5,10,25,100]};let ot=(()=>{class n{constructor(t,i,o,r){this.gameDataSrv=t,this.matchSrv=i,this.staticData=o,this.router=r,this.range=new s.cw({start:new s.NI(null),end:new s.NI(null)}),this.Filters=[{id:"?date_created__date__range=&delivered=&ordering=date_created&ticket__client__id=&win_match=true",name:"Ordenado Ascendente"},{id:"?date_created__date__range=&delivered=&ordering=-date_created&ticket__client__id=&win_match=true",name:"Ordenado Descendente"}],this.filter_default="?date_created__date__range=&delivered=&ordering=-date_created&ticket__client__id=&win_match=true",this.Titulo="Historial de Premios Ganados",this.displayedColumns=["emision_date_match","client_player","invoice_number","ticket","qr","win_award_id","win_award","win_award_category","delivered_award"]}ngOnInit(){this.staticData.setMenuGeneral(),this.loadMatch(this.filter_default)}loadMatch(t){this.matchSrv.getMatchFilterClientHistory(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}filter(t){this.loadMatch(t)}date_filter(){if(console.log(this.range.value.start),console.log(this.range.value.end),this.range.value.start||this.range.value.end){let t=this.range.get("start")?.value,i=this.range.get("end")?.value,o=this.gameDataSrv.DateFormat(t).split("T")[0],r=this.gameDataSrv.DateFormat(i).split("T")[0];console.log(o),console.log(r),this.loadMatch("?win_match=true&date_created__date__range="+o+"%2C"+r)}else this.loadMatch(this.filter_default)}date_filter2(){this.range.get("start")?.setValue(null),this.range.get("end")?.setValue(null),this.loadMatch(this.filter_default)}toAward(){this.router.navigate(["/dashboard/premios/"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q.V),e.Y36(W.Q),e.Y36(h.Q),e.Y36(_.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-award-history"]],viewQuery:function(t,i){if(1&t&&(e.Gf(I.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:72,vars:12,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"date_range"],[1,"date_range_container"],[1,"date_text",3,"formGroup","rangePicker"],["matStartDate","","formControlName","start"],["matEndDate","","formControlName","end"],["matIconSuffix","",1,"green-primary",3,"for"],["picker",""],["mat-icon-button","","color","primary","matTooltip","Enviar fecha",3,"click"],[1,"green-primary"],[4,"ngIf"],[1,"filter"],["mat-select","","placeholder","Filtrar",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","emision_date_match"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","client_player"],["matColumnDef","invoice_number"],["matColumnDef","ticket"],["matColumnDef","qr"],["matColumnDef","win_award_id"],["matColumnDef","win_award"],["matColumnDef","win_award_category"],["matColumnDef","delivered_award"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.toAward()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon"),e._uU(10,"arrow_back"),e.qZA()(),e.TgZ(11,"span"),e._uU(12,"Regresar a Premios"),e.qZA()()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"div",8)(16,"mat-date-range-input",9),e._UZ(17,"input",10)(18,"input",11),e.qZA(),e._UZ(19,"mat-datepicker-toggle",12)(20,"mat-date-range-picker",null,13),e.TgZ(22,"button",14),e.NdJ("click",function(){return i.date_filter()}),e.TgZ(23,"mat-icon",15),e._uU(24,"done"),e.qZA()(),e.TgZ(25,"button",14),e.NdJ("click",function(){return i.date_filter2()}),e.TgZ(26,"mat-icon",15),e._uU(27,"close"),e.qZA()()(),e.YNc(28,Oe,2,0,"mat-error",16),e.YNc(29,De,2,0,"mat-error",16),e.qZA(),e.TgZ(30,"div",17)(31,"mat-select",18),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(32,Me,2,2,"mat-option",19),e.qZA()(),e.TgZ(33,"div",20)(34,"input",21,22),e.NdJ("keyup",function(r){return i.aplicarFiltro(r)}),e.qZA(),e.TgZ(36,"mat-icon",15),e._uU(37," search "),e.qZA()()(),e.TgZ(38,"div",23)(39,"table",24),e.ynx(40,25),e.YNc(41,Ie,2,0,"th",26),e.YNc(42,Se,2,1,"td",27),e.BQk(),e.ynx(43,28),e.YNc(44,Ne,2,0,"th",26),e.YNc(45,Fe,2,1,"td",27),e.BQk(),e.ynx(46,29),e.YNc(47,Ee,2,0,"th",26),e.YNc(48,Ye,2,1,"td",27),e.BQk(),e.ynx(49,30),e.YNc(50,Je,2,0,"th",26),e.YNc(51,Re,2,1,"td",27),e.BQk(),e.ynx(52,31),e.YNc(53,je,2,0,"th",26),e.YNc(54,Le,2,1,"td",27),e.BQk(),e.ynx(55,32),e.YNc(56,Ge,2,0,"th",26),e.YNc(57,Qe,2,1,"td",27),e.BQk(),e.ynx(58,33),e.YNc(59,Be,2,0,"th",26),e.YNc(60,ze,2,1,"td",27),e.BQk(),e.ynx(61,34),e.YNc(62,He,2,0,"th",26),e.YNc(63,Ve,2,1,"td",27),e.BQk(),e.ynx(64,35),e.YNc(65,$e,2,0,"th",26),e._UZ(66,"th"),e.YNc(67,Ke,4,2,"td",27),e.BQk(),e.YNc(68,et,1,0,"tr",36),e.YNc(69,tt,1,0,"tr",37),e.YNc(70,it,3,1,"tr",38),e.qZA(),e._UZ(71,"mat-paginator",39),e.qZA()()),2&t){const o=e.MAs(21);e.xp6(3),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("formGroup",i.range)("rangePicker",o),e.xp6(3),e.Q6J("for",o),e.xp6(9),e.Q6J("ngIf",i.range.controls.start.hasError("matStartDateInvalid")),e.xp6(1),e.Q6J("ngIf",i.range.controls.end.hasError("matEndDateInvalid")),e.xp6(3),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(29),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(11,nt))}},dependencies:[d.sg,d.O5,s.Fj,s.JJ,s.JL,s.sg,s.u,f.TO,k.Nt,D.Hw,S.lW,C.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,B.gM,I.NW,q.YE,q.nU,O.gD,P.ey,U.nW,U.wx,U.zY,U.By,U._g,v],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%], .date_range[_ngcontent-%COMP%]{text-align:center;width:400px;height:26px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.date_range_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.date_range[_ngcontent-%COMP%]{color:var(--color-principal)}.date_text[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-left:100px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();var N=g(3320),y=g(5861),at=g(1481);let F=(()=>{class n{constructor(t){var i=this;this.sanitizer=t,this.extraerBase64=function(){var o=(0,y.Z)(function*(r){return new Promise((c,l)=>{try{const p=window.URL.createObjectURL(r),u=i.sanitizer.bypassSecurityTrustUrl(p),b=new FileReader;return b.readAsDataURL(r),b.onload=()=>{c({base:b.result})},b.onerror=M=>{c({base:null})},u}catch{return null}})});return function(r){return o.apply(this,arguments)}}()}captureFile(t){const i=t.target.files[0];let r=i.name.split(".").pop().toLowerCase();return"png"==r||"jpg"==r||"jpeg"==r||"gif"==r?i:null}captureFilePng(t){const i=t.target.files[0];return"png"==i.name.split(".").pop().toLowerCase()?i:null}captureVideoFile(t){const i=t.target.files[0];return"mp4"==i.name.split(".").pop().toLowerCase()?i:null}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(at.H7))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T=g(4570),ue=g(9661),A=g(2215);let x=(()=>{class n{constructor(){this.title="",this.backgroundColor="#00ffc5",this.styledPadding="0.5rem 2rem",this.fontSize="14px"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-button-primary"]],inputs:{title:"title",backgroundColor:"backgroundColor",styledPadding:"styledPadding",fontSize:"fontSize"},decls:2,vars:7,consts:[[1,"btn-game__date"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e._uU(1),e.qZA()),2&t&&(e.Udp("font-size",i.fontSize)("padding",i.styledPadding)("background",i.backgroundColor),e.xp6(1),e.hij(" ",i.title,"\n"))},styles:[".btn-game__date[_ngcontent-%COMP%]{padding:.5rem 2rem;font-size:14px;width:8rem;outline:none;border:none;border-radius:6px;font-weight:500}.btn-game__date[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();const rt=["takeInput"];let st=(()=>{class n{constructor(t,i,o,r){this.imageSrv=t,this.snackbar=i,this.publicityGame=o,this.dialogService=r,this.number="0",this.previsulizacion="",this.previsulizacionGet="",this.title="Casilla"}ngOnInit(){this.loadData()}capturarFile(t){this.fileToUpload=this.imageSrv.captureFilePng(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base})):(this.previsulizacion="",this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes png"))}updatePublicityGame(){return this.fileToUpload?(this.dialogService.open({title:"ACTUALIZAR CASILLA",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR LA IMAGEN DE LA CASILLA?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){if(this.fileToUpload){let o=new FormData;return o.append("id",this.number),o.append("image",this.fileToUpload,this.fileToUpload.name),this.publicityGame.updatePublicityGame(this.number,o).subscribe(r=>{this.loadData()}),this.snackbar.mensaje("Publicidad Actualizada exitosamente"),this.fileToUpload=null,!0}return!1}return!1}),!1):(this.snackbar.mensaje("Seleccione un imagen"),!1)}cancel(){this.previsulizacion=this.previsulizacionGet,this.fileToUpload=null}loadData(){this.publicityGame.getPublicityGame(this.number).subscribe(t=>{this.previsulizacionGet=t.image,this.previsulizacion=t.image})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F),e.Y36(T.o),e.Y36(ue.D),e.Y36(A.D))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-box"]],viewQuery:function(t,i){if(1&t&&e.Gf(rt,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},inputs:{number:"number"},decls:17,vars:2,consts:[[1,"box-container"],[1,"color-white","publicity-container"],[1,"publicity__title","green-primary"],[1,"publicity-info__container"],[1,""],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],[1,"box"],["alt","logo img",3,"src"],[1,"white-color"],[1,"container-buttons"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3)(5,"p",4),e._uU(6,"Imagen:"),e.qZA(),e.TgZ(7,"div",5)(8,"input",6,7),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()()()(),e.TgZ(10,"figure",8),e._UZ(11,"img",9),e.qZA(),e.TgZ(12,"p",10),e._uU(13,"Insertar imagenes png"),e.qZA(),e.TgZ(14,"div",11)(15,"app-button-primary",12),e.NdJ("click",function(){return i.updatePublicityGame()}),e.qZA(),e.TgZ(16,"app-button-primary",13),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",i.title+" "+i.number+":"," "),e.xp6(8),e.Q6J("src",i.previsulizacion,e.LSH))},dependencies:[x],styles:['.box[_ngcontent-%COMP%]{width:9rem;height:9rem;border:1px solid #00ffc5;align-self:center}.box-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;border:1px solid #00ffc5;padding:1rem;margin-bottom:1.5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}.publicity-info__container[_ngcontent-%COMP%]{padding:0 .5rem}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.container-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}']}),n})();const ct=["takeInput"];function lt(n,a){1&n&&e._UZ(0,"app-box",4),2&n&&e.Q6J("number",a.$implicit.toString())}const mt=function(){return[1,2,3,4,5,6,7,8,9,10]};let pt=(()=>{class n{constructor(t,i){this.staticData=t,this.gameSelectionService=i,this.previsulizacion=""}ngOnInit(){this.gameSelectionService.selectedGame$.subscribe(t=>{this.staticData.setMenu(t)})}addPublicity(){}deletePublicity(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.Q),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicity-game"]],viewQuery:function(t,i){if(1&t&&e.Gf(ct,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:7,vars:2,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[3,"number",4,"ngFor","ngForOf"],[3,"number"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Dise\xf1o"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2),e.YNc(6,lt,1,1,"app-box",3),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngForOf",e.DdM(1,mt)))},dependencies:[d.sg,C.Ye,v,st],styles:[".publicity-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;gap:2rem;flex-wrap:wrap;margin:2rem 0}.btn-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}"]}),n})();var J=g(3276),j=g(8739),z=g(2990),H=g(4870);let ae=(()=>{class n{constructor(){this.title="Empezar",this.fontSize="1.6rem",this.styledPadding="1rem 1.5rem",this.color="white",this.color_background="red"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-button-game"]],inputs:{title:"title",fontSize:"fontSize",styledPadding:"styledPadding",color:"color",color_background:"color_background"},decls:2,vars:9,consts:[[1,"generic-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e._uU(1),e.qZA()),2&t&&(e.Udp("font-size",i.fontSize)("padding",i.styledPadding)("color",i.color)("background",i.color_background),e.xp6(1),e.hij(" ",i.title,"\n"))},styles:[".generic-btn[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1.6rem;margin:0;text-align:center;border-radius:15px;outline:none;border:none}"]}),n})();const dt=function(n,a,t){return{"home-logo__container":n,logo__container:a,"logo__container-background":t}};let ge=(()=>{class n{constructor(){this.height="15rem",this.isHome=!0,this.isBackground=!1,this.urlImage=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-logo"]],inputs:{height:"height",isHome:"isHome",isBackground:"isBackground",urlImage:"urlImage"},decls:2,vars:8,consts:[[1,"p-0","m-0",3,"ngClass"],["alt","home-logo",1,"p-0","m-0",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"figure",0),e._UZ(1,"img",1),e.qZA()),2&t&&(e.Udp("height",i.height),e.Q6J("ngClass",e.kEZ(4,dt,i.isHome,!i.isHome,i.isBackground)),e.xp6(1),e.Q6J("src",i.urlImage,e.LSH))},dependencies:[d.mk],styles:[".home-logo__container[_ngcontent-%COMP%]{position:absolute;height:15rem;left:calc(50% - 263px);top:calc(0% + 20px);z-index:2}.logo__container[_ngcontent-%COMP%]{position:absolute;height:15rem;top:calc(0% + 20px);z-index:2}.logo__container-background[_ngcontent-%COMP%]{position:absolute;height:15rem;top:calc(0% + 20px);left:calc(50% - 210px);z-index:2}img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),n})();function ut(n,a){if(1&n&&(e.TgZ(0,"figure",3),e._UZ(1,"img",4),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("src",t.image,e.LSH)}}const gt=function(n,a){return{"top-publicity":n,"bottom-publicity":a}};let ie=(()=>{class n{constructor(){this.isTop=!0,this.publicityList=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-banner-publicity"]],inputs:{isTop:"isTop",publicityList:"publicityList"},decls:3,vars:5,consts:[[1,"container-fluid","publicity_container","p-0",3,"ngClass"],[1,"scroll-container"],["class","publicity_img-container",4,"ngFor","ngForOf"],[1,"publicity_img-container"],["alt","publicity-img",1,"publicity_img",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,ut,2,1,"figure",2),e.qZA()()),2&t&&(e.Q6J("ngClass",e.WLB(2,gt,i.isTop,!i.isTop)),e.xp6(2),e.Q6J("ngForOf",i.publicityList))},dependencies:[d.mk,d.sg],styles:[".publicity_container[_ngcontent-%COMP%]{background-color:#0ff;position:relative;height:4rem;display:flex;overflow:hidden;scroll-behavior:smooth}.scroll-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden;scroll-behavior:smooth;align-items:center}.publicity_img-container[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{padding:0;margin:0}.publicity_img-container[_ngcontent-%COMP%]{min-width:100%;height:100%}.publicity_img[_ngcontent-%COMP%]{width:100%;height:100%}.top-publicity[_ngcontent-%COMP%]{border-top-left-radius:27px;border-top-right-radius:27px}.bottom-publicity[_ngcontent-%COMP%]{border-bottom-left-radius:27px;border-bottom-right-radius:27px}"]}),n})();const _t=["takeInput"],ft=function(n){return{color:n}};let ht=(()=>{class n{constructor(t,i,o,r,c,l,p,u,b){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=o,this.dialogService=r,this.theme=c,this.dashStyle=l,this.imageSrv=p,this.staticData=u,this.gameSelectionService=b,this.availableSpin="HAZ GANADO!!!",this.previsualizacion=""}ngOnInit(){this.gameSelectionService.selectedGame$.subscribe(t=>{t&&(this.staticData.setMenu(t),this.loadInitialData())})}loadInitialData(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.previsualizacion=this.dashStyle.get_image_winner()})})}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsualizacion=i.base,this.dashStyle.setImageWinnerGameFile(this.fileToUpload)})):(this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}updateWinner(){this.dialogService.open({title:"ACTUALIZAR RESULTADO",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR LA IMAGEN DE RESULTADO GANADOR?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i&&this.fileToUpload){let o=new FormData;o.append("id","1"),o.append("image_winner",this.dashStyle.getImageWinnerGameFile(),this.dashStyle.getImageWinnerGameFile().name),o.append("date_modified",(new Date).toISOString()),o.append("game_id","1"),this.theme.updateDesign(1,o),this.snackbar.mensaje("Informacion Dise\xf1o Ganadores Actualizada Exitosamente")}})}cancel(){window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(j.U),e.Y36(T.o),e.Y36(A.D),e.Y36(z.f),e.Y36(H.T),e.Y36(F),e.Y36(h.Q),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-winner-design"]],viewQuery:function(t,i){if(1&t&&e.Gf(_t,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:44,vars:13,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"savescreen-info__container"],[1,"publicity__title","white-color"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"],["height","1.5rem",1,"logo-container",3,"isHome","isBackground","urlImage"],[1,"information-game-container"],[1,"info-game__text"],[1,"info-game__text",3,"ngStyle"],[1,"spinner__container"],[1,"award-box-container"],["alt","cajon-premios",1,"awards-box",3,"src"],[1,"awards-container"],[1,"awards-column"],[1,"award-image-container"],["src","../../../../../assets/img/logoejemplo.png","alt",""],[1,"award-box-container","congratulations-image"],["alt"," ' ",1,"awards-box",3,"src"],["title","Girar","styledPadding",".5rem 1rem","fontSize","1rem",1,"menu-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"p"),e._uU(2,"winner-design works!"),e.qZA(),e.TgZ(3,"mat-toolbar",0)(4,"span"),e._uU(5,"Dise\xf1o Ganadores"),e.qZA(),e._UZ(6,"span",1),e.qZA(),e.TgZ(7,"div",2)(8,"div",3)(9,"div",4)(10,"p",5),e._uU(11,"Imagen Ganador: (ancho: 950 x alto: 900)"),e.qZA(),e.TgZ(12,"div",6)(13,"input",7,8),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()(),e.TgZ(15,"div",9)(16,"app-button-primary",10),e.NdJ("click",function(){return i.updateWinner()}),e.qZA(),e.TgZ(17,"app-button-primary",11),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(18,"div",12)(19,"div",13),e._UZ(20,"app-banner-publicity",14),e.TgZ(21,"div",15),e._UZ(22,"app-logo",16),e.TgZ(23,"div",17)(24,"div",18)(25,"p",19),e._uU(26),e.qZA()()(),e.TgZ(27,"div",20)(28,"figure",21),e._UZ(29,"img",22),e.qZA(),e.TgZ(30,"div",23)(31,"div",24)(32,"figure",25),e._UZ(33,"img",26),e.qZA()(),e.TgZ(34,"div",24)(35,"figure",25),e._UZ(36,"img",26),e.qZA()(),e.TgZ(37,"div",24)(38,"figure",25),e._UZ(39,"img",26),e.qZA()()(),e.TgZ(40,"figure",27),e._UZ(41,"img",28),e.qZA()(),e._UZ(42,"app-button-game",29),e.qZA(),e._UZ(43,"app-banner-publicity",14),e.qZA()()()()),2&t&&(e.xp6(20),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("isHome",!1)("isBackground",!1)("urlImage",i.dashStyle.get_image_logo()),e.xp6(3),e.Q6J("ngStyle",e.VKq(11,ft,i.dashStyle.get_color_text())),e.xp6(1),e.hij(" ",i.availableSpin," "),e.xp6(3),e.Q6J("src",i.dashStyle.get_image_machine_game(),e.LSH),e.xp6(12),e.Q6J("src",i.previsualizacion,e.LSH),e.xp6(2),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[d.PC,C.Ye,x,ae,ge,v,ie],styles:['.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:.5rem;padding-left:.5rem}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:15px;align-items:center;height:20rem}.logo-container[_ngcontent-%COMP%]{margin-right:3rem;height:2.5rem}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:14rem}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 23px);bottom:25px}.menu-container_scan-img-container[_ngcontent-%COMP%]{height:3rem;width:3rem}.menu__input[_ngcontent-%COMP%]{border:3px solid red;outline:none;border-radius:13px;background-color:#000;color:#fff;padding:.2rem .5rem}.menu__input[_ngcontent-%COMP%]::placeholder{color:#fff}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}img[_ngcontent-%COMP%]{width:100%;height:100%}figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png, jpg, jpeg ,gif)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.information-game-container[_ngcontent-%COMP%]{background-color:#ffaf00;width:100%;display:flex;justify-content:center;height:2rem;align-items:center}.spinner__container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;height:47%;width:100%;max-height:202px}.awards-container[_ngcontent-%COMP%]{position:absolute;top:46px;left:calc(50% - 118px);display:flex;justify-content:center;gap:1.5rem;z-index:4;overflow:hidden}.awards-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;height:6rem;animation-duration:4s;animation-name:slidevertical;animation-iteration-count:infinite}.award-image-container[_ngcontent-%COMP%]{height:3rem;width:4rem}.award-box-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-width:766px}.congratulations-image[_ngcontent-%COMP%]{position:absolute}']}),n})();var ne=g(8041),Y=g(1131),R=g(3546),_e=g(1366);function bt(n,a){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ct(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let vt=(()=>{class n{constructor(t,i,o,r,c,l,p,u,b,M){this.fb=t,this.awardConditionSrv=i,this.awardSrv=o,this.snackbar=r,this.dialogService=c,this.router=l,this.activerouter=p,this.staticData=u,this.gameDataSrv=b,this.gameSelectionService=M,this.minDate=new Date,this.award_condition_id=Number(this.activerouter.snapshot.paramMap.get("id")),this.img_upload="assets/img/regalo.png",this.previsulizacion=this.img_upload,this.stock_actual=0,this.award_name="",this.startDate=new Date,this.endDate=new Date,this.beginDate=new Date,this.finishDate=new Date,this.award_condition=[],this.form=this.fb.group({startTime:["",s.kI.required],endTime:["",s.kI.required],award:["",s.kI.required]})}ngOnInit(){var t=this;return(0,y.Z)(function*(){t.gameSelectionService.selectedGame$.subscribe(c=>{t.staticData.setMenu(c),t.getAwardConditionId(t.award_condition_id),t.getAward()}),t.form.get("award")?.disable();let i=(new Date).getFullYear(),o=(new Date).getMonth(),r=(new Date).getDate();t.minDate=new Date(i,o,r)})()}cancel(){this.router.navigate(["/dashboard/premios/condicion"])}getAward(){this.awardConditionSrv.getAwardEdit().subscribe(t=>{this.award_condition=t})}getAwardConditionId(t){var i=this;return(0,y.Z)(function*(){i.awardConditionSrv.getAwardConditionbyId(t).subscribe(o=>{i.imgAward(o.award);let r=o.start_date.split(" ")[1].split(":")[0],c=o.start_date.split(" ")[1].split(":")[1],l=o.end_date.split(" ")[1].split(":")[0],p=o.end_date.split(" ")[1].split(":")[1];i.form.controls.award.setValue(o.award.toString()),i.form.controls.startTime.setValue({hour:Number(r),minute:Number(c)}),i.form.controls.endTime.setValue({hour:Number(l),minute:Number(p)}),i.beginDate=new Date(o.start_date_nf),i.finishDate=new Date(o.end_date_nf)},o=>{i.dialogService.error(o.error)})})()}changetime(){var t=this;return(0,y.Z)(function*(){let i=t.form.value.startTime.hour,o=t.form.value.startTime.minute,r=t.form.value.endTime.hour,c=t.form.value.endTime.minute,l=t.finishDate.toISOString().split("T")[0];const[p,u,b]=l.split("-");t.startDate=new Date(parseInt(p),parseInt(u)-1,parseInt(b),parseInt(i),parseInt(o)),t.endDate=new Date(parseInt(p),parseInt(u)-1,parseInt(b),parseInt(r),parseInt(c))})()}editAwardCondition(){var t=this;return(0,y.Z)(function*(){t.form.valid?(yield t.changetime(),t.dialogService.open({title:"CREAR PREMIO CONDICIONADO",message:"\xbfEST\xc1 SEGURO QUE DESEA CREAR EL NUEVO PREMIO CONDICIONADO?",cancelText:"CANCELAR",confirmText:"EDITAR"}),t.dialogService.confirmed().subscribe(o=>{if(o){let r=new FormData,c=1,l=sessionStorage.getItem("user_id"),p=t.gameDataSrv.DateFormat(t.startDate);r.append("start_date",p);let u=t.gameDataSrv.DateFormat(t.endDate);r.append("end_date",u),r.append("award",t.form.get("award")?.value),r.append("game",c.toString()),r.append("user_modify",l),t.awardConditionSrv.putAwardCondition(t.award_condition_id,r).subscribe(b=>{t.snackbar.mensaje("Premio Condicionado Actualizado Exitosamente"),t.router.navigate(["dashboard/premios/condicion"])},b=>{t.dialogService.error(b.error)})}})):t.snackbar.mensaje("Complete todos los campos")})()}imgAward(t){this.awardSrv.getAwardbyId(t).subscribe(i=>{this.previsulizacion=i.imagen,this.stock_actual=i.initial_stock,this.award_name=i.name})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(ne.r),e.Y36(Y.q),e.Y36(T.o),e.Y36(A.D),e.Y36(_.F0),e.Y36(_.gz),e.Y36(h.Q),e.Y36(Q.V),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-awards-condition"]],decls:43,vars:17,consts:[[1,"example-spacer"],[3,"formGroup"],[1,"condition_container"],[1,"container"],[1,"register_container"],[1,"form_container"],["formControlName","award","mat-select","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"img_container"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["title","Editar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[1,"date_container"],[1,"calendar"],[1,"input-date","green-primary"],[1,"calendar__card"],[1,"demo-inline-calendar-card","background-navy-primary","green-primary"],[1,"green-primary",3,"selected","startAt","minDate","maxDate","selectedChange"],[1,"time_container"],["formControlName","startTime",1,"time",3,"meridian"],["formControlName","endTime",3,"meridian"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"form",1)(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"mat-form-field")(11,"label"),e._uU(12,"Premios"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"label"),e._uU(15),e.qZA(),e.TgZ(16,"mat-select",6),e.NdJ("selectionChange",function(r){return i.imgAward(r.value)}),e.YNc(17,bt,2,2,"mat-option",7),e.qZA(),e.TgZ(18,"mat-hint"),e._uU(19,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(20,Ct,2,0,"mat-error",8),e.qZA()(),e.TgZ(21,"div",9),e._UZ(22,"img",10),e.qZA()(),e.TgZ(23,"div",11)(24,"app-button-primary",12),e.NdJ("click",function(){return i.editAwardCondition()}),e.qZA(),e.TgZ(25,"app-button-primary",13),e.NdJ("click",function(){return i.cancel()}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div",15)(28,"p",16),e._uU(29,"Fecha Inicio"),e.qZA(),e.TgZ(30,"div",17)(31,"mat-card",18)(32,"mat-calendar",19),e.NdJ("selectedChange",function(r){return i.beginDate=r}),e.qZA()()(),e.TgZ(33,"div",20),e._UZ(34,"ngb-timepicker",21),e.qZA()(),e.TgZ(35,"div",15)(36,"p",16),e._uU(37,"Fecha Fin"),e.qZA(),e.TgZ(38,"div",17)(39,"mat-card",18)(40,"mat-calendar",19),e.NdJ("selectedChange",function(r){return i.finishDate=r}),e.qZA()()(),e.TgZ(41,"div",20),e._UZ(42,"ngb-timepicker",22),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij("Editar Premio Condicionado : ",i.award_name," "),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(10),e.AsE("Hay ",i.stock_actual," del premio: ",i.award_name,""),e.xp6(2),e.Q6J("ngForOf",i.award_condition),e.xp6(3),e.Q6J("ngIf",i.form.controls.award.hasError("required")),e.xp6(2),e.Q6J("src",i.previsulizacion,e.LSH),e.xp6(10),e.Q6J("selected",i.beginDate)("startAt",i.beginDate)("minDate",i.beginDate)("maxDate",i.beginDate),e.xp6(2),e.Q6J("meridian",!0),e.xp6(6),e.Q6J("selected",i.finishDate)("startAt",i.finishDate)("minDate",i.finishDate)("maxDate",i.finishDate),e.xp6(2),e.Q6J("meridian",!0))},dependencies:[d.sg,d.O5,s._Y,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,C.Ye,O.gD,P.ey,R.a8,U._H,_e.Pm,x,v],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.condition_container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row}.date_container[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:row;justify-content:space-around}.container[_ngcontent-%COMP%]{margin-top:20px;width:60%;display:flex;flex-direction:column}.register_container[_ngcontent-%COMP%]{margin-top:20px;width:100%;display:flex;flex-direction:row}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:45%}.input-date[_ngcontent-%COMP%]{margin-top:20px;padding:.5rem 1.5rem;border:1px solid var(--color-principal);border-radius:15px;text-align:center}.calendar__card[_ngcontent-%COMP%]{padding:0 1rem}.time_container[_ngcontent-%COMP%]{display:flex;justify-content:center}.time[_ngcontent-%COMP%]{color:var(--color-principal)}.mat-form-field[_ngcontent-%COMP%]{width:95%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#fff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.form_container[_ngcontent-%COMP%]{width:40%}.img_container[_ngcontent-%COMP%]{display:flex;width:60%;height:250px}.img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% auto auto;width:85%;height:100%;border-radius:10px;object-fit:fill}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:10% 15px 15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}"]}),n})(),V=(()=>{class n{constructor(t){this.router=t}canActivate(t,i){return"1"==sessionStorage.getItem("rol_id")||(this.router.navigate(["/dashboard/juego/seleccion"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(_.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var re=g(529);let ee=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getPermisos(){return this.http.get(this.url+"api/permission/")}getPermisosbyName(t){return this.http.get(this.url+"api/permissionfilter/?search="+t)}getPermisosbyRol(t){return this.http.get(this.url+"api/rolpermissionfilter/?rol="+t)}postPermisosbyRol(t){return this.http.post(this.url+"api/rolpermission/",t)}deletePermissionRol(t){return this.http.delete(this.url+"api/rolpermission/"+t+"/")}getPermisosbyRolandPermission(t,i){return this.http.get(this.url+"api/rolpermissionfilter/?rol="+t+"&permission="+i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(re.eN),e.LFG(h.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),se=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}postRoles(t){return this.http.post(this.url+"api/rol/",t)}getRolbyId(t){return this.http.get(this.url+"api/rol/"+t+"/")}putRol(t,i){return this.http.put(this.url+"api/rol/"+t+"/",i)}deleteRol(t){return this.http.delete(this.url+"api/rol/"+t+"/")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(re.eN),e.LFG(h.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",9)(2,"div",10)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",11)(6,"div",12)(7,"input",13),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onCheckboxChange(o))}),e.qZA(),e._UZ(8,"div",14)(9,"div",15),e.qZA()()()()}if(2&n){const t=a.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(3),e.s9C("id",t.name),e.Q6J("value",t.id)}}let Tt=(()=>{class n{constructor(t,i,o,r,c,l,p,u){this.fb=t,this.permisoSrv=i,this.activerouter=o,this.router=r,this.roles_service=c,this.snackbar=l,this.dialogService=p,this.statickData=u,this.Lista_permisos=[],this.Permisos_eliminar=[],this.rol="",this.form=this.fb.group({ckeckArray:this.fb.array([])})}ngOnInit(){var t=this;return(0,y.Z)(function*(){t.statickData.setMenuGeneral();let i=Number(t.activerouter.snapshot.paramMap.get("id"));t.roles_service.getRolbyId(i).subscribe(o=>{t.rol=o.name}),t.cargarPermisos(),yield t.obtenerPermisosbyrol(i)})()}onCheckboxChange(t){const i=this.form.get("ckeckArray");if(t.target.checked)i.push(new s.NI(t.target.value));else{var o=0;i.controls.forEach(r=>{r.value!=t.target.value?o++:i.removeAt(o)})}}cargarPermisos(){this.permisoSrv.getPermisos().subscribe(t=>{this.Lista_permisos=t})}obtenerPermisosbyrol(t){var i=this;return(0,y.Z)(function*(){i.permisoSrv.getPermisosbyRol(t).subscribe(o=>{const r=i.form.get("ckeckArray");for(let c=0;c<o.length;c++)i.cambiarcheckbox(o[c].permission.toString()),r.push(new s.NI(o[c].id_permission.toString())),i.Permisos_eliminar.push(o[c].id.toString())},o=>{console.log("No se pudo obtener los permisos")})})()}cambiarcheckbox(t){const i=document.getElementById(t);null!=i&&(i.checked=!0)}regresarRoles(){this.router.navigate(["/dashboard/roles"])}guardarPermisos(){this.dialogService.open({title:"GUARDAR PERMISOS",message:"ESTA SEGURO QUE DESEA CAMBIAR LOS PERMISOS DEL ROL?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(i=>{i&&this.guardarPermisosNuevos()})}eliminarPermisosViejos(){let t=this.Permisos_eliminar;if(t.length>0)for(let i=0;i<t.length;i++)this.permisoSrv.deletePermissionRol(Number(t[i])).subscribe(o=>{})}guardarPermisosNuevos(){this.eliminarPermisosViejos();let t=this.form.value.ckeckArray,i=Number(this.activerouter.snapshot.paramMap.get("id"));if(t.length>0){for(let o=0;o<t.length;o++){let r=Number(t[o]);this.permisoSrv.postPermisosbyRol({rol:i,permission:r}).subscribe(c=>{})}this.snackbar.mensaje("Permisos actualizados correctamente"),this.router.navigate(["/dashboard/roles"])}else this.snackbar.mensaje("Este rol no tiene permisos"),this.router.navigate(["/dashboard/roles"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(ee),e.Y36(_.gz),e.Y36(_.F0),e.Y36(se),e.Y36(T.o),e.Y36(A.D),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-permisos-roles"]],decls:13,vars:3,consts:[[1,"example-spacer"],[1,"container_card"],[1,"container_permisos"],["novalidate","",3,"formGroup"],[1,"container"],[4,"ngFor","ngForOf"],[1,"container_botones"],["title","Guardar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[1,"container_permiso"],[1,"permiso_nombre"],[1,"espaciado"],["id","button-3",1,"button","r"],["type","checkbox",1,"checkbox",3,"id","value","change"],[1,"knobs"],[1,"layer"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"div",2)(7,"form",3)(8,"div",4),e.YNc(9,Zt,10,3,"div",5),e.qZA()()(),e.TgZ(10,"div",6)(11,"app-button-primary",7),e.NdJ("click",function(){return i.guardarPermisos()}),e.qZA(),e.TgZ(12,"app-button-primary",8),e.NdJ("click",function(){return i.regresarRoles()}),e.qZA()()()()),2&t&&(e.xp6(3),e.hij("Rol: ",i.rol,""),e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("ngForOf",i.Lista_permisos))},dependencies:[d.sg,s._Y,s.JL,s.sg,C.Ye,x,v],styles:['[_ngcontent-%COMP%]:root{--color-principal: #00ffc5;--color-fondo-principal: #000910;--color-fondo-secundario: #002130;--color-letras: #ffffff;--color-ventanas: #055970;--color-cafe:#3f3f43}.container[_ngcontent-%COMP%]{margin:25px;flex-flow:row wrap;display:flex}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:25%}.label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.espaciado[_ngcontent-%COMP%]{margin-bottom:30px}.container_vistas[_ngcontent-%COMP%]{margin:25px;text-align:center}h2[_ngcontent-%COMP%]{margin:30px 0}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;flex-direction:column}.container_permiso[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.permiso_nombre[_ngcontent-%COMP%]{margin-bottom:30px;color:var(--color-letras)}.knobs[_ngcontent-%COMP%], .layer[_ngcontent-%COMP%]{position:absolute;inset:0}.button[_ngcontent-%COMP%]{position:relative;top:50%;width:100px;height:40px;margin:-20px auto 0;overflow:hidden}.button.r[_ngcontent-%COMP%], .button.r[_ngcontent-%COMP%]   .layer[_ngcontent-%COMP%]{border-radius:10px}.checkbox[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;padding:0;margin:0;opacity:0;cursor:pointer;z-index:3}.knobs[_ngcontent-%COMP%]{z-index:2}.layer[_ngcontent-%COMP%]{width:100%;background-color:var(--color-letras);transition:.3s ease all;z-index:1}#button-3[_ngcontent-%COMP%]   .knobs[_ngcontent-%COMP%]:before{content:"NO";position:absolute;top:4px;left:4px;width:30px;height:30px;color:#fff;font-size:15px;font-weight:700;text-align:center;line-height:1;padding:9px 4px;background-color:var(--color-cafe);border-radius:20%;transition:.3s ease all,left .3s cubic-bezier(.18,.89,.35,1.15)}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:active + .knobs[_ngcontent-%COMP%]:before{width:46px;border-radius:100px}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked:active + .knobs[_ngcontent-%COMP%]:before{margin-left:-26px}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked + .knobs[_ngcontent-%COMP%]:before{content:"SI";left:65px;background-color:var(--color-principal);color:var(--color-fondo-secundario)}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked ~ .layer[_ngcontent-%COMP%]{background-color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}']}),n})();function yt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function At(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function xt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let wt=(()=>{class n{constructor(t,i,o,r,c,l,p){this.router=t,this.fb=i,this.rol=o,this.activerouter=r,this.snackbar=c,this.dialogService=l,this.staticData=p,this.editar_rol={id:0,name:"",description:"",is_active:!0},this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],is_active:["",s.kI.required]})}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activerouter.snapshot.paramMap.get("id");this.rol.getRolbyId(Number(t)).subscribe(i=>{this.editar_rol=i,this.form.controls.name.setValue(this.editar_rol.name),this.form.controls.description.setValue(this.editar_rol.description),this.form.controls.is_active.setValue(this.editar_rol.is_active.toString())})}regresarRoles(){this.router.navigate(["/dashboard/roles"])}editarRol(){let t=this.activerouter.snapshot.paramMap.get("id");if(this.form.valid){const i={title:"EDITAR ROLES",message:"\xbfEST\xc1 SEGURO QUE DESEA EDITAR EL ROL "+this.form.get("name")?.value+"?",cancelText:"CANCELAR",confirmText:"EDITAR"};this.dialogService.open(i),this.dialogService.confirmed().subscribe(o=>{if(o){let r=new FormData;r.append("name",this.form.get("name")?.value),r.append("description",this.form.get("description")?.value),r.append("is_active",this.form.get("is_active")?.value),r.append("rol_request",sessionStorage.getItem("rol_id")||""),this.rol.putRol(Number(t),r).subscribe(c=>{this.snackbar.mensaje("Rol Actualizado Exitosamente"),this.router.navigate(["/dashboard/roles"])},c=>{this.dialogService.error(c.error)})}})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(s.qu),e.Y36(se),e.Y36(_.gz),e.Y36(T.o),e.Y36(A.D),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles-editar"]],decls:37,vars:5,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],[1,"container_botones"],["title","Editar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"form",2)(7,"mat-form-field")(8,"label"),e._uU(9,"Nombre"),e.qZA(),e.TgZ(10,"div",3),e._UZ(11,"input",4),e.qZA(),e.TgZ(12,"mat-hint"),e._uU(13,"Nombre del Rol"),e.qZA(),e.YNc(14,yt,2,0,"mat-error",5),e.qZA(),e.TgZ(15,"mat-form-field")(16,"label"),e._uU(17,"Descripci\xf3n"),e.qZA(),e.TgZ(18,"div",3),e._UZ(19,"input",6),e.qZA(),e.TgZ(20,"mat-hint"),e._uU(21,"Descripci\xf3n del Rol"),e.qZA(),e.YNc(22,At,2,0,"mat-error",5),e.qZA(),e.TgZ(23,"mat-form-field")(24,"label"),e._uU(25,"Estado"),e.qZA(),e.TgZ(26,"mat-select",7)(27,"mat-option",8),e._uU(28,"Activo"),e.qZA(),e.TgZ(29,"mat-option",9),e._uU(30,"Inactivo"),e.qZA()(),e.TgZ(31,"mat-hint"),e._uU(32,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(33,xt,2,0,"mat-error",5),e.qZA()(),e.TgZ(34,"div",10)(35,"app-button-primary",11),e.NdJ("click",function(){return i.editarRol()}),e.qZA(),e.TgZ(36,"app-button-primary",12),e.NdJ("click",function(){return i.regresarRoles()}),e.qZA()()()()),2&t&&(e.xp6(3),e.hij("Editar Rol: ",i.editar_rol.name,""),e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")))},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,k.Nt,C.Ye,O.gD,P.ey,x,v],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();var ce=g(8675),le=g(4004),L=g(7957);function Ut(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function qt(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(12);e.xp6(1),e.hij(" La longitud de la c\xe9dula debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function kt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Pt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ot(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Dt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Mt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function It(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function St(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(55);e.xp6(1),e.hij(" La longitud del tel\xe9fono debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function Nt(n,a){if(1&n&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ft(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Et(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Yt(n,a){if(1&n&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function Jt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Rt(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function jt(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Rt,2,1,"div",7),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.form.controls.rol.hasError(t.type))}}function Lt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let Qt=(()=>{class n{constructor(t,i,o,r,c,l,p){this.api=t,this.fb=i,this.router=o,this.activerouter=r,this.snackBar=c,this.dialogService=l,this.staticData=p,this.listSex=[{id:"Masculino",name:"Masculino"},{id:"Femenino",name:"Femenino"},{id:"Otro",name:"Otro"}],this.roles=[],this.id_rol=0,this.usuarioget={id:0,cedula:"",names:"",surnames:"",username:"",email:"",phone:"",password:"",sex:"",address:"",rol:"",is_active:!0,created:"",modified:"",last_session:""},this.validation_msgs={contactAutocompleteControl:[{type:"invalidAutocompleteObject",message:"Seleccione una opci\xf3n del listado !!!"}]},this.form=this.fb.group({cedula:new s.NI("",[s.kI.required,s.kI.minLength(10)]),username:["",s.kI.required],names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),phone:new s.NI("",[s.kI.required,s.kI.minLength(10)]),sex:["",s.kI.required],address:["",s.kI.required],rol:new s.NI("",[s.kI.required,n=>"string"==typeof n.value?{invalidAutocompleteObject:{value:n.value}}:null]),is_active:["",s.kI.required]})}_filter(t){if(""===t)return this.roles.slice();const i=t.toLowerCase();return this.roles.filter(o=>o.name.toLowerCase().includes(i))}displayFn(t){return t&&t.name?t.name:void 0}ngOnInit(){var t=this;return(0,y.Z)(function*(){t.staticData.setMenuGeneral(),yield t.cargarRoles();let i=t.activerouter.snapshot.paramMap.get("id");t.api.getUsuarioId(Number(i)).subscribe(o=>{t.usuarioget=o,t.form.controls.cedula.setValue(t.usuarioget.cedula),t.form.controls.username.setValue(t.usuarioget.username),t.form.controls.names.setValue(t.usuarioget.names),t.form.controls.surnames.setValue(t.usuarioget.surnames),t.form.controls.email.setValue(t.usuarioget.email),t.form.controls.phone.setValue(t.usuarioget.phone),t.form.controls.sex.setValue(t.usuarioget.sex),t.form.controls.address.setValue(t.usuarioget.address),t.api.getRolbyName(t.usuarioget.rol).subscribe(r=>{t.form.controls.rol.setValue(r[0])}),t.form.controls.is_active.setValue(t.usuarioget.is_active.toString())})})()}regresarUsuarios(){this.router.navigate(["/dashboard/usuarios"])}cargarRoles(){var t=this;return(0,y.Z)(function*(){t.api.getRoles().subscribe(i=>{t.roles=i,t.filteredOptions=t.form.controls.rol.valueChanges.pipe((0,ce.O)(""),(0,le.U)(o=>{const r="string"==typeof o?o:o?.name;return r?t._filter(r):t.roles.slice()}))})})()}actualizarUsuario(){let t=this.activerouter.snapshot.paramMap.get("id");if(this.form.valid){const i={title:"EDITAR USUARIO",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL USUARIO "+this.form.get("names")?.value+" "+this.form.get("surnames")?.value+"?",cancelText:"CANCELAR",confirmText:"EDITAR"};this.dialogService.open(i),this.dialogService.confirmed().subscribe(o=>{if(o){let r=new FormData;r.append("cedula",this.form.get("cedula")?.value),r.append("username",this.form.get("username")?.value),r.append("names",this.form.get("names")?.value),r.append("surnames",this.form.get("surnames")?.value),r.append("email",this.form.get("email")?.value),r.append("phone",this.form.get("phone")?.value),r.append("sex",this.form.get("sex")?.value),r.append("address",this.form.get("address")?.value),r.append("rol",this.form.get("rol")?.value.id),r.append("is_active",this.form.get("is_active")?.value),r.append("rol_request",sessionStorage.getItem("rol_id")||""),this.api.putUsuario(Number(t),r).subscribe(c=>{this.snackBar.mensaje("Usuario Actualizado Exitosamente"),this.router.navigate(["/dashboard/usuarios"])},c=>{this.dialogService.error(c.error)})}})}else this.snackBar.mensaje("Llene el formulario correctamente")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X.s),e.Y36(s.qu),e.Y36(_.F0),e.Y36(_.gz),e.Y36(T.o),e.Y36(A.D),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editar-usuarios"]],decls:104,vars:25,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["autocomplete","off","formControlName","username","type","text","matInput",""],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["formControlName","sex"],[3,"value",4,"ngFor","ngForOf"],["autocomplete","off","formControlName","address","type","text","matInput",""],["type","text","matInput","","formControlName","rol",3,"matAutocomplete"],[3,"displayWith"],["auto","matAutocomplete"],[4,"ngFor","ngForOf"],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],[1,"container_botones"],["title","Editar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"form",2)(7,"mat-form-field")(8,"label"),e._uU(9,"C\xe9dula"),e.qZA(),e.TgZ(10,"div",3),e._UZ(11,"input",4,5),e.qZA(),e.TgZ(13,"mat-hint",6),e._uU(14),e.qZA(),e.YNc(15,Ut,2,0,"mat-error",7),e.YNc(16,qt,2,1,"mat-error",7),e.qZA(),e.TgZ(17,"mat-form-field")(18,"label"),e._uU(19,"Username"),e.qZA(),e.TgZ(20,"div",3),e._UZ(21,"input",8),e.qZA(),e.TgZ(22,"mat-hint"),e._uU(23,"Nombre del usuario"),e.qZA(),e.YNc(24,kt,2,0,"mat-error",7),e.qZA(),e.TgZ(25,"mat-form-field")(26,"label"),e._uU(27,"Nombres"),e.qZA(),e.TgZ(28,"div",3),e._UZ(29,"input",9),e.qZA(),e.TgZ(30,"mat-hint"),e._uU(31,"Nombre completo"),e.qZA(),e.YNc(32,Pt,2,0,"mat-error",7),e.qZA(),e.TgZ(33,"mat-form-field")(34,"label"),e._uU(35,"Apellidos"),e.qZA(),e.TgZ(36,"div",3),e._UZ(37,"input",10),e.qZA(),e.TgZ(38,"mat-hint"),e._uU(39,"Apellido paterno y materno"),e.qZA(),e.YNc(40,Ot,2,0,"mat-error",7),e.qZA(),e.TgZ(41,"mat-form-field")(42,"label"),e._uU(43,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(44,"div",3),e._UZ(45,"input",11),e.qZA(),e.TgZ(46,"mat-hint"),e._uU(47,"Correo electr\xf3nico"),e.qZA(),e.YNc(48,Dt,2,0,"mat-error",7),e.YNc(49,Mt,2,0,"mat-error",7),e.qZA(),e.TgZ(50,"mat-form-field")(51,"label"),e._uU(52,"Tel\xe9fono"),e.qZA(),e.TgZ(53,"div",3),e._UZ(54,"input",12,13),e.qZA(),e.TgZ(56,"mat-hint",6),e._uU(57),e.qZA(),e.YNc(58,It,2,0,"mat-error",7),e.YNc(59,St,2,1,"mat-error",7),e.qZA(),e.TgZ(60,"mat-form-field")(61,"label"),e._uU(62,"Sexo"),e.qZA(),e.TgZ(63,"mat-select",14),e.YNc(64,Nt,2,2,"mat-option",15),e.qZA(),e.TgZ(65,"mat-hint"),e._uU(66,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(67,Ft,2,0,"mat-error",7),e.qZA(),e.TgZ(68,"mat-form-field")(69,"label"),e._uU(70,"Direcci\xf3n"),e.qZA(),e.TgZ(71,"div",3),e._UZ(72,"input",16),e.qZA(),e.TgZ(73,"mat-hint"),e._uU(74,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(75,Et,2,0,"mat-error",7),e.qZA(),e.TgZ(76,"mat-form-field")(77,"label"),e._uU(78,"Rol"),e.qZA(),e.TgZ(79,"div",3),e._UZ(80,"input",17,5),e.qZA(),e.TgZ(82,"mat-autocomplete",18,19),e.YNc(84,Yt,2,2,"mat-option",15),e.ALo(85,"async"),e.qZA(),e.TgZ(86,"mat-hint"),e._uU(87,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(88,Jt,2,0,"mat-error",7),e.YNc(89,jt,2,1,"mat-error",20),e.qZA(),e.TgZ(90,"mat-form-field")(91,"label"),e._uU(92,"Estado"),e.qZA(),e.TgZ(93,"mat-select",21)(94,"mat-option",22),e._uU(95,"Activo"),e.qZA(),e.TgZ(96,"mat-option",23),e._uU(97,"Inactivo"),e.qZA()(),e.TgZ(98,"mat-hint"),e._uU(99,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(100,Lt,2,0,"mat-error",7),e.qZA()(),e.TgZ(101,"div",24)(102,"app-button-primary",25),e.NdJ("click",function(){return i.actualizarUsuario()}),e.qZA(),e.TgZ(103,"app-button-primary",26),e.NdJ("click",function(){return i.regresarUsuarios()}),e.qZA()()()()),2&t){const o=e.MAs(12),r=e.MAs(55),c=e.MAs(83);e.xp6(3),e.AsE("Editar Usuario : ",i.usuarioget.names," ",i.usuarioget.surnames,""),e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.cedula.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.cedula.hasError("minlength")),e.xp6(8),e.Q6J("ngIf",i.form.controls.username.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("email")),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.phone.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.phone.hasError("minlength")),e.xp6(5),e.Q6J("ngForOf",i.listSex),e.xp6(3),e.Q6J("ngIf",i.form.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.address.hasError("required")),e.xp6(5),e.Q6J("matAutocomplete",c),e.xp6(2),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(85,23,i.filteredOptions)),e.xp6(4),e.Q6J("ngIf",i.form.controls.rol.hasError("required")),e.xp6(1),e.Q6J("ngForOf",i.validation_msgs.contactAutocompleteControl),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required"))}},dependencies:[d.sg,d.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,f.TO,f.KE,f.bx,k.Nt,C.Ye,O.gD,P.ey,L.XC,L.ZL,x,v,d.Ov],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})(),Bt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"router-outlet")},dependencies:[_.lC]}),n})();var te=g(5412);function zt(n,a){if(1&n&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ht(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"C\xe9dula"),e.qZA())}function Vt(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.cedula)}}function $t(n,a){1&n&&(e.TgZ(0,"th",33),e._uU(1," Nombres "),e.qZA())}function Wt(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.names)}}function Xt(n,a){1&n&&(e.TgZ(0,"th",33),e._uU(1," Apellidos "),e.qZA())}function Kt(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.surnames)}}function ei(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1," Tel\xe9fono M\xf3vil "),e.qZA())}function ti(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.phone)}}function ii(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Sexo"),e.qZA())}function ni(n,a){1&n&&(e.TgZ(0,"div")(1,"mat-icon",0),e._uU(2,"male"),e.qZA()())}function oi(n,a){1&n&&(e.TgZ(0,"div")(1,"mat-icon",0),e._uU(2,"female"),e.qZA()())}function ai(n,a){1&n&&(e.TgZ(0,"div")(1,"mat-icon",0),e._uU(2,"transgender"),e.qZA()())}function ri(n,a){if(1&n&&(e.TgZ(0,"td",32),e.YNc(1,ni,3,0,"div",34),e.YNc(2,oi,3,0,"div",34),e.YNc(3,ai,3,0,"div",34),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf","Masculino"==t.sex),e.xp6(1),e.Q6J("ngIf","Femenino"==t.sex),e.xp6(1),e.Q6J("ngIf","Otro"==t.sex)}}function si(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Rol"),e.qZA())}function ci(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.rol)}}function li(n,a){1&n&&e._UZ(0,"th",35)}function mi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.visualizarUsuario(o.id))}),e.TgZ(2,"mat-icon",37),e._uU(3,"remove_red_eye"),e.qZA()(),e.TgZ(4,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.editarUsuario(o.id))}),e.TgZ(5,"mat-icon",37),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.eliminarUsuario(o.id))}),e.TgZ(8,"mat-icon",0),e._uU(9,"delete"),e.qZA()()()}}function pi(n,a){if(1&n&&(e.TgZ(0,"td",32),e.YNc(1,mi,10,0,"div",34),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",1!=t.id&&t.id!=i.user_id)}}function di(n,a){1&n&&e._UZ(0,"tr",40)}function ui(n,a){1&n&&e._UZ(0,"tr",41)}function gi(n,a){if(1&n&&(e.TgZ(0,"tr",42)(1,"td",43),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(19);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const _i=function(){return[5,10,25,100]};let fi=(()=>{class n{constructor(t,i,o,r,c,l){this.api=t,this.router=i,this.dialog=o,this.snackbar=r,this.dialogService=c,this.staticData=l,this.Filters=[{id:"?rol=&is_active=true",name:"Usuarios Activos"},{id:"?rol=&is_active=false",name:"Usuarios Inactivos"},{id:"?ordering=-created",name:"Ultimos Usuarios Creados"},{id:"?ordering=created",name:"Primeros Usuarios Creados"}],this.filter_default="?ordering=-created",this.Titulo="Usuarios",this.displayedColumns=["cedula","names","surnames","phone","sex","rol","Acciones"],this.user_id=Number(sessionStorage.getItem("user_id"))}ngOnInit(){this.staticData.setMenuGeneral(),this.cargarUsuarios(this.filter_default)}cargarUsuarios(t){this.api.getUsuarios(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}editarUsuario(t){this.router.navigate(["dashboard/usuarios/editar",t])}agregarUsuario(){this.router.navigate(["dashboard/usuarios/crear"])}visualizarUsuario(t){this.router.navigate(["dashboard/usuarios/visualizar",t])}eliminarUsuario(t){"1"==sessionStorage.getItem("rol_id")?(this.dialogService.open({title:"ELIMINAR USUARIO",message:"ESTA SEGURO QUE DESEA ELIMINAR EL USUARIO?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(o=>{o&&this.api.deleteUsuario(t).subscribe(r=>{this.snackbar.mensaje("Usuario Eliminado Exitosamente"),this.cargarUsuarios(this.filter_default)},r=>{this.dialogService.error(r.error),this.cargarUsuarios(this.filter_default)})})):this.snackbar.mensaje("No tienes permiso para Eliminar Usuarios")}filter(t){this.cargarUsuarios(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X.s),e.Y36(_.F0),e.Y36(te.uw),e.Y36(T.o),e.Y36(A.D),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-usuarios"]],viewQuery:function(t,i){if(1&t&&(e.Gf(I.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:50,vars:7,consts:[[1,"green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","cedula"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","names"],["class","ancho_columna","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","surnames"],["matColumnDef","phone"],["matColumnDef","sex"],["matColumnDef","rol"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"ancho_columna"],[4,"ngIf"],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.agregarUsuario()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon",0),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"span"),e._uU(12,"Agregar Usuario"),e.qZA()()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"mat-select",8),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(16,zt,2,2,"mat-option",9),e.qZA()(),e.TgZ(17,"div",10)(18,"input",11,12),e.NdJ("keyup",function(r){return i.aplicarFiltro(r)}),e.qZA(),e.TgZ(20,"mat-icon",0),e._uU(21," search "),e.qZA()()(),e.TgZ(22,"div",13)(23,"table",14),e.ynx(24,15),e.YNc(25,Ht,2,0,"th",16),e.YNc(26,Vt,2,1,"td",17),e.BQk(),e.ynx(27,18),e.YNc(28,$t,2,0,"th",19),e.YNc(29,Wt,2,1,"td",17),e.BQk(),e.ynx(30,20),e.YNc(31,Xt,2,0,"th",19),e.YNc(32,Kt,2,1,"td",17),e.BQk(),e.ynx(33,21),e.YNc(34,ei,2,0,"th",16),e.YNc(35,ti,2,1,"td",17),e.BQk(),e.ynx(36,22),e.YNc(37,ii,2,0,"th",16),e.YNc(38,ri,4,3,"td",17),e.BQk(),e.ynx(39,23),e.YNc(40,si,2,0,"th",16),e._UZ(41,"div"),e.YNc(42,ci,2,1,"td",17),e.BQk(),e.ynx(43,24),e.YNc(44,li,1,0,"th",25),e.YNc(45,pi,2,1,"td",17),e.BQk(),e.YNc(46,di,1,0,"tr",26),e.YNc(47,ui,1,0,"tr",27),e.YNc(48,gi,3,1,"tr",28),e.qZA(),e._UZ(49,"mat-paginator",29),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(23),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,_i)))},dependencies:[d.sg,d.O5,k.Nt,D.Hw,S.lW,C.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,B.gM,I.NW,q.YE,q.nU,O.gD,P.ey,v],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.ancho_columna[_ngcontent-%COMP%]{width:17%}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function hi(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function bi(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(12);e.xp6(1),e.hij(" La longitud de la c\xe9dula debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function Ci(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function vi(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Zi(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ti(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function yi(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function Ai(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function xi(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(55);e.xp6(1),e.hij(" La longitud del tel\xe9fono debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function wi(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ui(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(65);e.xp6(1),e.hij(" La longitud m\xednima de la contrase\xf1a debe ser de 8, Hay ",t.value.length||0," d\xedgitos !!! ")}}function qi(n,a){if(1&n&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ki(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Pi(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Oi(n,a){if(1&n&&(e.TgZ(0,"mat-option",27),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function Di(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Mi(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function Ii(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Mi,2,1,"div",7),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.form.controls.rol.hasError(t.type))}}let Ni=(()=>{class n{constructor(t,i,o,r,c,l){this.api=t,this.router=i,this.fb=o,this.snackBar=r,this.dialogService=c,this.staticData=l,this.roles=[],this.ocultar=!0,this.listSex=[{id:"Masculino",name:"Masculino"},{id:"Femenino",name:"Femenino"},{id:"Otro",name:"Otro"}],this.validation_msgs={contactAutocompleteControl:[{type:"invalidAutocompleteObject",message:"Seleccione una opci\xf3n del listado !!!"}]},this.form=this.fb.group({cedula:new s.NI("",[s.kI.required,s.kI.minLength(10)]),username:["",s.kI.required],names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),password:new s.NI("",[s.kI.required,s.kI.minLength(8)]),phone:new s.NI("",[s.kI.required,s.kI.minLength(10)]),sex:["",s.kI.required],address:["",s.kI.required],rol:new s.NI("",[s.kI.required,n=>"string"==typeof n.value?{invalidAutocompleteObject:{value:n.value}}:null])})}_filter(t){if(""===t)return this.roles.slice();const i=t.toLowerCase();return this.roles.filter(o=>o.name.toLowerCase().includes(i))}displayFn(t){return t&&t.name?t.name:void 0}ngOnInit(){this.staticData.setMenuGeneral(),this.cargarRoles()}crearUsuario(){this.form.valid?(this.dialogService.open({title:"CREAR USUARIO",message:"\xbfEST\xc1 SEGURO QUE DESEA CREAR EL NUEVO USUARIO?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("cedula",this.form.get("cedula")?.value),o.append("username",this.form.get("username")?.value),o.append("names",this.form.get("names")?.value),o.append("surnames",this.form.get("surnames")?.value),o.append("email",this.form.get("email")?.value),o.append("password",this.form.get("password")?.value),o.append("phone",this.form.get("phone")?.value),o.append("sex",this.form.get("sex")?.value),o.append("rol",this.form.get("rol")?.value.id),o.append("address",this.form.get("address")?.value),o.append("rol_request",sessionStorage.getItem("rol_id")||""),this.api.postUsuarios(o).subscribe({next:r=>{this.snackBar.mensaje("Usuario Creado Exitosamente"),this.regresarUsuarios()},error:r=>{this.dialogService.error(r.error)}})}})):this.snackBar.mensaje("Llene el formulario correctamente")}cargarRoles(){this.api.getRoles().subscribe(t=>{this.roles=t,this.filteredOptions=this.form.controls.rol.valueChanges.pipe((0,ce.O)(""),(0,le.U)(i=>{const o="string"==typeof i?i:i?.name;return o?this._filter(o):this.roles.slice()}))})}regresarUsuarios(){this.router.navigate(["/dashboard/usuarios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X.s),e.Y36(_.F0),e.Y36(s.qu),e.Y36(T.o),e.Y36(A.D),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-crear-usuarios"]],decls:106,vars:27,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["autocomplete","off","formControlName","username","type","text","matInput",""],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["matInput","","onpaste","return false","autocomplete","off","minlength","8","formControlName","password",3,"type"],["input_password",""],["mat-icon-button","","matSuffix","",3,"click"],["formControlName","sex"],[3,"value",4,"ngFor","ngForOf"],["autocomplete","off","formControlName","address","type","text","matInput",""],["type","text","matInput","","formControlName","rol",3,"matAutocomplete"],[3,"displayWith"],["auto","matAutocomplete"],[4,"ngFor","ngForOf"],[1,"container_botones"],["title","Crear",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Nuevo Usuario"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"form",2)(7,"mat-form-field")(8,"label"),e._uU(9,"C\xe9dula"),e.qZA(),e.TgZ(10,"div",3),e._UZ(11,"input",4,5),e.qZA(),e.TgZ(13,"mat-hint",6),e._uU(14),e.qZA(),e.YNc(15,hi,2,0,"mat-error",7),e.YNc(16,bi,2,1,"mat-error",7),e.qZA(),e.TgZ(17,"mat-form-field")(18,"label"),e._uU(19,"Username"),e.qZA(),e.TgZ(20,"div",3),e._UZ(21,"input",8),e.qZA(),e.TgZ(22,"mat-hint"),e._uU(23,"Nombre del usuario"),e.qZA(),e.YNc(24,Ci,2,0,"mat-error",7),e.qZA(),e.TgZ(25,"mat-form-field")(26,"label"),e._uU(27,"Nombres"),e.qZA(),e.TgZ(28,"div",3),e._UZ(29,"input",9),e.qZA(),e.TgZ(30,"mat-hint"),e._uU(31,"Nombre completo"),e.qZA(),e.YNc(32,vi,2,0,"mat-error",7),e.qZA(),e.TgZ(33,"mat-form-field")(34,"label"),e._uU(35,"Apellidos"),e.qZA(),e.TgZ(36,"div",3),e._UZ(37,"input",10),e.qZA(),e.TgZ(38,"mat-hint"),e._uU(39,"Apellido paterno y materno"),e.qZA(),e.YNc(40,Zi,2,0,"mat-error",7),e.qZA(),e.TgZ(41,"mat-form-field")(42,"label"),e._uU(43,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(44,"div",3),e._UZ(45,"input",11),e.qZA(),e.TgZ(46,"mat-hint"),e._uU(47,"Correo electr\xf3nico"),e.qZA(),e.YNc(48,Ti,2,0,"mat-error",7),e.YNc(49,yi,2,0,"mat-error",7),e.qZA(),e.TgZ(50,"mat-form-field")(51,"label"),e._uU(52,"Tel\xe9fono"),e.qZA(),e.TgZ(53,"div",3),e._UZ(54,"input",12,13),e.qZA(),e.TgZ(56,"mat-hint",6),e._uU(57),e.qZA(),e.YNc(58,Ai,2,0,"mat-error",7),e.YNc(59,xi,2,1,"mat-error",7),e.qZA(),e.TgZ(60,"mat-form-field")(61,"label"),e._uU(62,"Contrase\xf1a"),e.qZA(),e.TgZ(63,"div",3),e._UZ(64,"input",14,15),e.TgZ(66,"button",16),e.NdJ("click",function(){return i.ocultar=!i.ocultar}),e.TgZ(67,"mat-icon"),e._uU(68),e.qZA()()(),e.TgZ(69,"mat-hint"),e._uU(70),e.qZA(),e.YNc(71,wi,2,0,"mat-error",7),e.YNc(72,Ui,2,1,"mat-error",7),e.qZA(),e.TgZ(73,"mat-form-field")(74,"label"),e._uU(75,"Sexo"),e.qZA(),e.TgZ(76,"mat-select",17),e.YNc(77,qi,2,2,"mat-option",18),e.qZA(),e.TgZ(78,"mat-hint"),e._uU(79,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(80,ki,2,0,"mat-error",7),e.qZA(),e.TgZ(81,"mat-form-field")(82,"label"),e._uU(83,"Direcci\xf3n"),e.qZA(),e.TgZ(84,"div",3),e._UZ(85,"input",19),e.qZA(),e.TgZ(86,"mat-hint"),e._uU(87,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(88,Pi,2,0,"mat-error",7),e.qZA(),e.TgZ(89,"mat-form-field")(90,"label"),e._uU(91,"Rol"),e.qZA(),e.TgZ(92,"div",3),e._UZ(93,"input",20,5),e.qZA(),e.TgZ(95,"mat-autocomplete",21,22),e.YNc(97,Oi,2,2,"mat-option",18),e.ALo(98,"async"),e.qZA(),e.TgZ(99,"mat-hint"),e._uU(100,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(101,Di,2,0,"mat-error",7),e.YNc(102,Ii,2,1,"mat-error",23),e.qZA()(),e.TgZ(103,"div",24)(104,"app-button-primary",25),e.NdJ("click",function(){return i.crearUsuario()}),e.qZA(),e.TgZ(105,"app-button-primary",26),e.NdJ("click",function(){return i.regresarUsuarios()}),e.qZA()()()()),2&t){const o=e.MAs(12),r=e.MAs(55),c=e.MAs(65),l=e.MAs(96);e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.cedula.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.cedula.hasError("minlength")),e.xp6(8),e.Q6J("ngIf",i.form.controls.username.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("email")),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.phone.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.phone.hasError("minlength")),e.xp6(5),e.Q6J("type",i.ocultar?"password":"text"),e.xp6(4),e.Oqu(i.ocultar?"visibility_off":"visibility"),e.xp6(2),e.hij("Minimo 8 caracteres ",c.value.length||0,"/8 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.password.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.password.hasError("minlength")),e.xp6(5),e.Q6J("ngForOf",i.listSex),e.xp6(3),e.Q6J("ngIf",i.form.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.address.hasError("required")),e.xp6(5),e.Q6J("matAutocomplete",l),e.xp6(2),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(98,25,i.filteredOptions)),e.xp6(4),e.Q6J("ngIf",i.form.controls.rol.hasError("required")),e.xp6(1),e.Q6J("ngForOf",i.validation_msgs.contactAutocompleteControl)}},dependencies:[d.sg,d.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,f.TO,f.KE,f.bx,f.R9,k.Nt,D.Hw,S.lW,C.Ye,O.gD,P.ey,L.XC,L.ZL,x,v,d.Ov],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();function Fi(n,a){1&n&&(e.TgZ(0,"div")(1,"mat-list-item"),e._uU(2,"Activo"),e.qZA()())}function Ei(n,a){1&n&&(e.TgZ(0,"mat-list-item"),e._uU(1,"Inactivo"),e.qZA())}let Yi=(()=>{class n{constructor(t,i,o,r){this.api=t,this.router=i,this.activerouter=o,this.staticData=r,this.usuarioget={id:0,cedula:"",names:"",surnames:"",username:"",email:"",phone:"",password:"",sex:"",address:"",rol:"",is_active:!0,created:"",modified:"",last_session:""}}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activerouter.snapshot.paramMap.get("id");this.api.getUsuarioId(Number(t)).subscribe(i=>{this.usuarioget=i})}regresarUsuarios(){this.router.navigate(["/dashboard/usuarios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X.s),e.Y36(_.F0),e.Y36(_.gz),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-visualizar-usuarios"]],decls:88,vars:13,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container"],[1,"datos"],[4,"ngIf","ngIfElse"],["inactivo",""],[1,"container_botones"],["title","Salir",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Visualizar datos del Usuario"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card",2)(7,"div",3)(8,"div",4)(9,"mat-label"),e._uU(10,"C\xe9dula"),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"mat-list-item"),e._uU(13),e.qZA()(),e.TgZ(14,"div",4)(15,"mat-label"),e._uU(16,"Usuario"),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"mat-list-item"),e._uU(19),e.qZA()()(),e.TgZ(20,"div",3)(21,"div",4)(22,"mat-label"),e._uU(23,"Nombres"),e.qZA(),e._UZ(24,"br"),e.TgZ(25,"mat-list-item"),e._uU(26),e.qZA()(),e.TgZ(27,"div",4)(28,"mat-label"),e._uU(29,"Apellidos"),e.qZA(),e._UZ(30,"br"),e.TgZ(31,"mat-list-item"),e._uU(32),e.qZA()()(),e.TgZ(33,"div",3)(34,"div",4)(35,"mat-label"),e._uU(36,"Email"),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"mat-list-item"),e._uU(39),e.qZA()(),e.TgZ(40,"div",4)(41,"mat-label"),e._uU(42,"Tel\xe9fono"),e.qZA(),e._UZ(43,"br"),e.TgZ(44,"mat-list-item"),e._uU(45),e.qZA()()(),e.TgZ(46,"div",3)(47,"div",4)(48,"mat-label"),e._uU(49,"Sexo"),e.qZA(),e._UZ(50,"br"),e.TgZ(51,"mat-list-item"),e._uU(52),e.qZA()(),e.TgZ(53,"div",4)(54,"mat-label"),e._uU(55,"Direcci\xf3n"),e.qZA(),e._UZ(56,"br"),e.TgZ(57,"mat-list-item"),e._uU(58),e.qZA()()(),e.TgZ(59,"div",3)(60,"div",4)(61,"mat-label"),e._uU(62,"Rol"),e.qZA(),e._UZ(63,"br"),e.TgZ(64,"mat-list-item"),e._uU(65),e.qZA()(),e.TgZ(66,"div",4)(67,"mat-label"),e._uU(68,"Estado"),e.qZA(),e._UZ(69,"br"),e.YNc(70,Fi,3,0,"div",5),e.YNc(71,Ei,2,0,"ng-template",null,6,e.W1O),e.qZA()(),e.TgZ(73,"div",3)(74,"div",4)(75,"mat-label"),e._uU(76,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(77,"br"),e.TgZ(78,"mat-list-item"),e._uU(79),e.qZA()(),e.TgZ(80,"div",4)(81,"mat-label"),e._uU(82,"\xdaltima modificaci\xf3n"),e.qZA(),e._UZ(83,"br"),e.TgZ(84,"mat-list-item"),e._uU(85),e.qZA()()(),e.TgZ(86,"div",7)(87,"app-button-primary",8),e.NdJ("click",function(){return i.regresarUsuarios()}),e.qZA()()()()()),2&t){const o=e.MAs(72);e.xp6(13),e.Oqu(i.usuarioget.cedula),e.xp6(6),e.Oqu(i.usuarioget.username),e.xp6(7),e.Oqu(i.usuarioget.names),e.xp6(6),e.Oqu(i.usuarioget.surnames),e.xp6(7),e.Oqu(i.usuarioget.email),e.xp6(6),e.Oqu(i.usuarioget.phone),e.xp6(7),e.Oqu(i.usuarioget.sex),e.xp6(6),e.Oqu(i.usuarioget.address),e.xp6(7),e.Oqu(i.usuarioget.rol),e.xp6(5),e.Q6J("ngIf",i.usuarioget.is_active)("ngIfElse",o),e.xp6(9),e.Oqu(i.usuarioget.created),e.xp6(6),e.Oqu(i.usuarioget.modified)}},dependencies:[d.O5,f.hX,C.Ye,K.Tg,R.a8,x,v],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:20px;flex-direction:row}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 25px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.mat-list-item[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}"]}),n})();function Ji(n,a){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ri(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"ID"),e.qZA())}function ji(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.id)}}function Li(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Rol"),e.qZA())}function Gi(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.name)}}function Qi(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Descripci\xf3n"),e.qZA())}function Bi(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.description)}}function zi(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1," Fecha de creaci\xf3n "),e.qZA())}function Hi(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.created)}}function Vi(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Estado"),e.qZA())}function $i(n,a){1&n&&(e.TgZ(0,"div")(1,"div",6),e._uU(2,"Activo"),e.qZA()())}function Wi(n,a){1&n&&(e.TgZ(0,"div")(1,"div",6),e._uU(2,"Inactivo"),e.qZA()())}function Xi(n,a){if(1&n&&(e.TgZ(0,"td",31),e.YNc(1,$i,3,0,"div",32),e.YNc(2,Wi,3,0,"ng-template",null,33,e.W1O),e.qZA()),2&n){const t=a.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.is_active)("ngIfElse",i)}}function Ki(n,a){1&n&&e._UZ(0,"th",34)}function en(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.permisosRol(o.id))}),e.TgZ(2,"mat-icon",37),e._uU(3,"key"),e.qZA()(),e.TgZ(4,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.editarRol(o.id))}),e.TgZ(5,"mat-icon",37),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.eliminarRol(o.id))}),e.TgZ(8,"mat-icon",6),e._uU(9,"delete"),e.qZA()()()}}function tn(n,a){if(1&n&&(e.TgZ(0,"td",31),e.YNc(1,en,10,0,"div",35),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",1!=t.id)}}function nn(n,a){1&n&&e._UZ(0,"tr",40)}function on(n,a){1&n&&e._UZ(0,"tr",41)}function an(n,a){if(1&n&&(e.TgZ(0,"tr",42)(1,"td",43),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(19);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const rn=function(){return[5,10,25,100]};let sn=(()=>{class n{constructor(t,i,o,r,c,l,p){this.api=t,this.router=i,this.dialog=o,this.snackbar=r,this.dialogService=c,this.rolSrv=l,this.staticData=p,this.Filters=[{id:"?is_active=true",name:"Roles Activos"},{id:"?is_active=false",name:"Roles Inactivos"},{id:"?ordering=-created",name:"Ultimos Roles Creados"},{id:"?ordering=created",name:"Primeros Roles Creados"}],this.filter_default="?ordering=-created",this.Titulo="Roles",this.displayedColumns=["id","name","description","created","is_active","Acciones"]}ngOnInit(){this.staticData.setMenuGeneral(),this.cargarRoles(this.filter_default)}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}cargarRoles(t){this.api.getRolesFilter(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}editarRol(t){this.router.navigate(["dashboard/roles/editar",t])}agregarRol(){this.router.navigate(["dashboard/roles/crear"])}permisosRol(t){this.router.navigate(["dashboard/roles/permisos",t])}eliminarRol(t){"1"==sessionStorage.getItem("rol_id")?(this.dialogService.open({title:"ELIMINAR ROL",message:"\xbfESTA SEGURO QUE DESEA ELIMINAR EL ROL?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(o=>{o&&this.rolSrv.deleteRol(t).subscribe(r=>{this.snackbar.mensaje("Rol Eliminado Exitosamente"),this.cargarRoles(this.filter_default)},r=>{this.dialogService.error(r.error),this.cargarRoles(this.filter_default)})})):this.snackbar.mensaje("No tienes permiso para Eliminar Roles")}filter(t){this.cargarRoles(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X.s),e.Y36(_.F0),e.Y36(te.uw),e.Y36(T.o),e.Y36(A.D),e.Y36(se),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles"]],viewQuery:function(t,i){if(1&t&&(e.Gf(I.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:46,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"green-primary"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","created"],["matColumnDef","is_active"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-cell",""],[4,"ngIf"],["mat-icon-button","","matTooltip","Permisos",1,"color_amarillo",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.agregarRol()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon",6),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"span"),e._uU(12,"Agregar Rol"),e.qZA()()()(),e.TgZ(13,"div",7)(14,"div",8)(15,"mat-select",9),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(16,Ji,2,2,"mat-option",10),e.qZA()(),e.TgZ(17,"div",11)(18,"input",12,13),e.NdJ("keyup",function(r){return i.aplicarFiltro(r)}),e.qZA(),e.TgZ(20,"mat-icon",6),e._uU(21," search "),e.qZA()()(),e.TgZ(22,"div",14)(23,"table",15),e.ynx(24,16),e.YNc(25,Ri,2,0,"th",17),e.YNc(26,ji,2,1,"td",18),e.BQk(),e.ynx(27,19),e.YNc(28,Li,2,0,"th",17),e.YNc(29,Gi,2,1,"td",18),e.BQk(),e.ynx(30,20),e.YNc(31,Qi,2,0,"th",17),e.YNc(32,Bi,2,1,"td",18),e.BQk(),e.ynx(33,21),e.YNc(34,zi,2,0,"th",17),e.YNc(35,Hi,2,1,"td",18),e.BQk(),e.ynx(36,22),e.YNc(37,Vi,2,0,"th",17),e.YNc(38,Xi,4,2,"td",18),e.BQk(),e.ynx(39,23),e.YNc(40,Ki,1,0,"th",24),e.YNc(41,tn,2,1,"td",18),e.BQk(),e.YNc(42,nn,1,0,"tr",25),e.YNc(43,on,1,0,"tr",26),e.YNc(44,an,3,1,"tr",27),e.qZA(),e._UZ(45,"mat-paginator",28),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,rn)))},dependencies:[d.sg,d.O5,k.Nt,D.Hw,S.lW,C.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,B.gM,I.NW,q.YE,q.nU,O.gD,P.ey,v],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.color_amarillo[_ngcontent-%COMP%]{color:#ffc107}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function cn(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ln(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function mn(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let pn=(()=>{class n{constructor(t,i,o,r,c,l){this.router=t,this.fb=i,this.snackbar=o,this.dialogService=r,this.rolSrv=c,this.staticData=l,this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],is_active:["",s.kI.required]})}ngOnInit(){this.staticData.setMenuGeneral()}regresarRoles(){this.router.navigate(["/dashboard/roles"])}crearRol(){this.form.valid?(this.dialogService.open({title:"CREAR ROLES",message:"\xbfEST\xc1 SEGURO QUE DESEA CREAR EL NUEVO ROL?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("name",this.form.get("name")?.value),o.append("description",this.form.get("description")?.value),o.append("is_active",this.form.get("is_active")?.value),o.append("rol_request",sessionStorage.getItem("rol_id")||""),this.rolSrv.postRoles(o).subscribe(r=>{this.snackbar.mensaje("Rol Creado Exitosamente"),this.regresarRoles()},r=>{this.dialogService.error(r.error)})}})):this.snackbar.mensaje("Llene el formulario correctamente")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(s.qu),e.Y36(T.o),e.Y36(A.D),e.Y36(se),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles-crear"]],decls:37,vars:4,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],[1,"container_botones"],["title","Crear",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Nuevo Rol"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"form",2)(7,"mat-form-field")(8,"label"),e._uU(9,"Nombre"),e.qZA(),e.TgZ(10,"div",3),e._UZ(11,"input",4),e.qZA(),e.TgZ(12,"mat-hint"),e._uU(13,"Nombre del Rol"),e.qZA(),e.YNc(14,cn,2,0,"mat-error",5),e.qZA(),e.TgZ(15,"mat-form-field")(16,"label"),e._uU(17,"Descripci\xf3n"),e.qZA(),e.TgZ(18,"div",3),e._UZ(19,"input",6),e.qZA(),e.TgZ(20,"mat-hint"),e._uU(21,"Descripci\xf3n del Rol"),e.qZA(),e.YNc(22,ln,2,0,"mat-error",5),e.qZA(),e.TgZ(23,"mat-form-field")(24,"label"),e._uU(25,"Estado"),e.qZA(),e.TgZ(26,"mat-select",7)(27,"mat-option",8),e._uU(28,"Activo"),e.qZA(),e.TgZ(29,"mat-option",9),e._uU(30,"Inactivo"),e.qZA()(),e.TgZ(31,"mat-hint"),e._uU(32,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(33,mn,2,0,"mat-error",5),e.qZA()(),e.TgZ(34,"div",10)(35,"app-button-primary",11),e.NdJ("click",function(){return i.crearRol()}),e.qZA(),e.TgZ(36,"app-button-primary",12),e.NdJ("click",function(){return i.regresarRoles()}),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")))},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,k.Nt,C.Ye,O.gD,P.ey,x,v],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();var E=g(9808),$=g(1172);function dn(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid start date"),e.qZA())}function un(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid end date"),e.qZA())}function gn(n,a){if(1&n&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function _n(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1," ID "),e.qZA())}function fn(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.id)}}function hn(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1," N\xfamero de factura "),e.qZA())}function bn(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.invoice_number)}}function Cn(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"C\xf3digo QR"),e.qZA())}function vn(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.qr_code_digits)}}function Zn(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"Cliente"),e.qZA())}function Tn(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.client)}}function yn(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"Fecha de Creaci\xf3n"),e.qZA())}function An(n,a){if(1&n&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.date_created)}}function xn(n,a){1&n&&(e.TgZ(0,"th",41),e._uU(1,"Estado"),e.qZA())}function wn(n,a){1&n&&(e.TgZ(0,"div")(1,"div",16),e._uU(2,"Reclamado"),e.qZA()())}function Un(n,a){1&n&&(e.TgZ(0,"div")(1,"div",16),e._uU(2,"Disponible"),e.qZA()())}function qn(n,a){if(1&n&&(e.TgZ(0,"td",42),e.YNc(1,wn,3,0,"div",43),e.YNc(2,Un,3,0,"ng-template",null,44,e.W1O),e.qZA()),2&n){const t=a.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf","Reclamado"==t.state)("ngIfElse",i)}}function kn(n,a){1&n&&e._UZ(0,"th",45)}function Pn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",42)(1,"div")(2,"button",46),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.view(r.id))}),e.TgZ(3,"mat-icon",47),e._uU(4," remove_red_eye "),e.qZA()(),e.TgZ(5,"button",48),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.print(r.id))}),e.TgZ(6,"mat-icon",47),e._uU(7," print "),e.qZA()(),e.TgZ(8,"button",49),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.delete(r.id))}),e.TgZ(9,"mat-icon",16),e._uU(10," delete "),e.qZA()()()()}}function On(n,a){1&n&&e._UZ(0,"tr",50)}function Dn(n,a){1&n&&e._UZ(0,"tr",51)}function Mn(n,a){if(1&n&&(e.TgZ(0,"tr",52)(1,"td",53),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(46);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const In=function(){return[5,10,25,100]};let Sn=(()=>{class n{constructor(t,i,o,r,c,l,p){this.router=t,this.ticketAPI=i,this.permissionsAPI=o,this.confirmDialog=r,this.snackBar=c,this.statickData=l,this.gameDataSrv=p,this.range=new s.cw({start:new s.NI(null),end:new s.NI(null)}),this.Filters=[{id:"?state=Disponible",name:"Tickets Disponibles"},{id:"?state=Reclamado",name:"Tickets Reclamados"},{id:"?ordering=-date_created",name:"Ultimos Tickets Creados"},{id:"?ordering=date_created",name:"Primeros Tickets Creados"}],this.filter_default="?ordering=-date_created",this.singularName="ticket",this.pluralName="tickets",this.actionName="eliminar",this.permissions=[],this.total_tickets=0,this.displayedColumns=["id","invoice_number","qr_code_digits","client","date_created","state","actions"]}ngOnInit(){this.loadAll(this.filter_default)}loadAll(t){this.statickData.setMenuGeneral(),this.ticketAPI.getFilter(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.total_tickets=i.length})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLocaleLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}view(t){this.router.navigate(["/dashboard/"+this.pluralName+"/vizualizar/"+t])}edit(t){this.router.navigate(["/dashboard/"+this.pluralName+"/editar/"+t])}delete(t){var i=this;return(0,y.Z)(function*(){i.permissions=yield i.Permisos("Eliminar Ticket"),i.permissions.length>0?(i.showDeleteDialog(),i.confirmDialog.confirmed().subscribe(o=>{o&&i.ticketAPI.delete(t).subscribe(r=>{i.snackBar.mensaje(i.singularName+" eliminado exitosamente"),i.loadAll(i.filter_default)},r=>{i.confirmDialog.error(r.error)})})):i.snackBar.mensaje("No tienes permiso para Eliminar "+i.singularName)})()}print(t){var i=this;return(0,y.Z)(function*(){(yield i.Permisos("Imprimir Ticket")).length>0?alert("Imprimiendo Ticket "+t):i.snackBar.mensaje("No tienes permisos para Imprimir Ticket")})()}showDeleteDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que desea eliminar el "+this.singularName+" ?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t)}Permisos(t){var i=this;return(0,y.Z)(function*(){let o=Number(sessionStorage.getItem("rol_id")),r=yield(0,E.n)(i.permissionsAPI.getPermisosbyName(t)),c=Number(r[0].id);return yield(0,E.n)(i.permissionsAPI.getPermisosbyRolandPermission(o,c))})()}toCreation(){this.router.navigate(["dashboard/"+this.pluralName+"/crear"])}toList(){this.router.navigate(["dashboard/"+this.pluralName])}filter(t){this.loadAll(t)}toTicketConfiguration(){this.router.navigate(["dashboard/tickets/configuracion"])}date_filter(){if(this.range.value.start||this.range.value.end){let t=this.range.get("start")?.value,i=this.range.get("end")?.value,o=this.gameDataSrv.DateFormat(t).split("T")[0],r=this.gameDataSrv.DateFormat(i).split("T")[0];this.loadAll("?date_created__date__range="+o+"%2C"+r)}else this.loadAll(this.filter_default)}date_filter2(){this.range.get("start")?.setValue(null),this.range.get("end")?.setValue(null),this.loadAll(this.filter_default)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36($.w),e.Y36(ee),e.Y36(A.D),e.Y36(T.o),e.Y36(h.Q),e.Y36(Q.V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tickets"]],viewQuery:function(t,i){if(1&t&&(e.Gf(I.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:76,vars:13,consts:[[1,"background-navy-primary","green-primary"],[1,"spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],["mat-raised-button","","disabled","true"],[1,"filter_search_container"],[1,"date_range"],[1,"date_range_container"],[1,"date_text",3,"formGroup","rangePicker"],["matStartDate","","formControlName","start"],["matEndDate","","formControlName","end"],["matIconSuffix","",1,"green-primary",3,"for"],["picker",""],["mat-icon-button","","color","primary","matTooltip","Enviar fecha",3,"click"],[1,"green-primary"],[4,"ngIf"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","invoice_number"],["matColumnDef","qr_code_digits"],["matColumnDef","client"],["matColumnDef","date_created"],["matColumnDef","state"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["disponible",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Imprimir",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Tickets"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.toCreation()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon"),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"span"),e._uU(12),e.qZA()()(),e.TgZ(13,"button",6)(14,"div",4)(15,"span"),e._uU(16),e.qZA()()(),e.TgZ(17,"button",3),e.NdJ("click",function(){return i.toTicketConfiguration()}),e.TgZ(18,"div",4)(19,"div",5)(20,"mat-icon"),e._uU(21,"confirmation_number"),e.qZA()(),e.TgZ(22,"span"),e._uU(23,"Configuraci\xf3n del Ticket"),e.qZA()()()(),e.TgZ(24,"div",7)(25,"div",8)(26,"div",9)(27,"mat-date-range-input",10),e._UZ(28,"input",11)(29,"input",12),e.qZA(),e._UZ(30,"mat-datepicker-toggle",13)(31,"mat-date-range-picker",null,14),e.TgZ(33,"button",15),e.NdJ("click",function(){return i.date_filter()}),e.TgZ(34,"mat-icon",16),e._uU(35,"done"),e.qZA()(),e.TgZ(36,"button",15),e.NdJ("click",function(){return i.date_filter2()}),e.TgZ(37,"mat-icon",16),e._uU(38,"close"),e.qZA()()(),e.YNc(39,dn,2,0,"mat-error",17),e.YNc(40,un,2,0,"mat-error",17),e.qZA(),e.TgZ(41,"div",18)(42,"mat-select",19),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(43,gn,2,2,"mat-option",20),e.qZA()(),e.TgZ(44,"div",21)(45,"input",22,23),e.NdJ("keyup",function(r){return i.applyFilter(r)}),e.qZA(),e.TgZ(47,"mat-icon",16),e._uU(48," search "),e.qZA()()(),e.TgZ(49,"div",24)(50,"table",25),e.ynx(51,26),e.YNc(52,_n,2,0,"th",27),e.YNc(53,fn,2,1,"td",28),e.BQk(),e.ynx(54,29),e.YNc(55,hn,2,0,"th",27),e.YNc(56,bn,2,1,"td",28),e.BQk(),e.ynx(57,30),e.YNc(58,Cn,2,0,"th",27),e.YNc(59,vn,2,1,"td",28),e.BQk(),e.ynx(60,31),e.YNc(61,Zn,2,0,"th",27),e.YNc(62,Tn,2,1,"td",28),e.BQk(),e.ynx(63,32),e.YNc(64,yn,2,0,"th",27),e.YNc(65,An,2,1,"td",28),e.BQk(),e.ynx(66,33),e.YNc(67,xn,2,0,"th",27),e.YNc(68,qn,4,2,"td",28),e.BQk(),e.ynx(69,34),e.YNc(70,kn,1,0,"th",35),e.YNc(71,Pn,11,0,"td",28),e.BQk(),e.YNc(72,On,1,0,"tr",36),e.YNc(73,Dn,1,0,"tr",37),e.YNc(74,Mn,3,1,"tr",38),e.qZA(),e._UZ(75,"mat-paginator",39),e.qZA()()),2&t){const o=e.MAs(32);e.xp6(12),e.hij("Agregar ",i.singularName,""),e.xp6(4),e.hij("Tickets Generados: ",i.total_tickets,""),e.xp6(11),e.Q6J("formGroup",i.range)("rangePicker",o),e.xp6(3),e.Q6J("for",o),e.xp6(9),e.Q6J("ngIf",i.range.controls.start.hasError("matStartDateInvalid")),e.xp6(1),e.Q6J("ngIf",i.range.controls.end.hasError("matEndDateInvalid")),e.xp6(3),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(12,In))}},dependencies:[d.sg,d.O5,s.Fj,s.JJ,s.JL,s.sg,s.u,f.TO,k.Nt,D.Hw,S.lW,C.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,B.gM,I.NW,q.YE,q.nU,O.gD,P.ey,U.nW,U.wx,U.zY,U.By,U._g,v],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px 7%}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%], .date_range[_ngcontent-%COMP%]{text-align:center;width:400px;height:26px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.date_range_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.date_range[_ngcontent-%COMP%]{color:var(--color-principal)}.date_text[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-left:100px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})(),oe=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAll(){return this.http.get(this.url+"api/client/")}getById(t){return this.http.get(this.url+"api/client/"+t+"/")}post(t){return this.http.post(this.url+"api/client/",t)}put(t,i){return this.http.put(this.url+"api/client/"+t+"/",i)}delete(t){return this.http.delete(this.url+"api/client/"+t+"/")}getFilter(t){return this.http.get(this.url+"api/clientfilter/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(re.eN),e.LFG(h.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var me=g(3021);let he=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getTicketConfiguration(){return this.http.get(`${this.url}api/ticketconfiguration/1/`)}updateTicketConfiguration(t){return this.http.put(this.url+"api/ticketconfiguration/1/",t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(re.eN),e.LFG(h.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var be=g(100);let Ce=(()=>{class n{constructor(t,i){this.GameSrv=t,this.QrConfigSrv=i,this.logo="",this.title="",this.description="",this.startdate="",this.enddate="",this.codigoQR="",this.QRdata=""}ngOnInit(){this.GameSrv.getById(1).subscribe(t=>{this.startdate=t.start_date.split("T")[0].split("-").reverse().join("/"),this.enddate=t.end_date.split("T")[0].split("-").reverse().join("/")}),this.QrConfigSrv.getTicketConfiguration().subscribe(t=>{this.logo=t.logo,this.title=t.title,this.description=t.description})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(me.h),e.Y36(he))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tickect-qr"]],inputs:{logo:"logo",title:"title",description:"description",startdate:"startdate",enddate:"enddate",codigoQR:"codigoQR",QRdata:"QRdata"},decls:13,vars:8,consts:[[1,"ticket_container"],[1,"logo_container"],["alt","logo",3,"src"],[1,"title_container"],[1,"QR_container"],["colorDark","#000","margin","0","colorLight","#fff",3,"width","qrdata"],[1,"text_default"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"h1"),e._uU(5),e.qZA(),e.TgZ(6,"h2"),e._uU(7),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"qrcode",5),e.qZA(),e.TgZ(10,"div",6)(11,"p"),e._uU(12),e.qZA()()()),2&t&&(e.xp6(2),e.s9C("src",i.logo,e.LSH),e.xp6(3),e.Oqu(i.title),e.xp6(2),e.hij("C\xf3digo Qr:\xa0\xa0 ",i.codigoQR,""),e.xp6(2),e.Q6J("width",300)("qrdata",i.QRdata),e.xp6(3),e.lnq(" Promoci\xf3n v\xe1lida del ",i.startdate," al ",i.enddate," ",i.description," "))},dependencies:[be.V],styles:[".ticket_container[_ngcontent-%COMP%]{width:80%;height:100%;padding:15px;background:#fff;text-align:center}.logo_container[_ngcontent-%COMP%]{margin-bottom:5px;width:100%;height:100px}.logo_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:125px;border-radius:10px;object-fit:fill}.QR_container[_ngcontent-%COMP%]{margin-top:25px}.title_container[_ngcontent-%COMP%]{margin-bottom:10px;width:100%;height:50px}p[_ngcontent-%COMP%]{padding:15px;font-size:15px}h3[_ngcontent-%COMP%]{font-size:20px}h2[_ngcontent-%COMP%]{font-size:25px}h1[_ngcontent-%COMP%]{margin-bottom:0}"]}),n})();function Nn(n,a){if(1&n&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.client," ")}}function Fn(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function En(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function Yn(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,En,2,1,"div",8),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.client.hasError(t.type))}}function Jn(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Rn(n,a){if(1&n&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function jn(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Ln(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-button-primary",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.create())}),e.qZA()()}}function Gn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-button-primary",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.newForm())}),e.qZA(),e.TgZ(2,"app-button-primary",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.print())}),e.qZA()()}}let Bn=(()=>{class n{constructor(t,i,o,r,c,l,p,u,b){this.router=t,this.formBuilder=i,this.snackBar=o,this.confirmDialog=r,this.ticketAPI=c,this.ClientAPI=l,this.GameAPI=p,this.staticData=u,this.gameDataSrv=b,this.singularName="Ticket",this.pluralName="Tickets",this.actionName="Crear",this.allClients=[],this.allGames=[],this.invoiceNumber="",this.qr_code_digits="",this.clientId="",this.game_id="",this.Ticket_data="",this.CanPrint=!1,this.start_date_game=new Date,this.end_date_game=new Date,this.validation_msgs={contactAutocompleteControl:[{type:"invalidAutocompleteObject",message:"Seleccione una opci\xf3n del listado !!!"}]},this.formGroup=this.formBuilder.group({qr_code_digits:[""],invoice_number:["",s.kI.required],client:new s.NI("",[s.kI.required,n=>"string"==typeof n.value?{invalidAutocompleteObject:{value:n.value}}:null]),game:["",s.kI.required]}),this.ClientAPI.getAll().subscribe(M=>{this.allClients=M,0==M.length&&this.confirmDialog.error(["No hay un cliente creado"])}),this.GameAPI.getAll().subscribe(M=>{this.allGames=M,this.filteredOptions=this.formGroup.controls.client.valueChanges.pipe((0,ce.O)(""),(0,le.U)(G=>{const pe="string"==typeof G?G:G?.name;return pe?this._filter(pe):this.allClients.slice()}))})}_filter(t){if(""===t)return this.allClients.slice();const i=t.toLowerCase();return this.allClients.filter(o=>o.client.toLowerCase().includes(i))}displayFn(t){return t&&t.client?t.client:void 0}toList(){this.router.navigate(["dashboard/tickets"])}create(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que desea "+this.actionName+" el nuevo "+this.singularName+"?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){this.dateGame(),this.confirmDialog.confirmed().subscribe(t=>{if(t){this.generateQRCode();let i=this.fillForm();this.ticketAPI.post(i).subscribe({next:o=>{this.formGroup.get("client")?.disable(),this.formGroup.get("invoice_number")?.disable(),this.formGroup.get("game")?.disable(),this.snackBar.mensaje(this.singularName+" Creado Exitosamente"),this.CanPrint=!0},error:o=>{this.confirmDialog.error(o.error),this.Ticket_data="Ticket de Prueba",this.qr_code_digits=""}})}})}fillForm(){let t=sessionStorage.getItem("user_id"),i=new FormData;i.append("invoice_number",this.formGroup.get("invoice_number")?.value),i.append("client",this.formGroup.get("client")?.value.id),i.append("game",this.formGroup.get("game")?.value),i.append("user_register",t),i.append("qr_code_digits",this.qr_code_digits);let o=this.gameDataSrv.DateFormat(this.start_date_game);i.append("game_start",o);let r=this.gameDataSrv.DateFormat(this.end_date_game);return i.append("game_end",r),i}ngOnInit(){this.staticData.setMenuGeneral()}generateQRCode(){if(""!=this.qr_code_digits)return;this.invoiceNumber=this.formGroup.get("invoice_number")?.value,this.clientId=this.formGroup.get("client")?.value.id,this.game_id=this.formGroup.get("game")?.value;let i=[];do{this.qr_code_digits=(Math.floor(9e5*Math.random())+1e5).toString(10),this.ticketAPI.getFilter("?state=Disponible&qr_code_digits="+this.qr_code_digits).subscribe({next:r=>{i=r}})}while(i.length>0);this.Ticket_data=this.qr_code_digits}newForm(){window.location.reload()}print(){alert("imprimiendo")}dateGame(){var t=this;return(0,y.Z)(function*(){t.GameAPI.getById(1).subscribe(i=>{let[o,r,c]=i.start_date.split(" ")[0].split("/");t.start_date_game=new Date(parseInt(c),parseInt(r)-1,parseInt(o),parseInt("00"),parseInt("00"));let[l,p,u]=i.end_date.split(" ")[0].split("/");t.end_date_game=new Date(parseInt(u),parseInt(p)-1,parseInt(l),parseInt("00"),parseInt("00"))})})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(s.qu),e.Y36(T.o),e.Y36(A.D),e.Y36($.w),e.Y36(oe),e.Y36(me.h),e.Y36(h.Q),e.Y36(Q.V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-ticket"]],decls:43,vars:16,consts:[[1,"FormContainer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["type","text","matInput","","formControlName","client",3,"matAutocomplete"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["matInput","","autocomplete","off","formControlName","invoice_number","type","text","required","","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],["formControlName","game","mat-select",""],[1,"container_botones"],["backgroundColor","#fff","title","Cancelar",3,"click"],[1,"QR_container"],[3,"codigoQR","QRdata"],[3,"value"],["title","Crear",3,"click"],["title","Nuevo",3,"click"],["title","Imprimir",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Nuevo Ticket"),e.qZA()(),e.TgZ(4,"div",0)(5,"div",1)(6,"form",2)(7,"mat-form-field")(8,"label"),e._uU(9,"Cliente"),e.qZA(),e.TgZ(10,"div",3),e._UZ(11,"input",4),e.qZA(),e.TgZ(12,"mat-autocomplete",5,6),e.YNc(14,Nn,2,2,"mat-option",7),e.ALo(15,"async"),e.qZA(),e.TgZ(16,"mat-hint"),e._uU(17,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(18,Fn,2,0,"mat-error",8),e.YNc(19,Yn,2,1,"mat-error",9),e.qZA(),e.TgZ(20,"mat-form-field")(21,"label"),e._uU(22,"N\xfamero de Factura"),e.qZA(),e.TgZ(23,"div",3),e._UZ(24,"input",10,11),e.qZA(),e.TgZ(26,"mat-hint",12),e._uU(27),e.qZA(),e.YNc(28,Jn,2,0,"mat-error",8),e.qZA(),e.TgZ(29,"mat-form-field")(30,"label"),e._uU(31,"Juego"),e.qZA(),e.TgZ(32,"mat-select",13),e.YNc(33,Rn,2,2,"mat-option",7),e.qZA(),e.TgZ(34,"mat-hint"),e._uU(35,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(36,jn,2,0,"mat-error",8),e.qZA()(),e.TgZ(37,"div",14),e.YNc(38,Ln,2,0,"div",8),e.YNc(39,Gn,3,0,"div",8),e.TgZ(40,"app-button-primary",15),e.NdJ("click",function(){return i.toList()}),e.qZA()()(),e.TgZ(41,"div",16),e._UZ(42,"app-tickect-qr",17),e.qZA()()()),2&t){const o=e.MAs(13),r=e.MAs(25);e.xp6(6),e.Q6J("formGroup",i.formGroup),e.xp6(5),e.Q6J("matAutocomplete",o),e.xp6(1),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(15,14,i.filteredOptions)),e.xp6(4),e.Q6J("ngIf",i.formGroup.controls.client.hasError("required")),e.xp6(1),e.Q6J("ngForOf",i.validation_msgs.contactAutocompleteControl),e.xp6(8),e.hij(" ",r.value.length||0," "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.invoice_number.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.allGames),e.xp6(3),e.Q6J("ngIf",i.formGroup.controls.game.hasError("required")),e.xp6(2),e.Q6J("ngIf",0==i.CanPrint),e.xp6(1),e.Q6J("ngIf",1==i.CanPrint),e.xp6(3),e.Q6J("codigoQR",i.qr_code_digits)("QRdata",i.Ticket_data)}},dependencies:[d.sg,d.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,f.TO,f.KE,f.bx,k.Nt,C.Ye,O.gD,P.ey,L.XC,L.ZL,x,Ce,v,d.Ov],styles:[".FormContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row}mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:20px;justify-content:center;align-items:center;width:60%}.QR_container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;width:40%}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();function zn(n,a){if(1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.ticket.date_ticket_played)}}function Hn(n,a){1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1,"A\xfan el ticket no ha sido canjeado"),e.qZA())}let Vn=(()=>{class n{constructor(t,i,o,r){this.router=t,this.activedRoute=i,this.ticketAPI=o,this.staticData=r,this.singularName="ticket",this.pluralName="tickets",this.actionName="visualizar",this.samedate=!1,this.QRdata="",this.ticket={id:"",invoice_number:"",date_created:"",date_ticket_played:"",qr_code_digits:"",state:"",client:"",game_id:"",game_name:"",user_register:"",client_cedula:"",client_id:"",game_start:"",game_end:""}}toList(){this.router.navigate(["dashboard/"+this.pluralName])}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activedRoute.snapshot.paramMap.get("id");this.ticketAPI.getById(Number(t)).subscribe(i=>{this.ticket=i,this.QRdata=i.game_id+"|"+i.invoice_number+"|"+i.client_id+"|"+i.qr_code_digits,this.ticket.date_created==this.ticket.date_ticket_played&&(this.samedate=!0)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(_.gz),e.Y36($.w),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-ticket"]],decls:79,vars:13,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[1,"container"],[1,"datos"],["role","listitem"],[4,"ngIf","ngIfElse"],["inactivo",""],[1,"container_img"],["colorDark","#fff","colorLight","#000",3,"width","qrdata"],[1,"container_botones"],["title","Salir",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Visualizar ticket"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card",2)(7,"div",3)(8,"div")(9,"div",4)(10,"div",5)(11,"mat-label"),e._uU(12,"Cedula"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"mat-list-item",6),e._uU(15),e.qZA()(),e.TgZ(16,"div",5)(17,"mat-label"),e._uU(18,"Cliente"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"mat-list-item",6),e._uU(21),e.qZA()()(),e.TgZ(22,"div",4)(23,"div",5)(24,"mat-label"),e._uU(25,"Juego Seleccionado"),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"mat-list-item",6),e._uU(28),e.qZA()(),e.TgZ(29,"div",5)(30,"mat-label"),e._uU(31,"C\xf3digo del Ticket"),e.qZA(),e._UZ(32,"br"),e.TgZ(33,"mat-list-item",6),e._uU(34),e.qZA()()(),e.TgZ(35,"div",4)(36,"div",5)(37,"mat-label"),e._uU(38,"Fecha de Emisi\xf3n del Ticket"),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"mat-list-item",6),e._uU(41),e.qZA()(),e.TgZ(42,"div",5)(43,"mat-label"),e._uU(44,"Fecha de Canjeo del Ticket"),e.qZA(),e._UZ(45,"br"),e.YNc(46,zn,3,1,"div",7),e.YNc(47,Hn,2,0,"ng-template",null,8,e.W1O),e.qZA()(),e.TgZ(49,"div",4)(50,"div",5)(51,"mat-label"),e._uU(52,"N\xfamero de Factura"),e.qZA(),e._UZ(53,"br"),e.TgZ(54,"mat-list-item",6),e._uU(55),e.qZA()(),e.TgZ(56,"div",5)(57,"mat-label"),e._uU(58,"Personal que lo antendi\xf3"),e.qZA(),e._UZ(59,"br"),e.TgZ(60,"mat-list-item",6),e._uU(61),e.qZA()()(),e.TgZ(62,"div",4)(63,"div",5)(64,"mat-label"),e._uU(65,"Fecha inicial del juego"),e.qZA(),e._UZ(66,"br"),e.TgZ(67,"mat-list-item",6),e._uU(68),e.qZA()(),e.TgZ(69,"div",5)(70,"mat-label"),e._uU(71,"Fecha final del juego"),e.qZA(),e._UZ(72,"br"),e.TgZ(73,"mat-list-item",6),e._uU(74),e.qZA()()()(),e.TgZ(75,"div",9),e._UZ(76,"qrcode",10),e.qZA()(),e.TgZ(77,"div",11)(78,"app-button-primary",12),e.NdJ("click",function(){return i.toList()}),e.qZA()()()()()),2&t){const o=e.MAs(48);e.xp6(15),e.Oqu(i.ticket.client_cedula),e.xp6(6),e.Oqu(i.ticket.client),e.xp6(7),e.Oqu(i.ticket.game_name),e.xp6(6),e.Oqu(i.ticket.qr_code_digits),e.xp6(7),e.Oqu(i.ticket.date_created),e.xp6(5),e.Q6J("ngIf",0==i.samedate)("ngIfElse",o),e.xp6(9),e.Oqu(i.ticket.invoice_number),e.xp6(6),e.Oqu(i.ticket.user_register),e.xp6(7),e.Oqu(i.ticket.game_start),e.xp6(6),e.Oqu(i.ticket.game_end),e.xp6(2),e.Q6J("width",350)("qrdata",i.QRdata)}},dependencies:[d.O5,f.hX,C.Ye,K.Tg,R.a8,be.V,x,v],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:20px}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background-color:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.container_img[_ngcontent-%COMP%]{width:500px;height:350px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.mat-list-item[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}"]}),n})();function $n(n,a){if(1&n&&e._UZ(0,"img",15),2&n){const t=e.oxw(2);e.s9C("src",t.dashStyle.get_image_logo_tragamonedas(),e.LSH)}}function Wn(n,a){if(1&n&&e._UZ(0,"img",15),2&n){const t=e.oxw(2);e.s9C("src",t.dashStyle.get_image_logo_precision(),e.LSH)}}function Xn(n,a){if(1&n&&e._UZ(0,"img",15),2&n){const t=e.oxw(2);e.s9C("src",t.dashStyle.get_image_logo_dados(),e.LSH)}}function Kn(n,a){if(1&n&&e._UZ(0,"img",15),2&n){const t=e.oxw(2);e.s9C("src",t.dashStyle.get_image_logo_puertas(),e.LSH)}}function eo(n,a){1&n&&(e.TgZ(0,"div")(1,"p",16),e._uU(2," Gira las casillas para ganar el premio. "),e.qZA()())}function to(n,a){1&n&&(e.TgZ(0,"div")(1,"p",16),e._uU(2," Det\xe9n el reloj en la hora objetivo para ganar el premio. "),e.qZA()())}function io(n,a){1&n&&(e.TgZ(0,"div")(1,"p",16),e._uU(2," Gira el dado y adivina el n\xfamero para ganar el premio. "),e.qZA()())}function no(n,a){1&n&&(e.TgZ(0,"div")(1,"p",16),e._uU(2," Selecciona una puerta para ganar el premio. "),e.qZA()())}function oo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"figure",4),e.YNc(2,$n,1,1,"img",5),e.YNc(3,Wn,1,1,"img",5),e.YNc(4,Xn,1,1,"img",5),e.YNc(5,Kn,1,1,"img",5),e.qZA(),e.TgZ(6,"div",6)(7,"h3",7),e._uU(8),e.qZA()(),e.TgZ(9,"div",8)(10,"h3",9),e._uU(11),e.qZA()(),e.TgZ(12,"div",10),e._UZ(13,"app-button-primary",11),e.qZA(),e.TgZ(14,"div",8),e.YNc(15,eo,3,0,"div",12),e.YNc(16,to,3,0,"div",12),e.YNc(17,io,3,0,"div",12),e.YNc(18,no,3,0,"div",12),e.qZA(),e.TgZ(19,"div",13)(20,"app-button-primary",14),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onSelectGame(r.name))}),e.qZA()()()}if(2&n){const t=a.$implicit,i=e.oxw();e.xp6(2),e.Q6J("ngIf","Tragamonedas"===t.name),e.xp6(1),e.Q6J("ngIf","Precision"===t.name),e.xp6(1),e.Q6J("ngIf","Dados"===t.name),e.xp6(1),e.Q6J("ngIf","Puertas"===t.name),e.xp6(3),e.Oqu(t.name),e.xp6(3),e.hij("Cantidad de jugadas hasta el momento: ",i.total_players,""),e.xp6(4),e.Q6J("ngIf","Tragamonedas"===t.name),e.xp6(1),e.Q6J("ngIf","Precision"===t.name),e.xp6(1),e.Q6J("ngIf","Dados"===t.name),e.xp6(1),e.Q6J("ngIf","Puertas"===t.name)}}let ao=(()=>{class n{constructor(t,i,o,r,c,l,p,u){this.GameAPI=t,this.staticData=i,this.router=o,this.snackbar=r,this.matchSrv=c,this.gameSelectionService=l,this.dashStyle=p,this.theme=u,this.singularName="Juego",this.pluralName="Juegos",this.actionName="Seleccionar",this.allGames=[],this.total_players=0,this.GameAPI.getAll().subscribe(b=>{this.allGames=b})}onSelectGame(t){this.gameSelectionService.setSelectedGame(t),this.juego_settings(t)}ngOnInit(){this.staticData.setMenuGeneral(),this.matchSrv.getAllMatch().subscribe(t=>{this.total_players=Object.keys(t).length}),this.theme.getDesignInformation().subscribe(t=>{this.dashStyle.loadData(t[0])})}juego_settings(t){this.router.navigate([{Tragamonedas:"/dashboard/juego/resumen",Dados:"/dashboard/juego/resumen/rolldice",Puertas:"/dashboard/juego/resumen/puertas",Precision:"/dashboard/juego/resumen/precision"}[t]])}toogleActiveGame(t){let r;r="Activado"==this.allGames.filter(l=>l.id==String(t))[0].state?"Desactivado":"Activado";let c={id:String(t),modification_date:(new Date).toISOString(),state:r,is_active:"true"};this.GameAPI.putGame(t,c).subscribe(l=>{console.log(l)}),this.snackbar.mensaje("Se a actualizado el estado del juego")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(me.h),e.Y36(h.Q),e.Y36(_.F0),e.Y36(T.o),e.Y36(W.Q),e.Y36(N.B),e.Y36(H.T),e.Y36(z.f))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-selection"]],decls:6,vars:1,consts:[[1,"background-navy-primary","green-primary"],[1,"container","p-5","px-1","container_juego2"],["class","container container-juego2 background-navy-primary green-primary text-center pt-4 pb-1",4,"ngFor","ngForOf"],[1,"container","container-juego2","background-navy-primary","green-primary","text-center","pt-4","pb-1"],[1,"logo-game-container"],["alt","no image",3,"src",4,"ngIf"],[1,"row","mt-5"],[1,"col"],[1,"row"],[1,"color-white","jugadores-text"],[1,"row","mb-4"],["title","Activado",1,"col"],[4,"ngIf"],[1,"row","mb-2"],["title","Continuar","backgroundColor","#fff",1,"col",3,"click"],["alt","no image",3,"src"],[1,"col","color-white"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Seleccionar Juego"),e.qZA()(),e.TgZ(4,"div",1),e.YNc(5,oo,21,10,"div",2),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngForOf",i.allGames))},dependencies:[d.sg,d.O5,C.Ye,x,v],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%}.container_juego[_ngcontent-%COMP%]{margin-top:5%}.container-juego[_ngcontent-%COMP%]{position:relative;max-width:26rem;border-radius:15px}.jugadores-text[_ngcontent-%COMP%]{margin-right:6rem}.logo-game-container[_ngcontent-%COMP%]{position:absolute;top:-53px;border-radius:50%;width:7rem;height:7rem;left:calc(50% - 56px);display:flex;justify-content:center;align-items:center}.logo-game-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:100px;margin-left:7px}.container2[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;gap:20px}.container-juego2[_ngcontent-%COMP%]{position:relative;max-width:26rem;border-radius:40px}.container_juego2[_ngcontent-%COMP%]{margin-top:5%;display:flex;justify-content:center;gap:50px}.logo-game-container2[_ngcontent-%COMP%]{margin-bottom:10px}@media (max-width: 768px){.container_juego2[_ngcontent-%COMP%]{flex-basis:calc(50% - 20px)}}"]}),n})(),ro=(()=>{class n{constructor(t,i,o,r,c,l,p){this.publicity=t,this.dashboardPublicityService=i,this.router=o,this.snackbar=r,this.dialogService=c,this.staticData=l,this.gameSelectionService=p}ngOnInit(){this.gameSelectionService.selectedGame$.subscribe(t=>{this.staticData.setMenu(t),this.loadPublicityData()})}loadPublicityData(){this.publicity.getPublicityTopList().subscribe(t=>{t.length>0&&(this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.U),e.Y36(J.E),e.Y36(_.F0),e.Y36(T.o),e.Y36(A.D),e.Y36(h.Q),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicity"]],decls:18,vars:8,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","green-primary"],["title","Editar Publicidad Superior","styledPadding",".5rem .2rem","routerLink","/dashboard/juego/publicidad/top"],["routerLink","/dashboard/juego/publicidad/bottom","title","Editar Publicidad Inferior","styledPadding",".5rem .2rem"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Publicidad"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"p",4),e._uU(8,"Publicidad Superior:"),e.qZA(),e._UZ(9,"app-button-primary",5),e.TgZ(10,"p",4),e._uU(11,"Publicidad Inferior:"),e.qZA(),e._UZ(12,"app-button-primary",6),e.qZA(),e.TgZ(13,"div",7)(14,"div",8),e._UZ(15,"app-banner-publicity",9)(16,"div",10)(17,"app-banner-publicity",9),e.qZA()()()()),2&t&&(e.xp6(9),e.Udp("margin-left","1rem"),e.xp6(3),e.Udp("margin-left","1rem"),e.xp6(3),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[C.Ye,_.rH,x,v,ie],styles:[".view-container[_ngcontent-%COMP%]{position:relative;border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.view-menu[_ngcontent-%COMP%]{background-color:gray;height:20rem}"]}),n})();const so=["takeInput"];let ve=(()=>{class n{constructor(t,i,o){this.imageSrv=t,this.snackbar=i,this.dashboardPublicity=o,this.img_upload="assets/img/upload.png",this.previsulizacion=this.img_upload,this.title="",this.isTop=!0,this.cambioPrevisualizacion=new e.vpe,this.isGamePublicity=!1}ngOnInit(){}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base,this.isTop?(this.dashboardPublicity.setPreviewTopImage(this.previsulizacion),this.dashboardPublicity.setTopImageFileToUpload(this.fileToUpload)):(this.dashboardPublicity.setPreviewBottomImage(this.previsulizacion),this.dashboardPublicity.setBottomImageFileToUpload(this.fileToUpload))})):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F),e.Y36(T.o),e.Y36(J.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-publicity"]],viewQuery:function(t,i){if(1&t&&e.Gf(so,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},inputs:{title:"title",isTop:"isTop",isGamePublicity:"isGamePublicity"},outputs:{cambioPrevisualizacion:"cambioPrevisualizacion"},decls:9,vars:1,consts:[[1,"color-white","publicity-container"],[1,"publicity__title","green-primary"],[1,"publicity-info__container"],[1,""],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"p",3),e._uU(5,"Imagen (ancho: 1080 x alto: 288)"),e.qZA(),e.TgZ(6,"div",4)(7,"input",5,6),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()()()()),2&t&&(e.xp6(2),e.Oqu(i.title))},styles:['.publicity-info__container[_ngcontent-%COMP%]{padding:0 .5rem}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png, jpg, jpeg)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}']}),n})(),Ze=(()=>{class n{constructor(t,i,o,r){this.publicity=t,this.dialog=i,this.snackBar=o,this.dashPublicity=r,this.imageUrl="",this.id=0,this.isTop=!0}ngOnInit(){}delete(){0==this.id?console.log("error"):(this.dialog.open({title:"ELIMINAR PUBLICIDAD",message:"\xbfEST\xc1 SEGURO QUE DESEA ELIMINAR ESTA PUBLICIDAD?",cancelText:"CANCELAR",confirmText:"ELIMINAR"}),this.dialog.confirmed().subscribe(i=>{i&&(this.isTop?this.publicity.deleteTopPublicity(this.id).subscribe(o=>{this.chargeTopPublicity()}):this.publicity.deleteBottomPublicity(this.id).subscribe(o=>{this.chargeBottomPublicity()}),this.snackBar.mensaje("Publicidad Eliminada exitosamente"))}))}chargeTopPublicity(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashPublicity.loadTopData(t)})}chargeBottomPublicity(){this.publicity.getPublicityBottomList().subscribe(t=>{this.dashPublicity.loadBottomData(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(j.U),e.Y36(A.D),e.Y36(T.o),e.Y36(J.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-box-publicity"]],inputs:{imageUrl:"imageUrl",id:"id",isTop:"isTop"},decls:4,vars:1,consts:[[1,"box-container"],[1,"image-container"],["alt","",3,"src"],["title","Eliminar","backgroundColor","#red",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"figure",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"app-button-primary",3),e.NdJ("click",function(){return i.delete()}),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("src",i.imageUrl,e.LSH))},dependencies:[x],styles:[".box-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:1.5rem;align-items:center;border:1px solid #00ffc5;padding:1rem 1rem .5rem}.image-container[_ngcontent-%COMP%]{width:13rem;height:5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),n})();function co(n,a){if(1&n&&e._UZ(0,"img",20),2&n){const t=e.oxw();e.Q6J("src",t.dashPublicity.previewTopImage,e.LSH)}}function lo(n,a){if(1&n&&e._UZ(0,"app-box-publicity",21),2&n){const t=a.$implicit;e.Q6J("imageUrl",t.image)("id",t.id)}}let mo=(()=>{class n{constructor(t,i,o,r,c,l,p,u){this.dashPublicity=t,this.publicity=i,this.router=o,this.fb=r,this.dialog=c,this.snackBar=l,this.staticData=p,this.gameSelectionService=u,this.transitionTime=0,this.form=this.fb.group({transition:["",[s.kI.required]]})}ngOnInit(){this.gameSelectionService.selectedGame$.subscribe(t=>{this.staticData.setMenu(t),this.chargePublicity()})}regresar(){this.router.navigate(["/dashboard/juego/publicidad"])}guardarPublicidad(){const t={title:"AGREGAR PUBLICIDAD AL JUEGO",message:"\xbfEST\xc1 SEGURO QUE DESEA AGREGAR PUBLICIDAD SUPERIOR AL JUEGO?",cancelText:"CANCELAR",confirmText:"GUARDAR"};this.dashPublicity.getTopImageFileToUpload()||this.form.valid?this.dashPublicity.getTopImageFileToUpload()&&this.form.valid?(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData,r=new FormData;o.append("image",this.dashPublicity.getTopImageFileToUpload(),this.dashPublicity.getTopImageFileToUpload().name),r.append("time_display",this.form.get("transition")?.value),this.publicity.postTopPublicity(o).subscribe(c=>{this.publicity.updatePublicityConfigTop(1,r).subscribe(l=>{this.chargePublicity(),this.cleanData()})}),this.snackBar.mensaje("Publicidad Superior Agregada exitosamente")}})):this.dashPublicity.getTopImageFileToUpload()?(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("image",this.dashPublicity.getTopImageFileToUpload(),this.dashPublicity.getTopImageFileToUpload().name),this.publicity.postTopPublicity(o).subscribe(r=>{this.chargePublicity()}),this.cleanData(),this.snackBar.mensaje("Publicidad Superior Agregada exitosamente")}})):this.form.valid&&(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("time_display",this.form.get("transition")?.value),this.publicity.updatePublicityConfigTop(1,o).subscribe(r=>{this.cleanData(),this.chargePublicity()}),this.snackBar.mensaje("Configuracion Publicidad Superior Agregada exitosamente")}})):this.snackBar.mensaje("Agregue cambios antes de guardar")}cleanData(){this.dashPublicity.setPreviewTopImage(""),this.dashPublicity.setTopImageFileToUpload(null),this.form.controls.transition.setValue("")}chargePublicity(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashPublicity.loadTopData(t),this.publicity.getPublicityConfigTop().subscribe(i=>{this.transitionTime=i.time_display})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(j.U),e.Y36(_.F0),e.Y36(s.qu),e.Y36(A.D),e.Y36(T.o),e.Y36(h.Q),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-top-publicity"]],decls:30,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"container"],[1,"container-publicity"],[1,"container-add-publicity"],[1,"publicity__title","green-primary"],[3,"isTop"],[1,"preview-container"],["alt","",3,"src",4,"ngIf"],[1,"container-dimensions"],[1,"dimensions-instructions","color-white"],["action","",1,"container-transition",3,"formGroup"],["autocomplete","off","onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","type","number","id","transition-seconds","formControlName","transition",1,"input-global"],[1,"color-white","mt-2"],[1,"container-buttons"],["title","Regresar","backgroundColor","#fff",3,"click"],["title","Guardar",3,"click"],[1,"images-sections"],[1,"images-container"],[3,"imageUrl","id",4,"ngFor","ngForOf"],["alt","",3,"src"],[3,"imageUrl","id"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Publicidad Superior"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"p",5),e._uU(9,"Agregar Publicidad"),e.qZA(),e._UZ(10,"app-add-publicity",6),e.qZA(),e.TgZ(11,"figure",7),e.YNc(12,co,1,1,"img",8),e.qZA()(),e.TgZ(13,"div",9)(14,"p",10),e._uU(15," Agregar im\xe1genes en formato jpg "),e.qZA()(),e.TgZ(16,"form",11)(17,"p",5),e._uU(18,"Segundos de transici\xf3n"),e.qZA(),e._UZ(19,"input",12),e.TgZ(20,"p",13),e._uU(21),e.qZA()(),e.TgZ(22,"div",14)(23,"app-button-primary",15),e.NdJ("click",function(){return i.regresar()}),e.qZA(),e.TgZ(24,"app-button-primary",16),e.NdJ("click",function(){return i.guardarPublicidad()}),e.qZA()(),e.TgZ(25,"div",17)(26,"p",5),e._uU(27,"Im\xe1genes"),e.qZA(),e.TgZ(28,"div",18),e.YNc(29,lo,1,2,"app-box-publicity",19),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("isTop",!0),e.xp6(2),e.Q6J("ngIf",""!=i.dashPublicity.previewTopImage),e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(3),e.Udp("margin-left",".5rem"),e.xp6(2),e.hij(" Configuraci\xf3n actual de transici\xf3n: ",i.transitionTime," "),e.xp6(8),e.Q6J("ngForOf",i.dashPublicity.getTopPublicityList()))},dependencies:[d.sg,d.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,C.Ye,x,v,ve,Ze],styles:[".container-publicity[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:1.5rem}.container-add-publicity[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.preview-container[_ngcontent-%COMP%]{margin-left:150px;width:9rem;height:5rem}img[_ngcontent-%COMP%]{width:350%;height:350%}.container-transition[_ngcontent-%COMP%]{margin-top:1.5rem}.container-dimensions[_ngcontent-%COMP%]{margin-top:1rem;display:flex}.dimensions-instructions[_ngcontent-%COMP%]{display:flex;width:50%;flex-wrap:wrap}.container-buttons[_ngcontent-%COMP%]{width:98%;display:flex;justify-content:space-between}.images-container[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.images-sections[_ngcontent-%COMP%]{margin-top:15px}.images-sections[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}"]}),n})();function po(n,a){if(1&n&&e._UZ(0,"img",20),2&n){const t=e.oxw();e.Q6J("src",t.dashPublicity.previewBottomImage,e.LSH)}}function uo(n,a){if(1&n&&e._UZ(0,"app-box-publicity",21),2&n){const t=a.$implicit;e.Q6J("imageUrl",t.image)("id",t.id)("isTop",!1)}}let go=(()=>{class n{constructor(t,i,o,r,c,l,p,u){this.dashPublicity=t,this.publicity=i,this.router=o,this.fb=r,this.dialog=c,this.snackBar=l,this.staticData=p,this.gameSelectionService=u,this.transitionTime=0,this.form=this.fb.group({transition:["",s.kI.required]})}ngOnInit(){this.gameSelectionService.selectedGame$.subscribe(t=>{this.staticData.setMenu(t),this.chargePublicity()})}regresar(){this.router.navigate(["/dashboard/juego/publicidad"])}guardarPublicidad(){const t={title:"AGREGAR PUBLICIDAD AL JUEGO",message:"\xbfEST\xc1 SEGURO QUE DESEA AGREGAR PUBLICIDAD INFERIOR?",cancelText:"CANCELAR",confirmText:"GUARDAR"};this.dashPublicity.getBottomImageFileToUpload()||this.form.valid?this.dashPublicity.getBottomImageFileToUpload()&&this.form.valid?(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData,r=new FormData;o.append("image",this.dashPublicity.getBottomImageFileToUpload(),this.dashPublicity.getBottomImageFileToUpload().name),r.append("time_display",this.form.get("transition")?.value),this.publicity.postBottomPublicity(o).subscribe(c=>{this.publicity.updatePublicityConfigBottom(r).subscribe(l=>{this.chargePublicity(),this.cleanData()})}),this.snackBar.mensaje("Publicidad Inferior Agregada exitosamente")}})):this.dashPublicity.getBottomImageFileToUpload()?(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("image",this.dashPublicity.getBottomImageFileToUpload(),this.dashPublicity.getBottomImageFileToUpload().name),this.publicity.postBottomPublicity(o).subscribe(r=>{this.chargePublicity()}),this.cleanData(),this.snackBar.mensaje("Publicidad Inferior Agregada exitosamente")}})):this.form.valid&&(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("time_display",this.form.get("transition")?.value),this.publicity.updatePublicityConfigBottom(o).subscribe(r=>{this.cleanData(),this.chargePublicity()}),this.snackBar.mensaje("Configuracion Publicidad Inferior Actualizada exitosamente")}})):this.snackBar.mensaje("Agregue cambios antes de guardar")}cleanData(){this.dashPublicity.setPreviewBottomImage(""),this.dashPublicity.setBottomImageFileToUpload(null),this.form.controls.transition.setValue("")}chargePublicity(){this.publicity.getPublicityBottomList().subscribe(t=>{this.dashPublicity.loadBottomData(t),this.publicity.getPublicityConfigBottom().subscribe(i=>{this.transitionTime=i.time_display})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(j.U),e.Y36(_.F0),e.Y36(s.qu),e.Y36(A.D),e.Y36(T.o),e.Y36(h.Q),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-bottom-publicity"]],decls:30,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"container"],[1,"container-publicity"],[1,"container-add-publicity"],[1,"publicity__title","green-primary"],[3,"isTop"],[1,"preview-container"],["alt","",3,"src",4,"ngIf"],[1,"container-dimensions"],[1,"dimensions-instructions","color-white"],["action","",1,"container-transition",3,"formGroup"],["autocomplete","off","onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","type","number","id","transition-seconds","formControlName","transition",1,"input-global"],[1,"color-white","mt-2"],[1,"container-buttons"],["title","Regresar","backgroundColor","#fff",3,"click"],["title","Guardar",3,"click"],[1,"images-sections"],[1,"images-container"],[3,"imageUrl","id","isTop",4,"ngFor","ngForOf"],["alt","",3,"src"],[3,"imageUrl","id","isTop"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Publicidad Inferior"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"p",5),e._uU(9,"Agregar Publicidad"),e.qZA(),e._UZ(10,"app-add-publicity",6),e.qZA(),e.TgZ(11,"figure",7),e.YNc(12,po,1,1,"img",8),e.qZA()(),e.TgZ(13,"div",9)(14,"p",10),e._uU(15," Agregar im\xe1genes en formato jpg "),e.qZA()(),e.TgZ(16,"form",11)(17,"p",5),e._uU(18,"Segundos de transici\xf3n"),e.qZA(),e._UZ(19,"input",12),e.TgZ(20,"p",13),e._uU(21),e.qZA()(),e.TgZ(22,"div",14)(23,"app-button-primary",15),e.NdJ("click",function(){return i.regresar()}),e.qZA(),e.TgZ(24,"app-button-primary",16),e.NdJ("click",function(){return i.guardarPublicidad()}),e.qZA()(),e.TgZ(25,"div",17)(26,"p",5),e._uU(27,"Im\xe1genes"),e.qZA(),e.TgZ(28,"div",18),e.YNc(29,uo,1,3,"app-box-publicity",19),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("isTop",!1),e.xp6(2),e.Q6J("ngIf",""!=i.dashPublicity.previewBottomImage),e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(3),e.Udp("margin-left",".5rem"),e.xp6(2),e.hij(" Configuraci\xf3n actual de transici\xf3n: ",i.transitionTime," "),e.xp6(8),e.Q6J("ngForOf",i.dashPublicity.getBottomPublicityList()))},dependencies:[d.sg,d.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,C.Ye,x,v,ve,Ze],styles:[".container-publicity[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:1.5rem}.container-add-publicity[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.preview-container[_ngcontent-%COMP%]{margin-left:150px;width:9rem;height:5rem}img[_ngcontent-%COMP%]{width:350%;height:350%}.container-transition[_ngcontent-%COMP%]{margin-top:1.5rem}.container-dimensions[_ngcontent-%COMP%]{margin-top:1rem;display:flex}.dimensions-instructions[_ngcontent-%COMP%]{display:flex;width:50%;flex-wrap:wrap}.container-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.images-container[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.images-sections[_ngcontent-%COMP%]{margin-top:15px}.images-sections[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}"]}),n})();var _o=g(5659);function fo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ho(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function bo(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(22);e.xp6(1),e.hij(" La longitud m\xednima es de 8 caracteres, actualmente tiene ",t.value.length||0,"/8 ")}}function Co(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function vo(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(35);e.xp6(1),e.hij(" La longitud m\xednima es de 8 caracteres, actualmente tiene ",t.value.length||0,"/8 ")}}let Zo=(()=>{class n{constructor(t,i,o,r,c,l,p){this.api=t,this.router=i,this.fb=o,this.dialog=r,this.snackBar=c,this.dialogService=l,this.StaticData=p,this.ocultar=!0,this.ocultar2=!0,this.ocultar3=!0,this.mensaje_error_lista=[],this.form=this.fb.group({old_password:["",s.kI.required],new_password:new s.NI("",[s.kI.required,s.kI.minLength(8)]),confirm_password:new s.NI("",[s.kI.required,s.kI.minLength(8)])})}ngOnInit(){this.StaticData.setMenuGeneral()}regresarInicio(){this.router.navigate(["/dashboard/juego/seleccion"])}mensajes_errores(t){this.dialog.open(_o.o,{width:"50%",data:t})}cambiarContrasenia(){if(this.form.valid){let t=Number(sessionStorage.getItem("user_id")),i=new FormData;i.append("old_password",this.form.get("old_password")?.value),i.append("new_password",this.form.get("new_password")?.value),i.append("confirm_password",this.form.get("confirm_password")?.value),this.dialogService.open({title:"CAMBIAR CONTRASE\xd1A",message:"ESTA SEGURO QUE QUIERE CAMBIAR SU CONTRASE\xd1A?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(r=>{this.api.postCambiarContrase\u00f1a(t,i).subscribe(c=>{this.snackBar.mensaje("Contrase\xf1a cambiada correctamente"),this.router.navigate(["/dashboard"])},c=>{for(let l in c.error)this.mensaje_error_lista.push(c.error[l]);this.mensajes_errores(this.mensaje_error_lista),this.mensaje_error_lista=[]})})}else this.snackBar.mensaje("Por favor, complete todos los campos")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(X.s),e.Y36(_.F0),e.Y36(s.qu),e.Y36(te.uw),e.Y36(T.o),e.Y36(A.D),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cambiar-contrasenia"]],decls:46,vars:14,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"ancho"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","old_password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["matInput","","minlength","8","autocomplete","off","formControlName","new_password",3,"type"],["input_new",""],["align","end"],["matInput","","minlength","8","autocomplete","off","formControlName","confirm_password",3,"type"],["input_new_confirm",""],[1,"container_botones"],["title","Guardar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Cambiar Contrase\xf1a"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card")(7,"form",2)(8,"mat-form-field",3)(9,"label"),e._uU(10,"Contase\xf1a Actual"),e.qZA(),e.TgZ(11,"div",4),e._UZ(12,"input",5),e.TgZ(13,"button",6),e.NdJ("click",function(){return i.ocultar=!i.ocultar}),e.TgZ(14,"mat-icon"),e._uU(15),e.qZA()()(),e.YNc(16,fo,2,0,"mat-error",7),e.qZA(),e.TgZ(17,"mat-form-field",3)(18,"label"),e._uU(19,"Nueva Contase\xf1a"),e.qZA(),e.TgZ(20,"div",4),e._UZ(21,"input",8,9),e.TgZ(23,"button",6),e.NdJ("click",function(){return i.ocultar2=!i.ocultar2}),e.TgZ(24,"mat-icon"),e._uU(25),e.qZA()()(),e.TgZ(26,"mat-hint",10),e._uU(27),e.qZA(),e.YNc(28,ho,2,0,"mat-error",7),e.YNc(29,bo,2,1,"mat-error",7),e.qZA(),e.TgZ(30,"mat-form-field",3)(31,"label"),e._uU(32,"Confirmar Nueva Contase\xf1a"),e.qZA(),e.TgZ(33,"div",4),e._UZ(34,"input",11,12),e.TgZ(36,"button",6),e.NdJ("click",function(){return i.ocultar3=!i.ocultar3}),e.TgZ(37,"mat-icon"),e._uU(38),e.qZA()()(),e.TgZ(39,"mat-hint",10),e._uU(40),e.qZA(),e.YNc(41,Co,2,0,"mat-error",7),e.YNc(42,vo,2,1,"mat-error",7),e.qZA()(),e.TgZ(43,"div",13)(44,"app-button-primary",14),e.NdJ("click",function(){return i.cambiarContrasenia()}),e.qZA(),e.TgZ(45,"app-button-primary",15),e.NdJ("click",function(){return i.regresarInicio()}),e.qZA()()()()()),2&t){const o=e.MAs(22),r=e.MAs(35);e.xp6(7),e.Q6J("formGroup",i.form),e.xp6(5),e.Q6J("type",i.ocultar?"password":"text"),e.xp6(3),e.Oqu(i.ocultar?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",i.form.controls.old_password.hasError("required")),e.xp6(5),e.Q6J("type",i.ocultar2?"password":"text"),e.xp6(4),e.Oqu(i.ocultar2?"visibility_off":"visibility"),e.xp6(2),e.hij(" M\xednimo 8 caracteres ",o.value.length||0,"/8 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.new_password.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.new_password.hasError("minlength")),e.xp6(5),e.Q6J("type",i.ocultar3?"password":"text"),e.xp6(4),e.Oqu(i.ocultar3?"visibility_off":"visibility"),e.xp6(2),e.hij(" M\xednimo 8 caracteres ",r.value.length||0,"/8 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.confirm_password.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.confirm_password.hasError("minlength"))}},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.wO,s.sg,s.u,f.TO,f.KE,f.bx,f.R9,k.Nt,D.Hw,S.lW,C.Ye,R.a8,x,v],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}mat-card[_ngcontent-%COMP%]{background-color:var(--color-fondo-principal)}"]}),n})();function To(n,a){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function yo(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"C\xe9dula"),e.qZA())}function Ao(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.cedula)}}function xo(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Nombres"),e.qZA())}function wo(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.names)}}function Uo(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Apellidos"),e.qZA())}function qo(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.surnames)}}function ko(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1," Correo Electr\xf3nico "),e.qZA())}function Po(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.email)}}function Oo(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Sexo"),e.qZA())}function Do(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.sex)}}function Mo(n,a){1&n&&e._UZ(0,"th",32)}function Io(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",31)(1,"div")(2,"button",33),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.view(r.id))}),e.TgZ(3,"mat-icon",34),e._uU(4," remove_red_eye "),e.qZA()(),e.TgZ(5,"button",35),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.edit(r.id))}),e.TgZ(6,"mat-icon",34),e._uU(7," edit "),e.qZA()(),e.TgZ(8,"button",36),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.delete(r.id))}),e.TgZ(9,"mat-icon",13),e._uU(10," delete "),e.qZA()()()()}}function So(n,a){1&n&&e._UZ(0,"tr",37)}function No(n,a){1&n&&e._UZ(0,"tr",38)}function Fo(n,a){if(1&n&&(e.TgZ(0,"tr",39)(1,"td",40),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(26);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const Eo=function(){return[5,10,25,100]};let Yo=(()=>{class n{constructor(t,i,o,r,c,l){this.router=t,this.clientAPI=i,this.permissionAPI=o,this.confirmDialog=r,this.snackBar=c,this.staticData=l,this.Filters=[{id:"?ordering=-created",name:"Ultimos Clientes Creados"},{id:"?ordering=created",name:"Primeros Clientes Creados"}],this.filter_default="?ordering=-created",this.singularName="cliente",this.pluralName="clientes",this.actionName="eliminar",this.permissions=[],this.displayedColumns=["cedula","names","surnames","email","actions"]}ngOnInit(){this.staticData.setMenuGeneral(),this.loadAll(this.filter_default)}loadAll(t){this.clientAPI.getFilter(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLocaleLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}view(t){this.router.navigate(["/dashboard/"+this.pluralName+"/vizualizar/"+t])}edit(t){this.router.navigate(["/dashboard/"+this.pluralName+"/editar/"+t])}delete(t){var i=this;return(0,y.Z)(function*(){yield i.canDelete(),i.permissions.length>0?(i.showDeleteDialog(),i.confirmDialog.confirmed().subscribe(o=>{o&&i.clientAPI.delete(t).subscribe(r=>{i.snackBar.mensaje(i.singularName+" eliminado exitosamente"),i.loadAll(i.filter_default)},r=>{i.confirmDialog.error(r.error)})})):i.snackBar.mensaje("No tienes permiso para Eliminar "+i.singularName)})()}showDeleteDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que desea "+this.actionName+" el "+this.singularName+"?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t)}canDelete(){var t=this;return(0,y.Z)(function*(){let i=Number(sessionStorage.getItem("rol_id")),o=yield(0,E.n)(t.permissionAPI.getPermisosbyName("Eliminar Cliente")),r=Number(o[0].id);const c=yield(0,E.n)(t.permissionAPI.getPermisosbyRolandPermission(i,r));t.permissions=c})()}toCreation(){this.router.navigate(["dashboard/"+this.pluralName+"/crear"])}toList(){this.router.navigate(["dashboard/"+this.pluralName])}filter(t){this.loadAll(t)}toTicket(){this.router.navigate(["dashboard/tickets/crear"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(oe),e.Y36(ee),e.Y36(A.D),e.Y36(T.o),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-clients"]],viewQuery:function(t,i){if(1&t&&(e.Gf(I.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:53,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","cedula"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","names"],["matColumnDef","surnames"],["matColumnDef","email"],["matColumnDef","sex"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Clientes"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.toCreation()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon"),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"span"),e._uU(12),e.qZA()()(),e.TgZ(13,"button",3),e.NdJ("click",function(){return i.toTicket()}),e.TgZ(14,"div",4)(15,"div",5)(16,"mat-icon"),e._uU(17,"confirmation_number"),e.qZA()(),e.TgZ(18,"span"),e._uU(19,"Generar Ticket"),e.qZA()()()(),e.TgZ(20,"div",6)(21,"div",7)(22,"mat-select",8),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(23,To,2,2,"mat-option",9),e.qZA()(),e.TgZ(24,"div",10)(25,"input",11,12),e.NdJ("keyup",function(r){return i.applyFilter(r)}),e.qZA(),e.TgZ(27,"mat-icon",13),e._uU(28," search "),e.qZA()()(),e.TgZ(29,"div",14)(30,"table",15),e.ynx(31,16),e.YNc(32,yo,2,0,"th",17),e.YNc(33,Ao,2,1,"td",18),e.BQk(),e.ynx(34,19),e.YNc(35,xo,2,0,"th",17),e.YNc(36,wo,2,1,"td",18),e.BQk(),e.ynx(37,20),e.YNc(38,Uo,2,0,"th",17),e.YNc(39,qo,2,1,"td",18),e.BQk(),e.ynx(40,21),e.YNc(41,ko,2,0,"th",17),e.YNc(42,Po,2,1,"td",18),e.BQk(),e.ynx(43,22),e.YNc(44,Oo,2,0,"th",17),e.YNc(45,Do,2,1,"td",18),e.BQk(),e.ynx(46,23),e.YNc(47,Mo,1,0,"th",24),e.YNc(48,Io,11,0,"td",18),e.BQk(),e.YNc(49,So,1,0,"tr",25),e.YNc(50,No,1,0,"tr",26),e.YNc(51,Fo,3,1,"tr",27),e.qZA(),e._UZ(52,"mat-paginator",28),e.qZA()()),2&t&&(e.xp6(12),e.hij("Agregar ",i.singularName,""),e.xp6(11),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,Eo)))},dependencies:[d.sg,k.Nt,D.Hw,S.lW,C.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,B.gM,I.NW,q.YE,q.nU,O.gD,P.ey,v],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px 7%}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}th[_ngcontent-%COMP%]{width:20%}"]}),n})();function Jo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid start date"),e.qZA())}function Ro(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid end date"),e.qZA())}function jo(n,a){if(1&n&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Lo(n,a){1&n&&(e.TgZ(0,"th",42),e._uU(1,"ID"),e.qZA())}function Go(n,a){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.id)}}function Qo(n,a){1&n&&(e.TgZ(0,"th",42),e._uU(1,"Nombre"),e.qZA())}function Bo(n,a){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.name)}}function zo(n,a){1&n&&(e.TgZ(0,"th",42),e._uU(1,"P. Disponible"),e.qZA())}function Ho(n,a){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.initial_stock)}}function Vo(n,a){1&n&&(e.TgZ(0,"th",42),e._uU(1,"P. Condicionados"),e.qZA())}function $o(n,a){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.condition_stock)}}function Wo(n,a){1&n&&(e.TgZ(0,"th",42),e._uU(1,"P. Ganados"),e.qZA())}function Xo(n,a){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.prizes_awarded)}}function Ko(n,a){1&n&&(e.TgZ(0,"th",42),e._uU(1," Fecha de Creaci\xf3n "),e.qZA())}function ea(n,a){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.created)}}function ta(n,a){1&n&&(e.TgZ(0,"th",42),e._uU(1,"Juego"),e.qZA())}function ia(n,a){if(1&n&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.game)}}function na(n,a){1&n&&(e.TgZ(0,"th",42),e._uU(1,"Estado"),e.qZA())}function oa(n,a){1&n&&(e.TgZ(0,"div")(1,"div",15),e._uU(2,"Activo"),e.qZA()())}function aa(n,a){1&n&&(e.TgZ(0,"div")(1,"div",15),e._uU(2,"Inactivo"),e.qZA()())}function ra(n,a){if(1&n&&(e.TgZ(0,"td",43),e.YNc(1,oa,3,0,"div",44),e.YNc(2,aa,3,0,"ng-template",null,45,e.W1O),e.qZA()),2&n){const t=a.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.is_active)("ngIfElse",i)}}function sa(n,a){1&n&&e._UZ(0,"th",46)}function ca(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",43)(1,"div")(2,"button",47),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.verPremios(r.id))}),e.TgZ(3,"mat-icon",48),e._uU(4,"remove_red_eye"),e.qZA()(),e.TgZ(5,"button",49),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editarPremios(r.id))}),e.TgZ(6,"mat-icon",48),e._uU(7,"edit"),e.qZA()(),e.TgZ(8,"button",50),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.eliminarPremios(r.id))}),e.TgZ(9,"mat-icon",15),e._uU(10,"delete"),e.qZA()()()()}}function la(n,a){1&n&&e._UZ(0,"tr",51)}function ma(n,a){1&n&&e._UZ(0,"tr",52)}function pa(n,a){if(1&n&&(e.TgZ(0,"tr",53)(1,"td",54),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(42);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const da=function(){return[5,10,25,100]};let ua=(()=>{class n{constructor(t,i,o,r,c,l,p,u){this.router=t,this.dialog=i,this.snackbar=o,this.premiosSrv=r,this.dialogService=c,this.permisos_api=l,this.staticData=p,this.gameDataSrv=u,this.range=new s.cw({start:new s.NI(null),end:new s.NI(null)}),this.Filters=[{id:"?is_active=true",name:"Premios Activos"},{id:"?is_active=false",name:"Premios Inactivos"},{id:"?ordering=-created",name:"Ultimos Premios Creados"},{id:"?ordering=created",name:"Primeros Premios Creados"}],this.filter_default="?ordering=-created",this.Titulo="Premios",this.displayedColumns=["id","name","initial_stock","condition_stock","prizes_awarded","created","juego","is_active","Acciones"],this.permisos=[]}ngOnInit(){this.staticData.setMenuGeneral(),this.cargarPremios(this.filter_default)}agregarPremios(){this.router.navigate(["/dashboard/premios/crear"])}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}cargarPremios(t){this.premiosSrv.getFilterAward(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}verPremios(t){this.router.navigate(["/dashboard/premios/visualizar/"+t])}editarPremios(t){this.router.navigate(["/dashboard/premios/editar/"+t])}eliminarPremios(t){var i=this;return(0,y.Z)(function*(){yield i.Permisoeliminar(),i.permisos.length>0?(i.dialogService.open({title:"ELIMINAR PREMIO",message:"\xbfEST\xc1 SEGURO QUE DESEA ELIMINAR EL PREMIO?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),i.dialogService.confirmed().subscribe(r=>{r&&i.premiosSrv.deleteAward(t).subscribe(c=>{i.snackbar.mensaje("Premio Eliminado Existosamente"),i.cargarPremios(i.filter_default)},c=>{i.dialogService.error(c.error),i.cargarPremios(i.filter_default)})})):i.snackbar.mensaje("No tienes permisos para Eliminar Premios")})()}Permisoeliminar(){var t=this;return(0,y.Z)(function*(){let i=Number(sessionStorage.getItem("rol_id")),o=yield(0,E.n)(t.permisos_api.getPermisosbyName("Eliminar Premio")),r=Number(o[0].id);const c=yield(0,E.n)(t.permisos_api.getPermisosbyRolandPermission(i,r));t.permisos=c})()}filter(t){this.cargarPremios(t)}date_filter(){if(this.range.value.start||this.range.value.end){let t=this.range.get("start")?.value,i=this.range.get("end")?.value,o=this.gameDataSrv.DateFormat(t).split("T")[0],r=this.gameDataSrv.DateFormat(i).split("T")[0];this.cargarPremios("?created__date__range="+o+"%2C"+r)}else this.cargarPremios(this.filter_default)}date_filter2(){this.range.get("start")?.setValue(null),this.range.get("end")?.setValue(null),this.cargarPremios(this.filter_default)}toHistory(){this.router.navigate(["/dashboard/premios/history/"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(te.uw),e.Y36(T.o),e.Y36(Y.q),e.Y36(A.D),e.Y36(ee),e.Y36(h.Q),e.Y36(Q.V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-awards"]],viewQuery:function(t,i){if(1&t&&(e.Gf(I.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:78,vars:12,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"date_range"],[1,"date_range_container"],[1,"date_text",3,"formGroup","rangePicker"],["matStartDate","","formControlName","start"],["matEndDate","","formControlName","end"],["matIconSuffix","",1,"green-primary",3,"for"],["picker",""],["mat-icon-button","","color","primary","matTooltip","Enviar fecha",3,"click"],[1,"green-primary"],[4,"ngIf"],[1,"filter"],["mat-select","","placeholder","Filtrar",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","initial_stock"],["matColumnDef","condition_stock"],["matColumnDef","prizes_awarded"],["matColumnDef","created"],["matColumnDef","juego"],["matColumnDef","is_active"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.agregarPremios()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon"),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"span"),e._uU(12,"Agregar Premio"),e.qZA()()(),e.TgZ(13,"button",3),e.NdJ("click",function(){return i.toHistory()}),e.TgZ(14,"div",4)(15,"div",5)(16,"mat-icon"),e._uU(17,"manage_search"),e.qZA()(),e.TgZ(18,"span"),e._uU(19,"Historial Premios Ganados"),e.qZA()()()(),e.TgZ(20,"div",6)(21,"div",7)(22,"div",8)(23,"mat-date-range-input",9),e._UZ(24,"input",10)(25,"input",11),e.qZA(),e._UZ(26,"mat-datepicker-toggle",12)(27,"mat-date-range-picker",null,13),e.TgZ(29,"button",14),e.NdJ("click",function(){return i.date_filter()}),e.TgZ(30,"mat-icon",15),e._uU(31,"done"),e.qZA()(),e.TgZ(32,"button",14),e.NdJ("click",function(){return i.date_filter2()}),e.TgZ(33,"mat-icon",15),e._uU(34,"close"),e.qZA()()(),e.YNc(35,Jo,2,0,"mat-error",16),e.YNc(36,Ro,2,0,"mat-error",16),e.qZA(),e.TgZ(37,"div",17)(38,"mat-select",18),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(39,jo,2,2,"mat-option",19),e.qZA()(),e.TgZ(40,"div",20)(41,"input",21,22),e.NdJ("keyup",function(r){return i.aplicarFiltro(r)}),e.qZA(),e.TgZ(43,"mat-icon",15),e._uU(44," search "),e.qZA()()(),e.TgZ(45,"div",23)(46,"table",24),e.ynx(47,25),e.YNc(48,Lo,2,0,"th",26),e.YNc(49,Go,2,1,"td",27),e.BQk(),e.ynx(50,28),e.YNc(51,Qo,2,0,"th",26),e.YNc(52,Bo,2,1,"td",27),e.BQk(),e.ynx(53,29),e.YNc(54,zo,2,0,"th",26),e.YNc(55,Ho,2,1,"td",27),e.BQk(),e.ynx(56,30),e.YNc(57,Vo,2,0,"th",26),e.YNc(58,$o,2,1,"td",27),e.BQk(),e.ynx(59,31),e.YNc(60,Wo,2,0,"th",26),e.YNc(61,Xo,2,1,"td",27),e.BQk(),e.ynx(62,32),e.YNc(63,Ko,2,0,"th",26),e.YNc(64,ea,2,1,"td",27),e.BQk(),e.ynx(65,33),e.YNc(66,ta,2,0,"th",26),e.YNc(67,ia,2,1,"td",27),e.BQk(),e.ynx(68,34),e.YNc(69,na,2,0,"th",26),e.YNc(70,ra,4,2,"td",27),e.BQk(),e.ynx(71,35),e.YNc(72,sa,1,0,"th",36),e.YNc(73,ca,11,0,"td",27),e.BQk(),e.YNc(74,la,1,0,"tr",37),e.YNc(75,ma,1,0,"tr",38),e.YNc(76,pa,3,1,"tr",39),e.qZA(),e._UZ(77,"mat-paginator",40),e.qZA()()),2&t){const o=e.MAs(28);e.xp6(3),e.Oqu(i.Titulo),e.xp6(20),e.Q6J("formGroup",i.range)("rangePicker",o),e.xp6(3),e.Q6J("for",o),e.xp6(9),e.Q6J("ngIf",i.range.controls.start.hasError("matStartDateInvalid")),e.xp6(1),e.Q6J("ngIf",i.range.controls.end.hasError("matEndDateInvalid")),e.xp6(3),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(11,da))}},dependencies:[d.sg,d.O5,s.Fj,s.JJ,s.JL,s.sg,s.u,f.TO,k.Nt,D.Hw,S.lW,C.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,B.gM,I.NW,q.YE,q.nU,O.gD,P.ey,U.nW,U.wx,U.zY,U.By,U._g,v],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px 7%}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%], .date_range[_ngcontent-%COMP%]{text-align:center;width:400px;height:26px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.date_range_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.date_range[_ngcontent-%COMP%]{color:var(--color-principal)}.date_text[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-left:100px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function ga(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function _a(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(11);e.xp6(1),e.hij(" La longitud de la c\xe9dula debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function fa(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function ha(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function ba(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Ca(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function va(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Za(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(46);e.xp6(1),e.hij(" La longitud del tel\xe9fono debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function Ta(n,a){if(1&n&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ya(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Aa(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let xa=(()=>{class n{constructor(t,i,o,r,c,l){this.router=t,this.formBuilder=i,this.snackBar=o,this.confirmDialog=r,this.api=c,this.staticData=l,this.listSex=[{id:"Masculino",name:"Masculino"},{id:"Femenino",name:"Femenino"},{id:"Otro",name:"Otro"}],this.singularName="cliente",this.pluralName="clientes",this.actionName="Crear",this.formGroup=this.formBuilder.group({cedula:new s.NI("",[s.kI.required,s.kI.minLength(10)]),names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),phone:new s.NI("",[s.kI.required,s.kI.minLength(10)]),sex:["",s.kI.required],address:["",s.kI.required]})}toList(){this.router.navigate(["dashboard/"+this.pluralName])}create(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que desea "+this.actionName+" el nuevo "+this.singularName+"?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){this.confirmDialog.confirmed().subscribe(t=>{if(t){let i=this.fillForm();this.api.post(i).subscribe({next:o=>{this.snackBar.mensaje(this.singularName+" creado exitosamente"),this.toList()},error:o=>{this.confirmDialog.error(o.error)}})}})}fillForm(){let t=sessionStorage.getItem("user_id"),i=new FormData;return i.append("cedula",this.formGroup.get("cedula")?.value),i.append("names",this.formGroup.get("names")?.value),i.append("surnames",this.formGroup.get("surnames")?.value),i.append("email",this.formGroup.get("email")?.value),i.append("phone",this.formGroup.get("phone")?.value),i.append("address",this.formGroup.get("address")?.value),i.append("sex",this.formGroup.get("sex")?.value),i.append("user_client_register",t),i.append("user_client_modify",t),i}ngOnInit(){this.staticData.setMenuGeneral()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(s.qu),e.Y36(T.o),e.Y36(A.D),e.Y36(oe),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-client"]],decls:70,vars:14,consts:[[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["formControlName","sex","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["autocomplete","off","formControlName","address","type","text","matInput",""],[1,"container_botones"],["title","Crear",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Nuevo Cliente"),e.qZA()(),e.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field")(7,"label"),e._uU(8,"C\xe9dula"),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"input",3,4),e.qZA(),e.TgZ(12,"mat-hint",5),e._uU(13),e.qZA(),e.YNc(14,ga,2,0,"mat-error",6),e.YNc(15,_a,2,1,"mat-error",6),e.qZA(),e.TgZ(16,"mat-form-field")(17,"label"),e._uU(18,"Nombres"),e.qZA(),e.TgZ(19,"div",2),e._UZ(20,"input",7),e.qZA(),e.TgZ(21,"mat-hint"),e._uU(22,"Nombre del Cliente"),e.qZA(),e.YNc(23,fa,2,0,"mat-error",6),e.qZA(),e.TgZ(24,"mat-form-field")(25,"label"),e._uU(26,"Apellidos"),e.qZA(),e.TgZ(27,"div",2),e._UZ(28,"input",8),e.qZA(),e.TgZ(29,"mat-hint"),e._uU(30,"Apellido paterno y materno"),e.qZA(),e.YNc(31,ha,2,0,"mat-error",6),e.qZA(),e.TgZ(32,"mat-form-field")(33,"label"),e._uU(34,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(35,"div",2),e._UZ(36,"input",9),e.qZA(),e.TgZ(37,"mat-hint"),e._uU(38,"Correo electr\xf3nico"),e.qZA(),e.YNc(39,ba,2,0,"mat-error",6),e.YNc(40,Ca,2,0,"mat-error",6),e.qZA(),e.TgZ(41,"mat-form-field")(42,"label"),e._uU(43,"Tel\xe9fono"),e.qZA(),e.TgZ(44,"div",2),e._UZ(45,"input",10,11),e.qZA(),e.TgZ(47,"mat-hint",5),e._uU(48),e.qZA(),e.YNc(49,va,2,0,"mat-error",6),e.YNc(50,Za,2,1,"mat-error",6),e.qZA(),e.TgZ(51,"mat-form-field")(52,"label"),e._uU(53,"Sexo"),e.qZA(),e.TgZ(54,"mat-select",12),e.YNc(55,Ta,2,2,"mat-option",13),e.qZA(),e.TgZ(56,"mat-hint"),e._uU(57,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(58,ya,2,0,"mat-error",6),e.qZA(),e.TgZ(59,"mat-form-field")(60,"label"),e._uU(61,"Direcci\xf3n"),e.qZA(),e.TgZ(62,"div",2),e._UZ(63,"input",14),e.qZA(),e.TgZ(64,"mat-hint"),e._uU(65,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(66,Aa,2,0,"mat-error",6),e.qZA()(),e.TgZ(67,"div",15)(68,"app-button-primary",16),e.NdJ("click",function(){return i.create()}),e.qZA(),e.TgZ(69,"app-button-primary",17),e.NdJ("click",function(){return i.toList()}),e.qZA()()()()),2&t){const o=e.MAs(11),r=e.MAs(46);e.xp6(5),e.Q6J("formGroup",i.formGroup),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.cedula.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.cedula.hasError("minlength")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.email.hasError("email")),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("minlength")),e.xp6(5),e.Q6J("ngForOf",i.listSex),e.xp6(3),e.Q6J("ngIf",i.formGroup.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.address.hasError("required"))}},dependencies:[d.sg,d.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,f.TO,f.KE,f.bx,k.Nt,C.Ye,O.gD,P.ey,x,v],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();const wa=["takeInput"];function Ua(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function qa(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function ka(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Pa(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Oa(n,a){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Da(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Ma(n,a){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ia(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let Sa=(()=>{class n{constructor(t,i,o,r,c,l,p){this.router=t,this.fb=i,this.awardSrv=o,this.snackbar=r,this.dialogService=c,this.imageSrv=l,this.staticData=p,this.img_upload="assets/img/upload.png",this.previsulizacion=this.img_upload,this.Categorias=[{id:"Legendaria",name:"Legendaria"},{id:"\xc9pica",name:"\xc9pica"},{id:"Rara",name:"Rara"},{id:"Com\xfan",name:"Com\xfan"}],this.Juegos=[{id:"1",name:"Tragamonedas"},{id:"2",name:"Precision"},{id:"3",name:"Dados"},{id:"4",name:"Puertas"}],this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],initial_stock:["",s.kI.required],is_active:["",s.kI.required],category:["",s.kI.required],juego:["",s.kI.required]})}ngOnInit(){this.staticData.setMenuGeneral()}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base}):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}deleteImage(){this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.fileToUpload=null}createAwards(){this.form.valid&&this.fileToUpload?(this.imagen=this.fileToUpload,this.dialogService.open({title:"CREAR PREMIO",message:"\xbfEST\xc1 SEGURO QUE DESEA CREAR EL NUEVO PREMIO?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData,r=sessionStorage.getItem("user_id");o.append("name",this.form.get("name")?.value),o.append("description",this.form.get("description")?.value),o.append("initial_stock",this.form.get("initial_stock")?.value),o.append("is_active",this.form.get("is_active")?.value),o.append("category",this.form.get("category")?.value),o.append("game",this.form.get("juego")?.value),o.append("imagen",this.imagen,this.imagen.name),o.append("user_register",r),o.append("user_modify",r),this.awardSrv.postAward(o).subscribe(c=>{this.snackbar.mensaje("Premio Creado Exitosamente"),this.router.navigate(["dashboard/premios"])},c=>{this.dialogService.error(c.error)})}})):this.snackbar.mensaje("Complete todos los campos")}backAwards(){this.router.navigate(["dashboard/premios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(s.qu),e.Y36(Y.q),e.Y36(T.o),e.Y36(A.D),e.Y36(F),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-awards"]],viewQuery:function(t,i){if(1&t&&e.Gf(wa,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:74,vars:10,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["autocomplete","off","formControlName","initial_stock","onpaste","return false","type","number","onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],["formControlName","category","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","juego","mat-select",""],[1,"file_container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",3,"change"],["takeInput",""],["mat-icon-button","",1,"green-primary",3,"click"],[1,"container_img"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["title","Crear",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Nuevo Premio"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card",2)(7,"div",3)(8,"div")(9,"form",4)(10,"mat-form-field")(11,"label"),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"div",5),e._UZ(14,"input",6),e.qZA(),e.TgZ(15,"mat-hint"),e._uU(16,"Nombre del Premio"),e.qZA(),e.YNc(17,Ua,2,0,"mat-error",7),e.qZA(),e.TgZ(18,"mat-form-field")(19,"label"),e._uU(20,"Descripci\xf3n"),e.qZA(),e.TgZ(21,"div",5),e._UZ(22,"input",8),e.qZA(),e.TgZ(23,"mat-hint"),e._uU(24,"Descripci\xf3n del Premio"),e.qZA(),e.YNc(25,qa,2,0,"mat-error",7),e.qZA(),e.TgZ(26,"mat-form-field")(27,"label"),e._uU(28,"Stock Inicial"),e.qZA(),e.TgZ(29,"div",5),e._UZ(30,"input",9),e.qZA(),e.TgZ(31,"mat-hint"),e._uU(32,"Stock Inicial del Premio"),e.qZA(),e.YNc(33,ka,2,0,"mat-error",7),e.qZA(),e.TgZ(34,"mat-form-field")(35,"label"),e._uU(36,"Estado"),e.qZA(),e.TgZ(37,"mat-select",10)(38,"mat-option",11),e._uU(39,"Activo"),e.qZA(),e.TgZ(40,"mat-option",12),e._uU(41,"Inactivo"),e.qZA()(),e.TgZ(42,"mat-hint"),e._uU(43,"Estado del Premio"),e.qZA(),e.YNc(44,Pa,2,0,"mat-error",7),e.qZA(),e.TgZ(45,"mat-form-field")(46,"label"),e._uU(47,"Categor\xeda"),e.qZA(),e.TgZ(48,"mat-select",13),e.YNc(49,Oa,2,2,"mat-option",14),e.qZA(),e.TgZ(50,"mat-hint"),e._uU(51,"Categor\xeda del Premio"),e.qZA(),e.YNc(52,Da,2,0,"mat-error",7),e.qZA(),e.TgZ(53,"mat-form-field")(54,"label"),e._uU(55,"Juego"),e.qZA(),e.TgZ(56,"mat-select",15),e.YNc(57,Ma,2,2,"mat-option",14),e.qZA(),e.TgZ(58,"mat-hint"),e._uU(59,"Juego del Premio"),e.qZA(),e.YNc(60,Ia,2,0,"mat-error",7),e.qZA()()(),e.TgZ(61,"div")(62,"div",16)(63,"div",17)(64,"input",18,19),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()(),e.TgZ(66,"button",20),e.NdJ("click",function(){return i.deleteImage()}),e.TgZ(67,"mat-icon"),e._uU(68,"close"),e.qZA()()(),e.TgZ(69,"div",21),e._UZ(70,"img",22),e.qZA()()(),e.TgZ(71,"div",23)(72,"app-button-primary",24),e.NdJ("click",function(){return i.createAwards()}),e.qZA(),e.TgZ(73,"app-button-primary",25),e.NdJ("click",function(){return i.backAwards()}),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.initial_stock.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Categorias),e.xp6(3),e.Q6J("ngIf",i.form.controls.category.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Juegos),e.xp6(3),e.Q6J("ngIf",i.form.controls.juego.hasError("required")),e.xp6(10),e.Q6J("src",i.previsulizacion,e.LSH))},dependencies:[d.sg,d.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,k.Nt,D.Hw,S.lW,C.Ye,O.gD,P.ey,R.a8,x,v],styles:['mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_img[_ngcontent-%COMP%]{width:400px;height:250px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:300px;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Selecciona una imagen (png, jpg, jpeg)"}.file_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}']}),n})();const Na=["takeInput"];function Fa(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Ea(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Ya(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Ja(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Ra(n,a){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ja(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function La(n,a){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ga(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let Qa=(()=>{class n{constructor(t,i,o,r,c,l,p,u,b){this.router=t,this.fb=i,this.dialog=o,this.awardSrv=r,this.snackbar=c,this.dialogService=l,this.activerouter=p,this.imageSrv=u,this.staticData=b,this.img_upload="assets/img/upload.png",this.previsulizacion=this.img_upload,this.Categorias=[{id:"Legendaria",name:"Legendaria"},{id:"\xc9pica",name:"\xc9pica"},{id:"Rara",name:"Rara"},{id:"Com\xfan",name:"Com\xfan"}],this.Juegos=[{id:"1",name:"Tragamonedas"},{id:"2",name:"Precision"},{id:"3",name:"Dados"},{id:"4",name:"Puertas"}],this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],initial_stock:["",s.kI.required],is_active:["",s.kI.required],category:["",s.kI.required],juego:["",s.kI.required]})}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activerouter.snapshot.paramMap.get("id");this.awardSrv.getAwardbyId(Number(t)).subscribe(i=>{this.getPremio=i,this.form.patchValue({name:this.getPremio.name,description:this.getPremio.description,initial_stock:this.getPremio.initial_stock,is_active:this.getPremio.is_active.toString(),category:this.getPremio.category,juego:this.getPremio.game.toString()}),this.previsulizacion=this.getPremio.imagen},i=>{console.log(i)}),this.form.get("juego")?.disable()}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base}):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}deleteImage(){this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.fileToUpload=null}editAwards(){if(this.form.valid){let t=this.activerouter.snapshot.paramMap.get("id");const i={title:"EDITAR PREMIO",message:"\xbfEST\xc1 SEGURO QUE DESEA EDITAR EL PREMIO "+this.form.get("name")?.value+"?",cancelText:"CANCELAR",confirmText:"EDITAR"};this.dialogService.open(i),this.dialogService.confirmed().subscribe(o=>{if(o){let r=new FormData,c=sessionStorage.getItem("user_id");r.append("name",this.form.get("name")?.value),r.append("description",this.form.get("description")?.value),r.append("initial_stock",this.form.get("initial_stock")?.value),r.append("is_active",this.form.get("is_active")?.value),r.append("category",this.form.get("category")?.value),r.append("game",this.form.get("juego")?.value),this.fileToUpload&&(this.imagen=this.fileToUpload,r.append("imagen",this.imagen,this.imagen.name)),r.append("user_modify",c),this.awardSrv.putAward(Number(t),r).subscribe(l=>{this.snackbar.mensaje("Premio Actualizado Exitosamente"),this.router.navigate(["/dashboard/premios"])},l=>{this.dialogService.error(l.error)})}})}}backAwards(){this.router.navigate(["/dashboard/premios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(s.qu),e.Y36(te.uw),e.Y36(Y.q),e.Y36(T.o),e.Y36(A.D),e.Y36(_.gz),e.Y36(F),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-awards"]],viewQuery:function(t,i){if(1&t&&e.Gf(Na,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:74,vars:11,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["autocomplete","off","formControlName","initial_stock","onpaste","return false","type","number","onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],["formControlName","category","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","juego","mat-select",""],[1,"file_container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",3,"change"],["takeInput",""],["mat-icon-button","",1,"green-primary",3,"click"],[1,"container_img"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["title","Editar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card",2)(7,"div",3)(8,"div")(9,"form",4)(10,"mat-form-field")(11,"label"),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"div",5),e._UZ(14,"input",6),e.qZA(),e.TgZ(15,"mat-hint"),e._uU(16,"Nombre del Premio"),e.qZA(),e.YNc(17,Fa,2,0,"mat-error",7),e.qZA(),e.TgZ(18,"mat-form-field")(19,"label"),e._uU(20,"Descripci\xf3n"),e.qZA(),e.TgZ(21,"div",5),e._UZ(22,"input",8),e.qZA(),e.TgZ(23,"mat-hint"),e._uU(24,"Descripci\xf3n del Premio"),e.qZA(),e.YNc(25,Ea,2,0,"mat-error",7),e.qZA(),e.TgZ(26,"mat-form-field")(27,"label"),e._uU(28,"Stock Inicial"),e.qZA(),e.TgZ(29,"div",5),e._UZ(30,"input",9),e.qZA(),e.TgZ(31,"mat-hint"),e._uU(32,"Stock Inicial del Premio"),e.qZA(),e.YNc(33,Ya,2,0,"mat-error",7),e.qZA(),e.TgZ(34,"mat-form-field")(35,"label"),e._uU(36,"Estado"),e.qZA(),e.TgZ(37,"mat-select",10)(38,"mat-option",11),e._uU(39,"Activo"),e.qZA(),e.TgZ(40,"mat-option",12),e._uU(41,"Inactivo"),e.qZA()(),e.TgZ(42,"mat-hint"),e._uU(43,"Estado del Premio"),e.qZA(),e.YNc(44,Ja,2,0,"mat-error",7),e.qZA(),e.TgZ(45,"mat-form-field")(46,"label"),e._uU(47,"Categor\xeda"),e.qZA(),e.TgZ(48,"mat-select",13),e.YNc(49,Ra,2,2,"mat-option",14),e.qZA(),e.TgZ(50,"mat-hint"),e._uU(51,"Categor\xeda del Premio"),e.qZA(),e.YNc(52,ja,2,0,"mat-error",7),e.qZA(),e.TgZ(53,"mat-form-field")(54,"label"),e._uU(55,"Juego"),e.qZA(),e.TgZ(56,"mat-select",15),e.YNc(57,La,2,2,"mat-option",14),e.qZA(),e.TgZ(58,"mat-hint"),e._uU(59,"Juego del Premio"),e.qZA(),e.YNc(60,Ga,2,0,"mat-error",7),e.qZA()()(),e.TgZ(61,"div")(62,"div",16)(63,"div",17)(64,"input",18,19),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()(),e.TgZ(66,"button",20),e.NdJ("click",function(){return i.deleteImage()}),e.TgZ(67,"mat-icon"),e._uU(68,"close"),e.qZA()()(),e.TgZ(69,"div",21),e._UZ(70,"img",22),e.qZA()()(),e.TgZ(71,"div",23)(72,"app-button-primary",24),e.NdJ("click",function(){return i.editAwards()}),e.qZA(),e.TgZ(73,"app-button-primary",25),e.NdJ("click",function(){return i.backAwards()}),e.qZA()()()()()),2&t&&(e.xp6(3),e.hij("Editar Premio : ",i.getPremio.name,""),e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.initial_stock.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Categorias),e.xp6(3),e.Q6J("ngIf",i.form.controls.category.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Juegos),e.xp6(3),e.Q6J("ngIf",i.form.controls.juego.hasError("required")),e.xp6(10),e.Q6J("src",i.previsulizacion,e.LSH))},dependencies:[d.sg,d.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,k.Nt,D.Hw,S.lW,C.Ye,O.gD,P.ey,R.a8,x,v],styles:['mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.container_img[_ngcontent-%COMP%]{width:400px;height:250px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:300px;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Selecciona una imagen (png, jpg, jpeg)"}.file_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}']}),n})();function Ba(n,a){if(1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.premioget.user_modify)}}function za(n,a){if(1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.premioget.user_register)}}function Ha(n,a){1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2,"Activo"),e.qZA()())}function Va(n,a){1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1,"Inactivo"),e.qZA())}let $a=(()=>{class n{constructor(t,i,o,r){this.award=t,this.router=i,this.activerouter=o,this.staticData=r}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activerouter.snapshot.paramMap.get("id");this.award.getAwardbyIdVisualizer(Number(t)).subscribe(i=>{this.premioget=i})}regresarPremios(){this.router.navigate(["/dashboard/premios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y.q),e.Y36(_.F0),e.Y36(_.gz),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-awards"]],decls:104,vars:16,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[1,"container"],[1,"datos"],["role","listitem"],[4,"ngIf","ngIfElse"],["sinmodificar",""],["inactivo",""],[1,"container_img"],["alt","",3,"src"],[1,"container_botones"],["title","Salir",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Visualizar premio"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card",2)(7,"div",3)(8,"div")(9,"div",4)(10,"div",5)(11,"mat-label"),e._uU(12,"Nombre"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"mat-list-item",6),e._uU(15),e.qZA()(),e.TgZ(16,"div",5)(17,"mat-label"),e._uU(18,"Descripci\xf3n"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"mat-list-item",6),e._uU(21),e.qZA()()(),e.TgZ(22,"div",4)(23,"div",5)(24,"mat-label"),e._uU(25,"Premios Disponibles"),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"mat-list-item",6),e._uU(28),e.qZA()(),e.TgZ(29,"div",5)(30,"mat-label"),e._uU(31,"Premios Condicionados"),e.qZA(),e._UZ(32,"br"),e.TgZ(33,"mat-list-item",6),e._uU(34),e.qZA()()(),e.TgZ(35,"div",4)(36,"div",5)(37,"mat-label"),e._uU(38,"Premios Ganados"),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"mat-list-item",6),e._uU(41),e.qZA()(),e.TgZ(42,"div",5)(43,"mat-label"),e._uU(44,"Total de Premios Ingresados"),e.qZA(),e._UZ(45,"br"),e.TgZ(46,"mat-list-item",6),e._uU(47),e.qZA()()(),e.TgZ(48,"div",4)(49,"div",5)(50,"mat-label"),e._uU(51,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(52,"br"),e.TgZ(53,"mat-list-item",6),e._uU(54),e.qZA()(),e.TgZ(55,"div",5)(56,"mat-label"),e._uU(57,"\xdaltima Modificaci\xf3n"),e.qZA(),e._UZ(58,"br"),e.TgZ(59,"mat-list-item",6),e._uU(60),e.qZA()()(),e.TgZ(61,"div",4)(62,"div",5)(63,"mat-label"),e._uU(64,"Usuario que registr\xf3 el premio"),e.qZA(),e._UZ(65,"br"),e.TgZ(66,"mat-list-item",6),e._uU(67),e.qZA()(),e.TgZ(68,"div",5)(69,"mat-label"),e._uU(70,"\xdaltimo usuario en modificar el premio"),e.qZA(),e._UZ(71,"br"),e.YNc(72,Ba,3,1,"div",7),e.YNc(73,za,2,1,"ng-template",null,8,e.W1O),e.qZA()(),e.TgZ(75,"div",4)(76,"div",5)(77,"mat-label"),e._uU(78,"Categor\xeda"),e.qZA(),e._UZ(79,"br"),e.TgZ(80,"mat-list-item",6),e._uU(81),e.qZA()(),e.TgZ(82,"div",5)(83,"mat-label"),e._uU(84,"El premio pertenece al juego"),e.qZA(),e._UZ(85,"br"),e.TgZ(86,"mat-list-item",6),e._uU(87),e.qZA()()(),e.TgZ(88,"div",4)(89,"div",5)(90,"mat-label"),e._uU(91,"Estado"),e.qZA(),e._UZ(92,"br"),e.YNc(93,Ha,3,0,"div",7),e.YNc(94,Va,2,0,"ng-template",null,9,e.W1O),e.qZA(),e.TgZ(96,"div",5),e._UZ(97,"mat-label")(98,"br")(99,"mat-list-item",6),e.qZA()()(),e.TgZ(100,"div",10),e._UZ(101,"img",11),e.qZA()(),e.TgZ(102,"div",12)(103,"app-button-primary",13),e.NdJ("click",function(){return i.regresarPremios()}),e.qZA()()()()()),2&t){const o=e.MAs(74),r=e.MAs(95);e.xp6(15),e.Oqu(i.premioget.name),e.xp6(6),e.Oqu(i.premioget.description),e.xp6(7),e.Oqu(i.premioget.initial_stock),e.xp6(6),e.Oqu(i.premioget.condition_stock),e.xp6(7),e.Oqu(i.premioget.prizes_awarded),e.xp6(6),e.Oqu(i.premioget.total_awards),e.xp6(7),e.Oqu(i.premioget.created),e.xp6(6),e.Oqu(i.premioget.modified),e.xp6(7),e.Oqu(i.premioget.user_register),e.xp6(5),e.Q6J("ngIf",i.premioget.user_modify)("ngIfElse",o),e.xp6(9),e.Oqu(i.premioget.category),e.xp6(6),e.Oqu(i.premioget.game),e.xp6(6),e.Q6J("ngIf",i.premioget.is_active)("ngIfElse",r),e.xp6(8),e.s9C("src",i.premioget.imagen,e.LSH)}},dependencies:[d.O5,f.hX,C.Ye,K.Tg,R.a8,x,v],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:20px}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background-color:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.container_img[_ngcontent-%COMP%]{width:500px;height:350px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.mat-list-item[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}"]}),n})();var Te=g(3398);let ye=(()=>{class n{constructor(t,i){this.probability=t,this.awards=i,this.id_game="3",this.gameName="Dados",this.newAwards=[],this.awardsGame=[],this.legendary_box=[1],this.epic_box=[1,2],this.common_box=[1,2,4]}addItemToCategory(t,i){let o={game_id:this.id_game,premio_id:String(t.id)};this.probability.postItemToCategory(o).subscribe(r=>{this.awards.getAward().subscribe(c=>{c.map(l=>{this.probability.getAwardsListGame().subscribe(p=>{p.forEach(u=>{l.category==i&&u.premio_id==l.id&&this.newAwards.push(l)})})})})})}setAwardsGame(t){this.awardsGame=t}getAwardsGame(){return this.awardsGame}getIdGame(){return this.id_game}getGameName(){return this.gameName}addProbabilityConfig(t){}getNewAwards(){return this.newAwards}getLegendaryBoxes(){return this.legendary_box}getEpicBoxes(){return this.epic_box}getCommonBoxes(){return this.common_box}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Te.g),e.LFG(Y.q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wa=(()=>{class n{constructor(t){this.controller=t,this.name="product name",this.stock="-",this.imgUrl="",this.newAwardList=[],this.propagar=new e.vpe}ngOnInit(){}addItem(){this.controller.addItemToCategory(this.award,this.award.category),this.newAwardList=this.controller.getNewAwards(),this.propagar.emit(this.newAwardList)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ye))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal-item"]],inputs:{name:"name",stock:"stock",imgUrl:"imgUrl",award:"award"},outputs:{propagar:"propagar"},decls:9,vars:3,consts:[[1,"container-item"],[1,"item-nombre"],[1,"item__img-container"],["alt","award-img",3,"src"],[1,"item-stock"],["type","button",1,"",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"figure",2),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"p",4),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return i.addItem()}),e._uU(8,"Anadir"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(i.name),e.xp6(2),e.s9C("src",i.imgUrl,e.LSH),e.xp6(2),e.hij("stock: ",i.stock,""))},styles:[".container-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.item__img-container[_ngcontent-%COMP%]{width:5rem;height:5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}.modal-item__btn[_ngcontent-%COMP%]{outline:none;padding:1.5rem}"]}),n})();function Xa(n,a){if(1&n&&e._UZ(0,"app-modal-item",8),2&n){const t=a.$implicit;e.s9C("name",t.name),e.s9C("imgUrl",t.imagen),e.s9C("stock",t.current_stock),e.Q6J("award",t)}}function Ka(n,a){1&n&&e._UZ(0,"div")}let er=(()=>{class n{constructor(t){this.awards=t,this.category="",this.publicity=[],this.modalAwards=[],this.isOpenModal=!0,this.propagar=new e.vpe}ngOnInit(){this.awards.getAward().subscribe(t=>{t.map(i=>{this.category==i.category&&this.modalAwards.push(i)})})}closeModalOutsideModal(t){t.target.classList.contains("row")&&(this.isOpenModal=!1,this.propagar.emit(this.isOpenModal))}closeModal(){this.isOpenModal=!1,this.propagar.emit(this.isOpenModal)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y.q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal"]],inputs:{category:"category",publicity:"publicity"},outputs:{propagar:"propagar"},decls:11,vars:3,consts:[[1,"container-modal",3,"click"],[1,"row","align-items-center","justify-content-center","w-100","h-100"],[1,"container-modal-awards"],[1,"cancel-icon",3,"click"],[1,"row","text-align-center"],[1,"awards-container"],[3,"award","name","imgUrl","stock",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"award","name","imgUrl","stock"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(r){return i.closeModalOutsideModal(r)}),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-icon",3),e.NdJ("click",function(){return i.closeModal()}),e._uU(4,"cancel"),e.qZA(),e.TgZ(5,"div",4)(6,"p"),e._uU(7),e.qZA()(),e.TgZ(8,"div",5),e.YNc(9,Xa,1,4,"app-modal-item",6),e.YNc(10,Ka,1,0,"div",7),e.qZA()()()()),2&t&&(e.xp6(7),e.hij("Anadir premio a la categoria ",i.category,""),e.xp6(2),e.Q6J("ngForOf",i.modalAwards),e.xp6(1),e.Q6J("ngIf","publicity"==i.category))},dependencies:[d.sg,d.O5,D.Hw,Wa],styles:[".container-modal[_ngcontent-%COMP%]{width:100%;height:100vh;position:absolute;background-color:#808080a3;z-index:0}.container-modal-awards[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:gray;height:20rem;width:90%;padding:2rem}.awards-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;gap:.5rem;flex-wrap:wrap}.cancel-icon[_ngcontent-%COMP%]{position:absolute;top:7px;right:15px;width:2rem;height:2rem;font-size:2rem}"]}),n})();function tr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-modal",16),e.NdJ("propagar",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.manageCloseModal(o))}),e.qZA()}if(2&n){const t=e.oxw();e.s9C("category",t.categoryModal),e.Q6J("publicity",t.publicityList)}}let ir=(()=>{class n{constructor(t,i,o,r,c,l,p,u){this.awards=t,this.controller=i,this.probability=o,this.fb=r,this.dialog=c,this.snackBar=l,this.staticData=p,this.gameSelectionService=u,this.isModalOpen=!1,this.awardsGame=[],this.legendary=[],this.legendary_box=this.controller.getLegendaryBoxes(),this.epic=[],this.epic_box=this.controller.getEpicBoxes(),this.rare=[],this.common=[],this.common_box=this.controller.getCommonBoxes(),this.modalAwards=[],this.publicityList=[],this.categoryModal="",this.totalSquares=0,this.limitWinners=0,this.limitAttempts=0,this.percentage=0,this.limitMessage="",this.form=this.fb.group({percent_win:[""],limit_winners:[""],limit_attempts:[""]})}ngOnInit(){this.gameSelectionService.selectedGame$.subscribe(t=>{this.staticData.setMenu(t),this.loadData()})}loadData(){this.awards.getAward().subscribe(t=>{this.probability.getAwardsListGame().subscribe(i=>{this.getAwardsPerCategory(t,i)}),this.getProbability()})}getAwardsPerCategory(t,i){t.forEach(o=>{i.forEach(r=>{"Legendaria"==o.category&&r.premio_id==o.id?this.legendary.push(o):"Epica"==o.category&&r.premio_id==o.id?this.epic.push(o):"Rara"==o.category&&r.premio_id==o.id?this.rare.push(o):r.premio_id==o.id&&this.common.push(o)})})}addProbabilityConfig(){var t=this;return(0,y.Z)(function*(){if(yield t.validateData()){const i={title:"CONFIGURAR PROBABILIDADES DEL JUEGO",message:"\xbfEST\xc1 SEGURO QUE DESEA CAMBIAR LA CONFIGURACION DE LAS PROBABILIDADES?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"};let o=new FormData;o.append("percent_win",t.form.get("percent_win")?.value),o.append("winners_limit",t.form.get("limit_winners")?.value),o.append("attempts_limit",t.form.get("limit_attempts")?.value),o.append("game_id","1"),t.dialog.open(i),t.dialog.confirmed().subscribe(r=>{r&&t.probability.putProbabilityConfig(o).subscribe(c=>{t.snackBar.mensaje("Configuracion Cambiada con exito"),t.getProbability()})})}})()}padreOpenModal(t){this.isModalOpen=t.isModalOpen,this.modalAwards=t.awards,this.categoryModal=t.category,this.publicityList=t.publicity}manageCloseModal(t){this.isModalOpen=t}validateData(){var t=this;return(0,y.Z)(function*(){let i=t.form.get("percent_win")?.value,o=t.form.get("limit_winners")?.value,r=t.form.get("limit_attempts")?.value;return t.form.valid?i>100?(t.snackBar.mensaje("El porcentaje de ganar no puede ser mayor a 100"),!1):i<0?(t.snackBar.mensaje("El porcentaje de ganar no puede ser menor a 0"),!1):o<0?(t.snackBar.mensaje("El l\xedmite de ganadores no puede ser menor a 0"),!1):!(r<1&&(t.snackBar.mensaje("El l\xedmite de intentos no puede ser menor a 1"),1)):(t.snackBar.mensaje("Lleno el formulario correctamente"),!1)})()}getProbability(){this.probability.getProbabilites().subscribe(t=>{this.probabilityData=t,this.limitWinners=this.probabilityData.winners_limit,this.percentage=this.probabilityData.percent_win,this.limitAttempts=this.probabilityData.attempts_limit,this.limitMessage=`L\xedmite actual de ganadores es  ${this.limitWinners}`})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y.q),e.Y36(ye),e.Y36(Te.g),e.Y36(s.qu),e.Y36(A.D),e.Y36(T.o),e.Y36(h.Q),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-probabilidades"]],decls:30,vars:5,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[3,"category","publicity","propagar",4,"ngIf"],[1,"container-premios","justify-content-center","background-black-primary"],[1,"container-set-categories","green-primary"],["mat-lib-title","",1,"set-categories__title"],[1,"container-total"],["action","",1,"row","justify-content-center","align-items-center","me-2","form",3,"formGroup"],["for","percent_win",1,"total","col-8","label","white-color"],["onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","type","number","id","percent_win","formControlName","percent_win","required","",1,"input-global","col-4","ms-4"],[1,"ganadores__limit-message","mt-2","ms-3","white-color"],["for","limit_winners",1,"total","col-8","mt-4","label"],["onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","type","number","id","limit_winners","formControlName","limit_winners","required","",1,"input-global","col-4","ms-4"],["for","limit_attempts",1,"total","col-8","mt-4","label"],["onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","type","number","id","limit_attempts","formControlName","limit_attempts","required","",1,"input-global","col-4","ms-4"],["title","Guardar",1,"mt-4","ms-3","btn-save",3,"click"],[3,"category","publicity","propagar"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Probabilidad "),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.YNc(5,tr,1,2,"app-modal",2),e.TgZ(6,"div",3)(7,"div",4)(8,"h3",5),e._uU(9," Editar Probabilidades "),e.qZA(),e.TgZ(10,"div",6)(11,"form",7)(12,"label",8),e._uU(13,"Porcentaje de ganar un premio"),e.qZA(),e._UZ(14,"input",9),e._uU(15," % "),e.TgZ(16,"p",10),e._uU(17),e.qZA(),e.TgZ(18,"label",11),e._uU(19,"Limitar ganadores por dia"),e.qZA(),e._UZ(20,"input",12),e.TgZ(21,"p",10),e._uU(22),e._UZ(23,"br"),e.qZA(),e.TgZ(24,"label",13),e._uU(25,"Numero de intentos"),e.qZA(),e._UZ(26,"input",14),e.TgZ(27,"p",10),e._uU(28),e.qZA()(),e.TgZ(29,"app-button-primary",15),e.NdJ("click",function(){return i.addProbabilityConfig()}),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("ngIf",i.isModalOpen),e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(6),e.hij(" Porcentaje actual de ganar ",i.percentage,"% "),e.xp6(5),e.hij(" ",i.limitMessage," "),e.xp6(6),e.hij(" Numero actual de Intentos ",i.limitAttempts," "))},dependencies:[d.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.sg,s.u,C.Ye,x,v,er],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}p[_ngcontent-%COMP%]{margin:0}.container-premios[_ngcontent-%COMP%]{display:flex;align-items:top;width:100%}.container-categories[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6rem;width:65%;margin-right:1rem;padding:.5rem .8rem}.container-set-categories[_ngcontent-%COMP%]{width:75%}img[_ngcontent-%COMP%]{width:100%;height:100%}.categories-caption[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.set-categories__title[_ngcontent-%COMP%]{margin-top:.5rem;text-align:center;margin-top:5%}.container-set-squares[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem;padding-right:.5rem}.line[_ngcontent-%COMP%]{border-top:1px solid black;width:57%;align-self:center}.container-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;align-items:center}.total-squares__number[_ngcontent-%COMP%]{margin-right:5rem}.form[_ngcontent-%COMP%]{gap:.2rem}.form__input[_ngcontent-%COMP%]{width:4rem;height:2rem}.container-ganadores[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem}.ganadores__limit-message[_ngcontent-%COMP%]{display:flex;justify-content:center}.no-pass-limit[_ngcontent-%COMP%]{color:green}.pass-limit[_ngcontent-%COMP%]{color:red}.label[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}"]}),n})(),w=(()=>{class n{constructor(t,i){this.permisos_api=t,this.snackbar=i}canActivate(t,i){var o=this;return(0,y.Z)(function*(){let r=t.data.Permiso_nombre;const c=yield(0,E.n)(o.permisos_api.getPermisosbyName(r));let l=Number(c[0].id),p=Number(sessionStorage.getItem("rol_id"));return(yield(0,E.n)(o.permisos_api.getPermisosbyRolandPermission(p,l))).length>0||(o.snackbar.mensaje("No tienes permiso para: "+r),!1)})()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ee),e.LFG(T.o))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Z=g(3068);function nr(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function or(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(11);e.xp6(1),e.hij(" La longitud de la c\xe9dula debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function ar(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function rr(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function sr(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function cr(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function lr(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function mr(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(46);e.xp6(1),e.hij(" La longitud del tel\xe9fono debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function pr(n,a){if(1&n&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function dr(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ur(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let gr=(()=>{class n{constructor(t,i,o,r,c,l,p){this.router=t,this.formBuilder=i,this.snackBar=o,this.confirmDialog=r,this.clientAPI=c,this.activatedRoute=l,this.staticData=p,this.listSex=[{id:"Masculino",name:"Masculino"},{id:"Femenino",name:"Femenino"},{id:"Otro",name:"Otro"}],this.singularName="cliente",this.pluralName="Clientes",this.actionName="editar",this.formGroup=this.formBuilder.group({cedula:new s.NI("",[s.kI.required,s.kI.minLength(10)]),names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),phone:new s.NI("",[s.kI.required,s.kI.minLength(10)]),sex:["",s.kI.required],address:["",s.kI.required]})}toList(){this.router.navigate(["dashboard/"+this.pluralName.toLocaleLowerCase()])}editClient(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que desea "+this.actionName+" el "+this.singularName+" "+this.formGroup.get("names")?.value+" ?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){let t=this.activatedRoute.snapshot.paramMap.get("id");this.confirmDialog.confirmed().subscribe(i=>{if(i){let o=this.fillForm();this.clientAPI.put(Number(t),o).subscribe({next:r=>{this.snackBar.mensaje(this.singularName+" Actualizado Exitosamente"),this.toList()},error:r=>{this.confirmDialog.error(r.error)}})}})}fillForm(){let t=sessionStorage.getItem("user_id"),i=new FormData;return i.append("cedula",this.formGroup.get("cedula")?.value),i.append("names",this.formGroup.get("names")?.value),i.append("surnames",this.formGroup.get("surnames")?.value),i.append("email",this.formGroup.get("email")?.value),i.append("phone",this.formGroup.get("phone")?.value),i.append("address",this.formGroup.get("address")?.value),i.append("sex",this.formGroup.get("sex")?.value),i.append("user_client_modify",t),i}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activatedRoute.snapshot.paramMap.get("id");this.clientAPI.getById(Number(t)).subscribe(i=>{this.currentClient=i,this.getInfo()},i=>{})}getInfo(){this.formGroup.patchValue({cedula:this.currentClient.cedula,names:this.currentClient.names,surnames:this.currentClient.surnames,email:this.currentClient.email,phone:this.currentClient.phone,address:this.currentClient.address,sex:this.currentClient.sex})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(s.qu),e.Y36(T.o),e.Y36(A.D),e.Y36(oe),e.Y36(_.gz),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-client"]],decls:70,vars:17,consts:[[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["formControlName","sex","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["autocomplete","off","formControlName","address","type","text","matInput",""],[1,"container_botones"],["title","Editar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field")(7,"label"),e._uU(8,"C\xe9dula"),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"input",3,4),e.qZA(),e.TgZ(12,"mat-hint",5),e._uU(13),e.qZA(),e.YNc(14,nr,2,0,"mat-error",6),e.YNc(15,or,2,1,"mat-error",6),e.qZA(),e.TgZ(16,"mat-form-field")(17,"label"),e._uU(18,"Nombres"),e.qZA(),e.TgZ(19,"div",2),e._UZ(20,"input",7),e.qZA(),e.TgZ(21,"mat-hint"),e._uU(22,"Nombre del Cliente"),e.qZA(),e.YNc(23,ar,2,0,"mat-error",6),e.qZA(),e.TgZ(24,"mat-form-field")(25,"label"),e._uU(26,"Apellidos"),e.qZA(),e.TgZ(27,"div",2),e._UZ(28,"input",8),e.qZA(),e.TgZ(29,"mat-hint"),e._uU(30,"Apellido paterno y materno"),e.qZA(),e.YNc(31,rr,2,0,"mat-error",6),e.qZA(),e.TgZ(32,"mat-form-field")(33,"label"),e._uU(34,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(35,"div",2),e._UZ(36,"input",9),e.qZA(),e.TgZ(37,"mat-hint"),e._uU(38,"Correo electr\xf3nico"),e.qZA(),e.YNc(39,sr,2,0,"mat-error",6),e.YNc(40,cr,2,0,"mat-error",6),e.qZA(),e.TgZ(41,"mat-form-field")(42,"label"),e._uU(43,"Tel\xe9fono"),e.qZA(),e.TgZ(44,"div",2),e._UZ(45,"input",10,11),e.qZA(),e.TgZ(47,"mat-hint",5),e._uU(48),e.qZA(),e.YNc(49,lr,2,0,"mat-error",6),e.YNc(50,mr,2,1,"mat-error",6),e.qZA(),e.TgZ(51,"mat-form-field")(52,"label"),e._uU(53,"Sexo"),e.qZA(),e.TgZ(54,"mat-select",12),e.YNc(55,pr,2,2,"mat-option",13),e.qZA(),e.TgZ(56,"mat-hint"),e._uU(57,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(58,dr,2,0,"mat-error",6),e.qZA(),e.TgZ(59,"mat-form-field")(60,"label"),e._uU(61,"Direcci\xf3n"),e.qZA(),e.TgZ(62,"div",2),e._UZ(63,"input",14),e.qZA(),e.TgZ(64,"mat-hint"),e._uU(65,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(66,ur,2,0,"mat-error",6),e.qZA()(),e.TgZ(67,"div",15)(68,"app-button-primary",16),e.NdJ("click",function(){return i.editClient()}),e.qZA(),e.TgZ(69,"app-button-primary",17),e.NdJ("click",function(){return i.toList()}),e.qZA()()()()),2&t){const o=e.MAs(11),r=e.MAs(46);e.xp6(3),e.lnq("Editar Cliente : ",i.currentClient.names," ",i.currentClient.surnames," #",i.currentClient.cedula," "),e.xp6(2),e.Q6J("formGroup",i.formGroup),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.cedula.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.cedula.hasError("minlength")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.email.hasError("email")),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("minlength")),e.xp6(5),e.Q6J("ngForOf",i.listSex),e.xp6(3),e.Q6J("ngIf",i.formGroup.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.address.hasError("required"))}},dependencies:[d.sg,d.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,f.TO,f.KE,f.bx,k.Nt,C.Ye,O.gD,P.ey,x,v],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();function _r(n,a){if(1&n&&(e.TgZ(0,"mat-option",19),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function fr(n,a){if(1&n&&(e.TgZ(0,"div")(1,"mat-list-item"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.AsE("",t.value.win_award," -- Categor\xeda: ",t.value.win_award_category," ")}}function hr(n,a){1&n&&(e.TgZ(0,"mat-list-item"),e._uU(1,"No ha ganado"),e.qZA())}function br(n,a){1&n&&(e.TgZ(0,"div")(1,"mat-list-item"),e._uU(2,"Si"),e.qZA()())}function Cr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"mat-list-item"),e._uU(1,"No"),e.qZA(),e.TgZ(2,"div",17)(3,"app-button-primary",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,r=e.oxw();return e.KtG(r.deliveryAward(o.value.id))}),e.qZA()()}}function vr(n,a){if(1&n&&(e.TgZ(0,"div",4)(1,"mat-label"),e._uU(2,"Premio Entregado"),e.qZA(),e._UZ(3,"br"),e.YNc(4,br,3,0,"div",20),e.YNc(5,Cr,4,0,"ng-template",null,24,e.W1O),e.qZA()),2&n){const t=e.MAs(6),i=e.oxw().$implicit;e.xp6(4),e.Q6J("ngIf",i.value.delivered_award)("ngIfElse",t)}}function Zr(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",3)(2,"div",4)(3,"mat-label"),e._uU(4,"Partida #"),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"mat-list-item"),e._uU(7),e.qZA()()(),e.TgZ(8,"div",3)(9,"div",4)(10,"mat-label"),e._uU(11,"Premio Ganado"),e.qZA(),e._UZ(12,"br"),e.YNc(13,fr,3,2,"div",20),e.YNc(14,hr,2,0,"ng-template",null,21,e.W1O),e.qZA(),e.YNc(16,vr,7,2,"div",22),e.qZA(),e.TgZ(17,"div",3)(18,"div",4)(19,"mat-label"),e._uU(20,"Juego Seleccionado"),e.qZA(),e._UZ(21,"br"),e.TgZ(22,"mat-list-item"),e._uU(23),e.qZA()(),e.TgZ(24,"div",4)(25,"mat-label"),e._uU(26,"Fecha de emisi\xf3n del Ticket"),e.qZA(),e._UZ(27,"br"),e.TgZ(28,"mat-list-item"),e._uU(29),e.qZA()()(),e.TgZ(30,"div",3)(31,"div",4)(32,"mat-label"),e._uU(33,"Fecha de juego"),e.qZA(),e._UZ(34,"br"),e.TgZ(35,"mat-list-item"),e._uU(36),e.qZA()(),e.TgZ(37,"div",4)(38,"mat-label"),e._uU(39,"Encargado que cre\xf3 el ticket"),e.qZA(),e._UZ(40,"br"),e.TgZ(41,"mat-list-item"),e._uU(42),e.qZA()()(),e.TgZ(43,"div",3)(44,"div",4)(45,"mat-label"),e._uU(46,"C\xf3digo del ticket"),e.qZA(),e._UZ(47,"br"),e.TgZ(48,"mat-list-item"),e._uU(49),e.qZA()(),e.TgZ(50,"div",4)(51,"mat-label"),e._uU(52,"N\xfamero de Factura"),e.qZA(),e._UZ(53,"br"),e.TgZ(54,"mat-list-item"),e._uU(55),e.qZA()()(),e.TgZ(56,"div")(57,"h3",23),e._uU(58,"-"),e.qZA()()()),2&n){const t=a.$implicit,i=e.MAs(15);e.xp6(7),e.Oqu(t.value.id),e.xp6(6),e.Q6J("ngIf",t.value.win_match)("ngIfElse",i),e.xp6(3),e.Q6J("ngIf",t.value.win_match),e.xp6(7),e.Oqu(t.value.game_selected),e.xp6(6),e.Oqu(t.value.emision_date_ticket),e.xp6(7),e.Oqu(t.value.game_date),e.xp6(6),e.Oqu(t.value.user_register_ticket),e.xp6(7),e.Oqu(t.value.qr),e.xp6(6),e.Oqu(t.value.invoice_number)}}function Tr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",3)(2,"div",26)(3,"mat-label"),e._uU(4,"C\xf3digo del ticket"),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"mat-list-item"),e._uU(7),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"button",27),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.viewInformation(r.value.id))}),e.TgZ(10,"mat-icon",28),e._uU(11," remove_red_eye "),e.qZA()(),e.TgZ(12,"button",29),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.printTicket(r.value.id))}),e.TgZ(13,"mat-icon",28),e._uU(14," print "),e.qZA()()()()()}if(2&n){const t=a.$implicit;e.xp6(7),e.Oqu(t.value.qr_code_digits)}}let yr=(()=>{class n{constructor(t,i,o,r,c,l,p,u,b){this.router=t,this.activedRoute=i,this.clientAPI=o,this.staticData=r,this.matchSrv=c,this.dialogService=l,this.snackSrv=p,this.ticketSrv=u,this.permisos_api=b,this.clientId=this.activedRoute.snapshot.paramMap.get("id"),this.singularName="cliente",this.pluralName="clientes",this.actionName="visualizar",this.Filters=[{id:"?ticket__client__id="+this.clientId+"&win_match=true",name:"Partidas Ganadas"},{id:"?ticket__client__id="+this.clientId+"&win_match=false",name:"Partidas Perdidas"},{id:"?ordering=date_created&ticket__client__id="+this.clientId,name:"Primeras Partidas Jugadas"},{id:"?ordering=-date_created&ticket__client__id="+this.clientId,name:"\xdaltimas Partidas Jugadas"},{id:"?ticket__client__id="+this.clientId+"&win_match=true&delivered=false",name:"Partidas Ganadas con Premios No Entregados"}],this.default_filter="?ordering=-date_created&ticket__client__id="+this.clientId,this.client={id:"",cedula:"",names:"",surnames:"",email:"",phone:"",sex:"",address:"",user_client_register:"",user_client_modify:"",created:"",modified:"",client:""},this.len_ticket_available=0,this.len_match=0,this.winner_client=0,this.loser_client=0}toList(){this.router.navigate(["dashboard/"+this.pluralName])}ngOnInit(){this.staticData.setMenuGeneral(),this.SummnaryClient(),this.clientAPI.getById(Number(this.clientId)).subscribe(t=>{this.client=t}),this.getClientHistory(this.default_filter),this.getTicketAvailable()}getClientHistory(t){this.matchSrv.getMatchFilterClientHistory(t).subscribe(i=>{this.client_history=i,this.len_match=Object.keys(i).length})}getTicketAvailable(){this.ticketSrv.getFilter("?state=Disponible&client__id="+this.clientId).subscribe(i=>{this.ticket_client_avilable=i,this.len_ticket_available=Object.keys(i).length})}filter(t){this.getClientHistory(t)}deliveryAward(t){var i=this;return(0,y.Z)(function*(){i.dialogService.open({title:"ENTREGAR PREMIO",message:"\xbfEST\xc1 SEGURO QUE DESEA CAMBIAR ENTREGAR EL PREMIO?",cancelText:"CANCELAR",confirmText:"ENTREGAR"}),i.dialogService.confirmed().subscribe(function(){var r=(0,y.Z)(function*(c){if(c){let l=new FormData;l.append("delivery","true"),i.matchSrv.changeDelivered(t,l).subscribe(p=>{i.snackSrv.mensaje("Se cambi\xf3 el estado de la entrega del premio"),i.getClientHistory(i.default_filter)})}});return function(c){return r.apply(this,arguments)}}())})()}viewInformation(t){var i=this;return(0,y.Z)(function*(){i.router.navigate(["/dashboard/tickets/vizualizar/"+t])})()}printTicket(t){var i=this;return(0,y.Z)(function*(){(yield i.Permisos("Imprimir Ticket")).length>0?alert("Imprimiendo Ticket "+t):i.snackSrv.mensaje("No tienes permisos para Imprimir Ticket")})()}SummnaryClient(){this.matchSrv.getMatchFilterClientHistory("?ticket__client__id="+this.clientId+"&win_match=true").subscribe(t=>{this.winner_client=Object.keys(t).length}),this.matchSrv.getMatchFilterClientHistory("?ticket__client__id="+this.clientId+"&win_match=false").subscribe(t=>{this.loser_client=Object.keys(t).length})}Permisos(t){var i=this;return(0,y.Z)(function*(){let o=Number(sessionStorage.getItem("rol_id")),r=yield(0,E.n)(i.permisos_api.getPermisosbyName(t)),c=Number(r[0].id);return yield(0,E.n)(i.permisos_api.getPermisosbyRolandPermission(o,c))})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(_.gz),e.Y36(oe),e.Y36(h.Q),e.Y36(W.Q),e.Y36(A.D),e.Y36(T.o),e.Y36($.w),e.Y36(ee))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-client"]],decls:110,vars:25,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container"],[1,"datos"],[1,"history"],[1,"history_head"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"history_content"],[4,"ngFor","ngForOf"],[1,"summary"],[1,"summary_head"],[1,"summary_title"],[1,"summary_values"],[1,"available_ticket"],[1,"container_botones"],["title","Salir",3,"click"],[1,"background-navy-primary","white-color",3,"value"],[4,"ngIf","ngIfElse"],["loser",""],["class","datos",4,"ngIf"],[1,"separate"],["loser_award",""],["title","Entregar Premio",3,"click"],[1,"datos","ticket_border"],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Imprimir",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"div",2)(7,"h2"),e._uU(8,"Datos del cliente"),e.qZA(),e.TgZ(9,"div",3)(10,"div",4)(11,"mat-label"),e._uU(12,"C\xe9dula"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"mat-list-item"),e._uU(15),e.qZA()(),e.TgZ(16,"div",4)(17,"mat-label"),e._uU(18,"Nombres"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"mat-list-item"),e._uU(21),e.qZA()()(),e.TgZ(22,"div",3)(23,"div",4)(24,"mat-label"),e._uU(25,"Apellidos"),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"mat-list-item"),e._uU(28),e.qZA()(),e.TgZ(29,"div",4)(30,"mat-label"),e._uU(31,"Email"),e.qZA(),e._UZ(32,"br"),e.TgZ(33,"mat-list-item"),e._uU(34),e.qZA()()(),e.TgZ(35,"div",3)(36,"div",4)(37,"mat-label"),e._uU(38,"Tel\xe9fono"),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"mat-list-item"),e._uU(41),e.qZA()(),e.TgZ(42,"div",4)(43,"mat-label"),e._uU(44,"Sexo"),e.qZA(),e._UZ(45,"br"),e.TgZ(46,"mat-list-item"),e._uU(47),e.qZA()()(),e.TgZ(48,"div",3)(49,"div",4)(50,"mat-label"),e._uU(51,"Direcci\xf3n"),e.qZA(),e._UZ(52,"br"),e.TgZ(53,"mat-list-item"),e._uU(54),e.qZA()()(),e.TgZ(55,"div",3)(56,"div",4)(57,"mat-label"),e._uU(58,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(59,"br"),e.TgZ(60,"mat-list-item"),e._uU(61),e.qZA()(),e.TgZ(62,"div",4)(63,"mat-label"),e._uU(64,"Usuario responsable del registro"),e.qZA(),e._UZ(65,"br"),e.TgZ(66,"mat-list-item"),e._uU(67),e.qZA()()(),e.TgZ(68,"div",3)(69,"div",4)(70,"mat-label"),e._uU(71,"Fecha de Modificaci\xf3n"),e.qZA(),e._UZ(72,"br"),e.TgZ(73,"mat-list-item"),e._uU(74),e.qZA()(),e.TgZ(75,"div",4)(76,"mat-label"),e._uU(77,"Usuario responsable de la modificaci\xf3n"),e.qZA(),e._UZ(78,"br"),e.TgZ(79,"mat-list-item"),e._uU(80),e.qZA()()()(),e.TgZ(81,"div",5)(82,"div",6)(83,"h2"),e._uU(84),e.qZA(),e.TgZ(85,"div",7)(86,"mat-select",8),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(87,_r,2,2,"mat-option",9),e.qZA()()(),e.TgZ(88,"div",10),e.YNc(89,Zr,59,10,"div",11),e.ALo(90,"keyvalue"),e.qZA()(),e.TgZ(91,"div",12)(92,"div",13)(93,"h1",14),e._uU(94,"Total de Partidas Ganadas"),e.qZA(),e.TgZ(95,"h2",15),e._uU(96),e.qZA(),e.TgZ(97,"h1",14),e._uU(98,"Total de Partidas Perdidas"),e.qZA(),e.TgZ(99,"h2",15),e._uU(100),e.qZA(),e.TgZ(101,"h1",14),e._uU(102,"Tickets a\xfan disponibles "),e.qZA(),e.TgZ(103,"h2",15),e._uU(104),e.qZA()(),e.TgZ(105,"div",16),e.YNc(106,Tr,15,1,"div",11),e.ALo(107,"keyvalue"),e.qZA()()(),e.TgZ(108,"div",17)(109,"app-button-primary",18),e.NdJ("click",function(){return i.toList()}),e.qZA()()()),2&t&&(e.xp6(3),e.lnq("Visualizar ",i.singularName," ",i.client.names," ",i.client.cedula,""),e.xp6(12),e.Oqu(i.client.cedula),e.xp6(6),e.Oqu(i.client.names),e.xp6(7),e.Oqu(i.client.surnames),e.xp6(6),e.Oqu(i.client.email),e.xp6(7),e.Oqu(i.client.phone),e.xp6(6),e.Oqu(i.client.sex),e.xp6(7),e.Oqu(i.client.address),e.xp6(7),e.Oqu(i.client.created),e.xp6(6),e.Oqu(i.client.user_client_register),e.xp6(7),e.Oqu(i.client.modified),e.xp6(6),e.Oqu(i.client.user_client_modify),e.xp6(4),e.hij("Total de Partidas ",i.len_match,""),e.xp6(3),e.Q6J("ngForOf",i.Filters),e.xp6(2),e.Q6J("ngForOf",e.lcZ(90,21,i.client_history)),e.xp6(7),e.Oqu(i.winner_client),e.xp6(4),e.Oqu(i.loser_client),e.xp6(4),e.Oqu(i.len_ticket_available),e.xp6(2),e.Q6J("ngForOf",e.lcZ(107,23,i.ticket_client_avilable)))},dependencies:[d.sg,d.O5,f.hX,D.Hw,S.lW,C.Ye,K.Tg,B.gM,O.gD,P.ey,x,v,d.Nd],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}mat-label[_ngcontent-%COMP%]{font-size:1.15rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:33%;height:800px;border-radius:10px;background:var(--color-fondo-principal)}.history[_ngcontent-%COMP%]{width:33%;height:800px;display:flex;flex-direction:column;border-color:var(--color-principal);border-style:none solid none solid}.history_content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-flow:wrap;justify-content:space-evenly;overflow-y:scroll;overflow-x:hidden}.summary[_ngcontent-%COMP%]{width:33%;height:800px;display:flex;flex-direction:column}.datos[_ngcontent-%COMP%]{width:100%;margin-bottom:25px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.mat-list-item[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.separate[_ngcontent-%COMP%]{height:15px;margin-bottom:30px;color:var(--color-principal);border-color:var(--color-principal);border-style:none none solid none}h2[_ngcontent-%COMP%], .summary_title[_ngcontent-%COMP%]{color:var(--color-principal);text-align:center}.history_head[_ngcontent-%COMP%]{justify-content:center;margin-bottom:25px}.filter[_ngcontent-%COMP%]{margin:0 30px;text-align:center;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.summary_head[_ngcontent-%COMP%]{padding-top:50px}.summary_values[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:4em}.available_ticket[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-flow:wrap;justify-content:space-evenly;overflow-y:scroll;overflow-x:hidden}.ticket_border[_ngcontent-%COMP%]{padding:15px;border-color:var(--color-principal);border-style:dashed}"]}),n})(),Ar=(()=>{class n{constructor(t,i,o,r,c,l,p,u){this.snackbar=t,this.fb=i,this.dialogService=o,this.game=r,this.staticData=c,this.awardsConditionService=l,this.gameDataSrv=p,this.gameSelectionService=u,this.beginDate=new Date,this.finishDate=new Date,this.startDate=new Date,this.endDate=new Date,this.minDate=new Date,this.game_start_date="",this.game_end_date="",this.awardConditionList=[],this.form=this.fb.group({startTime:["",s.kI.required],endTime:["",s.kI.required]});let b=(new Date).getFullYear(),M=(new Date).getMonth(),G=(new Date).getDate();this.minDate=new Date(b,M,G)}ngOnInit(){var t=this;return(0,y.Z)(function*(){t.gameSelectionService.selectedGame$.subscribe(i=>{t.staticData.setMenu(i),t.getDate()}),t.awardsConditionService.getAwardConditionFilter("?is_approved=false").subscribe(i=>{t.awardConditionList=i})})()}changetime(){var t=this;return(0,y.Z)(function*(){let i=t.form.value.startTime.hour,o=t.form.value.startTime.minute,r=t.form.value.endTime.hour,c=t.form.value.endTime.minute,l=t.beginDate.toISOString().split("T")[0];const[p,u,b]=l.split("-");let M=t.finishDate.toISOString().split("T")[0];const[G,pe,Ls]=M.split("-");t.startDate=new Date(parseInt(p),parseInt(u)-1,parseInt(b),parseInt(i),parseInt(o)),t.endDate=new Date(parseInt(G),parseInt(pe)-1,parseInt(Ls),parseInt(r),parseInt(c))})()}saveNewDateGame(){var t=this;return(0,y.Z)(function*(){t.validateDates()&&(t.dialogService.open({title:"ACTUALIZAR FECHA DEL JUEGO",message:"\xbfEST\xc1 SEGURO QUE QUIERE ACTUALIZAR LA FECHA DEL JUEGO?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),yield t.changetime(),t.dialogService.confirmed().subscribe(o=>{if(o){let r=new FormData,c=t.gameDataSrv.DateFormat(t.startDate);r.append("start_date",c);let l=t.gameDataSrv.DateFormat(t.endDate);r.append("end_date",l),r.append("game","T"),r.append("is_Active","true"),t.game.putGame(1,r).subscribe(p=>{console.log(p)}),t.snackbar.mensaje("Se ha actualizado la fecha de disponibilidad del juego")}}))})()}validateDates(){return this.form.valid?this.validateConditionalAward()?this.beginDate.getTime()==this.finishDate.getTime()?(this.snackbar.mensaje("El rango de fechas de disponibilidad debe ser mayor a un dia"),!1):!(this.beginDate>this.finishDate&&(this.snackbar.mensaje("La fecha de inicio no puede ser mayor a la fecha final"),1)):(this.snackbar.mensaje("No puede cambiar la fecha del juego mientras existan juegos condicionados en espera."),!1):(this.snackbar.mensaje("LLene todos los campos"),!1)}validateConditionalAward(){return!(this.awardConditionList.length>0)}cancel(){this.getDate()}getDate(){var t=this;return(0,y.Z)(function*(){t.game.getById(1).subscribe(i=>{t.game_start_date=i.start_date,t.game_end_date=i.end_date;let o=i.start_date.split(" ")[1].split(":")[0],r=i.start_date.split(" ")[1].split(":")[1],c=i.end_date.split(" ")[1].split(":")[0],l=i.end_date.split(" ")[1].split(":")[1];t.form.controls.startTime.setValue({hour:Number(o),minute:Number(r)}),t.form.controls.endTime.setValue({hour:Number(c),minute:Number(l)}),t.beginDate=new Date(i.start_date_nf),t.finishDate=new Date(i.end_date_nf)},i=>{console.log(i.error)})})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.o),e.Y36(s.qu),e.Y36(A.D),e.Y36(me.h),e.Y36(h.Q),e.Y36(ne.r),e.Y36(Q.V),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-date"]],decls:31,vars:10,consts:[[1,"green-primary","background-navy-primary"],[1,"example-spacer"],[1,"container-fluid","background-black-primary","root-container"],[1,"row"],[1,"col","align-self-center","text-center"],[1,"date-title","green-primary"],[1,"calendar-container",3,"formGroup"],[1,"calendar"],[1,"input-date","green-primary"],[1,"calendar__card"],[1,"demo-inline-calendar-card","background-navy-primary","green-primary"],[1,"green-primary",3,"selected","minDate","selectedChange"],[1,"time_container"],["formControlName","startTime",1,"time",3,"meridian"],["title","Guardar",1,"save-button",3,"click"],[3,"selected","minDate","selectedChange"],["formControlName","endTime",1,"time",3,"meridian"],["title","Cancelar",1,"cancel-button",3,"backgroundColor","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Fecha"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"h2",5),e._uU(9,"JUEGO DISPONIBLE"),e.qZA(),e.TgZ(10,"h2",5),e._uU(11),e.qZA()()(),e.TgZ(12,"form",6)(13,"div",7)(14,"p",8),e._uU(15,"Inicio"),e.qZA(),e.TgZ(16,"div",9)(17,"mat-card",10)(18,"mat-calendar",11),e.NdJ("selectedChange",function(r){return i.beginDate=r}),e.qZA()()(),e.TgZ(19,"div",12),e._UZ(20,"ngb-timepicker",13),e.qZA(),e.TgZ(21,"app-button-primary",14),e.NdJ("click",function(){return i.saveNewDateGame()}),e.qZA()(),e.TgZ(22,"div",7)(23,"p",8),e._uU(24,"Fin"),e.qZA(),e.TgZ(25,"div",9)(26,"mat-card",10)(27,"mat-calendar",15),e.NdJ("selectedChange",function(r){return i.finishDate=r}),e.qZA()()(),e.TgZ(28,"div",12),e._UZ(29,"ngb-timepicker",16),e.qZA(),e.TgZ(30,"app-button-primary",17),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()()()),2&t&&(e.xp6(11),e.AsE("",i.game_start_date," - ",i.game_end_date,""),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("selected",i.beginDate)("minDate",i.minDate),e.xp6(2),e.Q6J("meridian",!0),e.xp6(7),e.Q6J("selected",i.finishDate)("minDate",i.minDate),e.xp6(2),e.Q6J("meridian",!0),e.xp6(1),e.Q6J("backgroundColor","#fff"))},dependencies:[s._Y,s.JJ,s.JL,s.sg,s.u,C.Ye,R.a8,U._H,_e.Pm,x,v],styles:["p[_ngcontent-%COMP%]{margin:0}.exit-icon[_ngcontent-%COMP%]{width:3.5rem;height:2rem}.exit-container[_ngcontent-%COMP%]{margin-top:1rem;padding-bottom:1rem}.date-title[_ngcontent-%COMP%]{margin:1.5rem 0}.calendar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:40%}.calendar__card[_ngcontent-%COMP%]{padding:0 1rem}.input-date[_ngcontent-%COMP%]{margin:1rem 0;padding:.5rem 1.5rem;border:1px solid #00ffc5;border-radius:15px;font-weight:500}.date-container[_ngcontent-%COMP%]{height:100%}.save-button[_ngcontent-%COMP%]{align-self:flex-end;margin-right:2rem;margin-bottom:2rem}.cancel-button[_ngcontent-%COMP%]{align-self:flex-start;margin-left:2rem}.time_container[_ngcontent-%COMP%]{align-self:center}"]}),n})();function xr(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid start date"),e.qZA())}function wr(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid end date"),e.qZA())}function Ur(n,a){if(1&n&&(e.TgZ(0,"mat-option",39),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function qr(n,a){1&n&&(e.TgZ(0,"th",40),e._uU(1,"ID"),e.qZA())}function kr(n,a){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.id)}}function Pr(n,a){1&n&&(e.TgZ(0,"th",40),e._uU(1,"Nombre"),e.qZA())}function Or(n,a){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.award)}}function Dr(n,a){1&n&&(e.TgZ(0,"th",40),e._uU(1,"Juego"),e.qZA())}function Mr(n,a){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.game)}}function Ir(n,a){1&n&&(e.TgZ(0,"th",40),e._uU(1,"Fecha de Inicio"),e.qZA())}function Sr(n,a){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.start_date)}}function Nr(n,a){1&n&&(e.TgZ(0,"th",40),e._uU(1," Fecha de Fin "),e.qZA())}function Fr(n,a){if(1&n&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.end_date)}}function Er(n,a){1&n&&(e.TgZ(0,"th",40),e._uU(1,"Estado"),e.qZA())}function Yr(n,a){1&n&&(e.TgZ(0,"div")(1,"div",15),e._uU(2,"Procesado"),e.qZA()())}function Jr(n,a){1&n&&(e.TgZ(0,"div")(1,"div",15),e._uU(2,"Sin procesar"),e.qZA()())}function Rr(n,a){if(1&n&&(e.TgZ(0,"td",41),e.YNc(1,Yr,3,0,"div",42),e.YNc(2,Jr,3,0,"ng-template",null,43,e.W1O),e.qZA()),2&n){const t=a.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.is_approved)("ngIfElse",i)}}function jr(n,a){1&n&&e._UZ(0,"th",44)}function Lr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",41)(1,"div")(2,"button",45),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.verPremios(r.id))}),e.TgZ(3,"mat-icon",46),e._uU(4,"remove_red_eye"),e.qZA()(),e.TgZ(5,"button",47),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editarPremios(r.id))}),e.TgZ(6,"mat-icon",46),e._uU(7,"edit"),e.qZA()(),e.TgZ(8,"button",48),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.eliminarPremios(r.id))}),e.TgZ(9,"mat-icon",15),e._uU(10,"delete"),e.qZA()()()()}}function Gr(n,a){1&n&&e._UZ(0,"tr",49)}function Qr(n,a){1&n&&e._UZ(0,"tr",50)}function Br(n,a){if(1&n&&(e.TgZ(0,"tr",51)(1,"td",52),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(35);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const zr=function(){return[5,10,25,100]};let Hr=(()=>{class n{constructor(t,i,o,r,c,l,p,u,b){this.router=t,this.dialog=i,this.snackbar=o,this.dialogService=r,this.permisos_api=c,this.premiosCondicionSrv=l,this.staticData=p,this.gameDataSrv=u,this.gameSelectionService=b,this.range=new s.cw({start:new s.NI(null),end:new s.NI(null)}),this.Filters=[{id:"?is_approved=false",name:"Premios Condicionados Pendientes"},{id:"?is_approved=true",name:"Premios Condicionados Finalizados"},{id:"?ordering=created",name:"Ultimos Premios Condicionados Creados"},{id:"?ordering=-created",name:"Primeros Premios Condicionados Creados"}],this.filter_default="?ordering=-created",this.Titulo="Premios Condicionados",this.displayedColumns=["id","award","game","start_date","end_date","is_approved","Acciones"],this.permisos=[]}ngOnInit(){this.gameSelectionService.selectedGame$.subscribe(t=>{this.staticData.setMenu(t),this.cargarPremios(this.filter_default)})}cargarPremios(t){this.premiosCondicionSrv.getAwardConditionFilter(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}filter(t){this.cargarPremios(t)}agregarPremios(){this.router.navigate(["dashboard/premios/condicion/crear"])}verPremios(t){this.router.navigate(["dashboard/premios/condicion/visualizar",t])}editarPremios(t){let i;this.premiosCondicionSrv.getAwardConditionbyId(t).subscribe(o=>{i=o.is_approved,i?this.dialogService.error(["No se puede editar un premio condicionado ya reclamado"]):this.router.navigate(["dashboard/premios/condicion/editar",t])})}eliminarPremios(t){var i=this;return(0,y.Z)(function*(){yield i.Permisoeliminar(),i.permisos.length>0?(i.dialogService.open({title:"ELIMINAR PREMIO",message:"\xbfESTA SEGURO QUE DESEA ELIMINAR EL PREMIO?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),i.dialogService.confirmed().subscribe(r=>{r&&i.premiosCondicionSrv.deleteAwardCondition(t).subscribe(c=>{i.snackbar.mensaje("Premio Condicionado Eliminado Existosamente"),i.cargarPremios(i.filter_default)},c=>{i.dialogService.error(c.error),i.cargarPremios(i.filter_default)})})):i.snackbar.mensaje("No tienes permisos para Eliminar Premios Condicionados")})()}Permisoeliminar(){var t=this;return(0,y.Z)(function*(){let i=Number(sessionStorage.getItem("rol_id")),o=yield(0,E.n)(t.permisos_api.getPermisosbyName("Eliminar Condicion de Premio")),r=Number(o[0].id);const c=yield(0,E.n)(t.permisos_api.getPermisosbyRolandPermission(i,r));t.permisos=c})()}date_filter(){if(this.range.value.start||this.range.value.end){let t=this.range.get("start")?.value,i=this.range.get("end")?.value,o=this.gameDataSrv.DateFormat(t).split("T")[0],r=this.gameDataSrv.DateFormat(i).split("T")[0];this.cargarPremios("?start_date__date__range="+o+"%2C"+r)}else this.cargarPremios(this.filter_default)}date_filter2(){this.range.get("start")?.setValue(null),this.range.get("end")?.setValue(null),this.cargarPremios(this.filter_default)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(te.uw),e.Y36(T.o),e.Y36(A.D),e.Y36(ee),e.Y36(ne.r),e.Y36(h.Q),e.Y36(Q.V),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-awards-condition"]],viewQuery:function(t,i){if(1&t&&(e.Gf(I.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:65,vars:12,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"date_range"],[1,"date_range_container"],[1,"date_text",3,"formGroup","rangePicker"],["matStartDate","","formControlName","start"],["matEndDate","","formControlName","end"],["matIconSuffix","",1,"green-primary",3,"for"],["picker",""],["mat-icon-button","","color","primary","matTooltip","Enviar fecha",3,"click"],[1,"green-primary"],[4,"ngIf"],[1,"filter"],["mat-select","","placeholder","Filtrar",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","award"],["matColumnDef","game"],["matColumnDef","start_date"],["matColumnDef","end_date"],["matColumnDef","is_approved"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.agregarPremios()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon"),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"span"),e._uU(12,"Agregar Premio Condicionado"),e.qZA()()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"div",8)(16,"mat-date-range-input",9),e._UZ(17,"input",10)(18,"input",11),e.qZA(),e._UZ(19,"mat-datepicker-toggle",12)(20,"mat-date-range-picker",null,13),e.TgZ(22,"button",14),e.NdJ("click",function(){return i.date_filter()}),e.TgZ(23,"mat-icon",15),e._uU(24,"done"),e.qZA()(),e.TgZ(25,"button",14),e.NdJ("click",function(){return i.date_filter2()}),e.TgZ(26,"mat-icon",15),e._uU(27,"close"),e.qZA()()(),e.YNc(28,xr,2,0,"mat-error",16),e.YNc(29,wr,2,0,"mat-error",16),e.qZA(),e.TgZ(30,"div",17)(31,"mat-select",18),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(32,Ur,2,2,"mat-option",19),e.qZA()(),e.TgZ(33,"div",20)(34,"input",21,22),e.NdJ("keyup",function(r){return i.aplicarFiltro(r)}),e.qZA(),e.TgZ(36,"mat-icon",15),e._uU(37," search "),e.qZA()()(),e.TgZ(38,"div",23)(39,"table",24),e.ynx(40,25),e.YNc(41,qr,2,0,"th",26),e.YNc(42,kr,2,1,"td",27),e.BQk(),e.ynx(43,28),e.YNc(44,Pr,2,0,"th",26),e.YNc(45,Or,2,1,"td",27),e.BQk(),e.ynx(46,29),e.YNc(47,Dr,2,0,"th",26),e.YNc(48,Mr,2,1,"td",27),e.BQk(),e.ynx(49,30),e.YNc(50,Ir,2,0,"th",26),e.YNc(51,Sr,2,1,"td",27),e.BQk(),e.ynx(52,31),e.YNc(53,Nr,2,0,"th",26),e.YNc(54,Fr,2,1,"td",27),e.BQk(),e.ynx(55,32),e.YNc(56,Er,2,0,"th",26),e.YNc(57,Rr,4,2,"td",27),e.BQk(),e.ynx(58,33),e.YNc(59,jr,1,0,"th",34),e.YNc(60,Lr,11,0,"td",27),e.BQk(),e.YNc(61,Gr,1,0,"tr",35),e.YNc(62,Qr,1,0,"tr",36),e.YNc(63,Br,3,1,"tr",37),e.qZA(),e._UZ(64,"mat-paginator",38),e.qZA()()),2&t){const o=e.MAs(21);e.xp6(3),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("formGroup",i.range)("rangePicker",o),e.xp6(3),e.Q6J("for",o),e.xp6(9),e.Q6J("ngIf",i.range.controls.start.hasError("matStartDateInvalid")),e.xp6(1),e.Q6J("ngIf",i.range.controls.end.hasError("matEndDateInvalid")),e.xp6(3),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(11,zr))}},dependencies:[d.sg,d.O5,s.Fj,s.JJ,s.JL,s.sg,s.u,f.TO,k.Nt,D.Hw,S.lW,C.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,B.gM,I.NW,q.YE,q.nU,O.gD,P.ey,U.nW,U.wx,U.zY,U.By,U._g,v],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%], .date_range[_ngcontent-%COMP%]{text-align:center;width:400px;height:26px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.date_range_container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.date_range[_ngcontent-%COMP%]{color:var(--color-principal)}.date_text[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-left:100px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function Vr(n,a){if(1&n&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function $r(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Wr(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function Xr(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Wr,2,1,"div",12),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.form.controls.award.hasError(t.type))}}let es=(()=>{class n{constructor(t,i,o,r,c,l,p,u,b){this.fb=t,this.awardConditionSrv=i,this.awardSrv=o,this.snackbar=r,this.dialogService=c,this.router=l,this.staticData=p,this.gameDataSrv=u,this.gameSelectionService=b,this.minDate=new Date,this.minDatefin=new Date,this.img_upload="assets/img/regalo.png",this.previsulizacion=this.img_upload,this.stock_actual=0,this.award_name="",this.startDate=new Date,this.endDate=new Date,this.beginDate=new Date,this.finishDate=new Date,this.len_match_today=0,this.winner_limit=0,this.allAwards=[],this.validation_msgs={contactAutocompleteControl:[{type:"invalidAutocompleteObject",message:"Seleccione una opci\xf3n del listado !!!"}]},this.form=this.fb.group({startTime:["",s.kI.required],endTime:["",s.kI.required],award:new s.NI("",[s.kI.required,n=>"string"==typeof n.value?{invalidAutocompleteObject:{value:n.value}}:null])})}_filter(t){if(""===t)return this.allAwards.slice();const i=t.toLowerCase();return this.allAwards.filter(o=>o.name.toLowerCase().includes(i))}displayFn(t){return t&&t.name?t.name:void 0}ngOnInit(){var t=this;return(0,y.Z)(function*(){t.gameSelectionService.selectedGame$.subscribe(c=>{t.staticData.setMenu(c),t.getAward()});let i=(new Date).getFullYear(),o=(new Date).getMonth(),r=(new Date).getDate();t.minDate=new Date(i,o,r),t.minDatefin=new Date(i,o,r),t.finishDate=new Date(i,o,r)})()}changetime(){var t=this;return(0,y.Z)(function*(){let i=t.form.value.startTime.hour,o=t.form.value.startTime.minute,r=t.form.value.endTime.hour,c=t.form.value.endTime.minute,l=t.finishDate.toISOString().split("T")[0];const[p,u,b]=l.split("-");t.startDate=new Date(parseInt(p),parseInt(u)-1,parseInt(b),parseInt(i),parseInt(o)),t.endDate=new Date(parseInt(p),parseInt(u)-1,parseInt(b),parseInt(r),parseInt(c))})()}create(){var t=this;return(0,y.Z)(function*(){t.form.valid?(yield t.changetime(),t.dialogService.open({title:"CREAR PREMIO CONDICIONADO",message:"\xbfEST\xc1 SEGURO QUE DESEA CREAR EL NUEVO PREMIO CONDICIONADO?",cancelText:"CANCELAR",confirmText:"CREAR"}),t.dialogService.confirmed().subscribe(o=>{if(o){let r=new FormData,c=2,l=sessionStorage.getItem("user_id"),p=t.gameDataSrv.DateFormat(t.startDate);r.append("start_date",p);let u=t.gameDataSrv.DateFormat(t.endDate);r.append("end_date",u),r.append("award",t.form.get("award")?.value.id),r.append("game",c.toString()),r.append("user_register",l),r.append("user_modify",l),t.awardConditionSrv.postAwardCondition(r).subscribe(b=>{t.snackbar.mensaje("Premio Condicionado Creado Exitosamente"),t.router.navigate(["dashboard/premios/condicion"])},b=>{t.dialogService.error(b.error)})}})):t.snackbar.mensaje("Complete todos los campos")})()}getAward(){this.awardConditionSrv.getAward().subscribe(t=>{this.allAwards=t,0==t.length&&this.dialogService.error(["No hay un premio activo disponible"]),this.filteredOptions=this.form.controls.award.valueChanges.pipe((0,ce.O)(""),(0,le.U)(i=>{const o="string"==typeof i?i:i?.name;return o?this._filter(o):this.allAwards.slice()}))})}imgAward(t){let i=this.form.get("award")?.value.id;this.awardSrv.getAwardbyId(i).subscribe(o=>{this.previsulizacion=o.imagen,this.stock_actual=o.initial_stock,this.award_name=o.name})}cancel(){this.router.navigate(["dashboard/premios/condicion"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(ne.r),e.Y36(Y.q),e.Y36(T.o),e.Y36(A.D),e.Y36(_.F0),e.Y36(h.Q),e.Y36(Q.V),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-awards-condition"]],decls:49,vars:19,consts:[[1,"example-spacer"],[3,"formGroup"],[1,"condition_container"],[1,"container"],[1,"register_container"],[1,"form_container"],["mat-select","",1,"input_form"],["type","text","matInput","","formControlName","award",3,"matAutocomplete"],["input",""],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"img_container"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["title","Crear",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[1,"date_container"],[1,"calendar"],[1,"input-date","green-primary"],[1,"calendar__card"],[1,"demo-inline-calendar-card","background-navy-primary","green-primary"],[1,"green-primary",3,"selected","minDate","maxDate","selectedChange"],[1,"time_container"],["formControlName","startTime",1,"time",3,"meridian"],["formControlName","endTime",3,"meridian"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Nueva Condici\xf3n"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"form",1)(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"mat-form-field")(11,"label"),e._uU(12,"Premios"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"label"),e._uU(15),e.qZA(),e.TgZ(16,"div",6),e._UZ(17,"input",7,8),e.qZA(),e.TgZ(19,"mat-autocomplete",9,10),e.NdJ("optionSelected",function(r){return i.imgAward(r.value)}),e.YNc(21,Vr,2,2,"mat-option",11),e.ALo(22,"async"),e.qZA(),e.TgZ(23,"mat-hint"),e._uU(24,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(25,$r,2,0,"mat-error",12),e.YNc(26,Xr,2,1,"mat-error",13),e.qZA()(),e.TgZ(27,"div",14),e._UZ(28,"img",15),e.qZA()(),e.TgZ(29,"div",16)(30,"app-button-primary",17),e.NdJ("click",function(){return i.create()}),e.qZA(),e.TgZ(31,"app-button-primary",18),e.NdJ("click",function(){return i.cancel()}),e.qZA()()(),e.TgZ(32,"div",19)(33,"div",20)(34,"p",21),e._uU(35,"Fecha Inicio"),e.qZA(),e.TgZ(36,"div",22)(37,"mat-card",23)(38,"mat-calendar",24),e.NdJ("selectedChange",function(r){return i.beginDate=r}),e.qZA()()(),e.TgZ(39,"div",25),e._UZ(40,"ngb-timepicker",26),e.qZA()(),e.TgZ(41,"div",20)(42,"p",21),e._uU(43,"Fecha Fin"),e.qZA(),e.TgZ(44,"div",22)(45,"mat-card",23)(46,"mat-calendar",24),e.NdJ("selectedChange",function(r){return i.finishDate=r}),e.qZA()()(),e.TgZ(47,"div",25),e._UZ(48,"ngb-timepicker",27),e.qZA()()()()()()),2&t){const o=e.MAs(20);e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(10),e.AsE("Hay ",i.stock_actual," del premio: ",i.award_name,""),e.xp6(2),e.Q6J("matAutocomplete",o),e.xp6(2),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(22,17,i.filteredOptions)),e.xp6(4),e.Q6J("ngIf",i.form.controls.award.hasError("required")),e.xp6(1),e.Q6J("ngForOf",i.validation_msgs.contactAutocompleteControl),e.xp6(2),e.Q6J("src",i.previsulizacion,e.LSH),e.xp6(10),e.Q6J("selected",i.beginDate)("minDate",i.beginDate)("maxDate",i.beginDate),e.xp6(2),e.Q6J("meridian",!0),e.xp6(6),e.Q6J("selected",i.finishDate)("minDate",i.finishDate)("maxDate",i.finishDate),e.xp6(2),e.Q6J("meridian",!0)}},dependencies:[d.sg,d.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,k.Nt,C.Ye,P.ey,R.a8,U._H,_e.Pm,L.XC,L.ZL,x,v,d.Ov],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.condition_container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row}.date_container[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:row;justify-content:space-around}.container[_ngcontent-%COMP%]{margin-top:20px;width:60%;display:flex;flex-direction:column}.register_container[_ngcontent-%COMP%]{margin-top:20px;width:100%;display:flex;flex-direction:row}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:45%}.input-date[_ngcontent-%COMP%]{margin-top:20px;padding:.5rem 1.5rem;border:1px solid var(--color-principal);border-radius:15px;text-align:center}.calendar__card[_ngcontent-%COMP%]{padding:0 1rem}.time_container[_ngcontent-%COMP%]{display:flex;justify-content:center}.time[_ngcontent-%COMP%]{color:var(--color-principal)}.mat-form-field[_ngcontent-%COMP%]{width:95%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.form_container[_ngcontent-%COMP%]{width:40%}.img_container[_ngcontent-%COMP%]{display:flex;width:60%;height:250px}.img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% auto auto;width:85%;height:100%;border-radius:10px;object-fit:fill}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:10% 15px 15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}"]}),n})();function ts(n,a){1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2,"Procesado"),e.qZA()())}function is(n,a){1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1,"Sin Procesar"),e.qZA())}let ns=(()=>{class n{constructor(t,i,o,r,c,l,p,u,b){this.fb=t,this.awardConditionSrv=i,this.awardSrv=o,this.snackbar=r,this.dialogService=c,this.router=l,this.activerouter=p,this.staticData=u,this.gameSelectionService=b,this.award_name="",this.award_condition_id=Number(this.activerouter.snapshot.paramMap.get("id")),this.award_image=""}ngOnInit(){var t=this;return(0,y.Z)(function*(){t.gameSelectionService.selectedGame$.subscribe(i=>{t.staticData.setMenu(i),t.getAwardConditionId(t.award_condition_id)})})()}getAwardConditionId(t){var i=this;return(0,y.Z)(function*(){i.awardConditionSrv.getAwardConditionbyId(t).subscribe(o=>{i.getAward(o.award),i.award_condition=o},o=>{i.dialogService.error(o.error)})})()}getAward(t){this.awardSrv.getAwardbyId(t).subscribe(i=>{this.award_image=i.imagen,this.award_name=i.name})}backAwardCondition(){this.router.navigate(["/dashboard/premios/condicion"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(ne.r),e.Y36(Y.q),e.Y36(T.o),e.Y36(A.D),e.Y36(_.F0),e.Y36(_.gz),e.Y36(h.Q),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-awards-condition"]],decls:79,vars:12,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[1,"container"],[1,"datos"],["role","listitem"],[4,"ngIf","ngIfElse"],["sinmodificar",""],[1,"container_img"],["alt","",3,"src"],[1,"container_botones"],["title","Salir",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Visualizar Premio Condicionado"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card",2)(7,"div",3)(8,"div")(9,"div",4)(10,"div",5)(11,"mat-label"),e._uU(12,"Nombre"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"mat-list-item",6),e._uU(15),e.qZA()(),e.TgZ(16,"div",5)(17,"mat-label"),e._uU(18,"Juego"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"mat-list-item",6),e._uU(21),e.qZA()()(),e.TgZ(22,"div",4)(23,"div",5)(24,"mat-label"),e._uU(25,"Fecha de Inicio"),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"mat-list-item",6),e._uU(28),e.qZA()(),e.TgZ(29,"div",5)(30,"mat-label"),e._uU(31,"Fecha de Fin"),e.qZA(),e._UZ(32,"br"),e.TgZ(33,"mat-list-item",6),e._uU(34),e.qZA()()(),e.TgZ(35,"div",4)(36,"div",5)(37,"mat-label"),e._uU(38,"Usuario que registr\xf3 la condici\xf3n"),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"mat-list-item",6),e._uU(41),e.qZA()(),e.TgZ(42,"div",5)(43,"mat-label"),e._uU(44,"\xdaltimo usuario que modific\xf3 la condici\xf3n"),e.qZA(),e._UZ(45,"br"),e.TgZ(46,"mat-list-item",6),e._uU(47),e.qZA()()(),e.TgZ(48,"div",4)(49,"div",5)(50,"mat-label"),e._uU(51,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(52,"br"),e.TgZ(53,"mat-list-item",6),e._uU(54),e.qZA()(),e.TgZ(55,"div",5)(56,"mat-label"),e._uU(57,"\xdaltima Modificaci\xf3n"),e.qZA(),e._UZ(58,"br"),e.TgZ(59,"mat-list-item",6),e._uU(60),e.qZA()()(),e.TgZ(61,"div",4)(62,"div",5)(63,"mat-label"),e._uU(64,"Duraci\xf3n"),e.qZA(),e._UZ(65,"br"),e.TgZ(66,"mat-list-item",6),e._uU(67),e.qZA()(),e.TgZ(68,"div",5)(69,"mat-label"),e._uU(70,"Estado"),e.qZA(),e._UZ(71,"br"),e.YNc(72,ts,3,0,"div",7),e.YNc(73,is,2,0,"ng-template",null,8,e.W1O),e.qZA()()(),e.TgZ(75,"div",9),e._UZ(76,"img",10),e.qZA()(),e.TgZ(77,"div",11)(78,"app-button-primary",12),e.NdJ("click",function(){return i.backAwardCondition()}),e.qZA()()()()()),2&t){const o=e.MAs(74);e.xp6(15),e.Oqu(i.award_name),e.xp6(6),e.Oqu(i.award_condition.game),e.xp6(7),e.Oqu(i.award_condition.start_date),e.xp6(6),e.Oqu(i.award_condition.end_date),e.xp6(7),e.Oqu(i.award_condition.user_register),e.xp6(6),e.Oqu(i.award_condition.user_modify),e.xp6(7),e.Oqu(i.award_condition.created),e.xp6(6),e.Oqu(i.award_condition.modified),e.xp6(7),e.Oqu(i.award_condition.duration),e.xp6(5),e.Q6J("ngIf",i.award_condition.is_approved)("ngIfElse",o),e.xp6(4),e.Q6J("src",i.award_image,e.LSH)}},dependencies:[d.O5,f.hX,C.Ye,K.Tg,R.a8,x,v],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:20px}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background-color:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.container_img[_ngcontent-%COMP%]{width:500px;height:350px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.mat-list-item[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}"]}),n})();const os=["takeInput"];function as(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"input",19,20),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.capturarFile(o))}),e.qZA()()}}let rs=(()=>{class n{constructor(t,i,o,r,c,l,p,u,b){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=o,this.dialogService=r,this.theme=c,this.dashStyle=l,this.imageSrv=p,this.staticData=u,this.gameSelectionService=b,this.isUpload=!0,this.buttonTitle="",this.previsulizacion=""}ngOnInit(){this.gameSelectionService.selectedGame$.subscribe(t=>{this.staticData.setMenu(t),this.loadInitialData()})}loadInitialData(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.buttonTitle=this.dashStyle.get_title_button_screensaver(),this.previsulizacion=this.dashStyle.get_video_screensaver()})})}updateSaveScreen(){this.dialogService.open({title:"ACTUALIZAR SALVAPANTALLAS",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL SALVAPANTALLAS?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i&&this.fileToUpload){let o=new FormData;o.append("id","1"),o.append("video_screensaver",this.dashStyle.getVideoScreensaverFile(),this.dashStyle.getVideoScreensaverFile().name),o.append("title_button_screensaver",this.buttonTitle),o.append("color_background_game",this.dashStyle.get_color_background_game()),o.append("color_text",this.dashStyle.get_color_text()),o.append("title_winner",this.dashStyle.get_title_winner()),o.append("description_winner",this.dashStyle.get_description_winner()),o.append("date_modified",(new Date).toISOString()),o.append("is_active","true"),o.append("game_id","1"),this.theme.updateDesign(1,o),this.snackbar.mensaje("Salvapantallas Actualizado Exitosamente")}else if(i&&!this.fileToUpload){let o=new FormData;o.append("id","1"),o.append("title_button_screensaver",this.buttonTitle),o.append("color_background_game",this.dashStyle.get_color_background_game()),o.append("color_text",this.dashStyle.get_color_text()),o.append("title_winner",this.dashStyle.get_title_winner()),o.append("description_winner",this.dashStyle.get_description_winner()),o.append("date_modified",(new Date).toISOString()),o.append("is_active","true"),o.append("game_id","1"),this.theme.updateDesign(1,o),this.snackbar.mensaje("Salvapantallas Actualizado Exitosamente")}})}capturarFile(t){this.fileToUpload=this.imageSrv.captureVideoFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base,this.dashStyle.setVideoScreensaverFile(this.fileToUpload)})):(this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten videos"))}toggleUpload(){this.isUpload=!this.isUpload}onChangeNameButton(t){this.buttonTitle=t.target.value}cancel(){window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(j.U),e.Y36(T.o),e.Y36(A.D),e.Y36(z.f),e.Y36(H.T),e.Y36(F),e.Y36(h.Q),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-save-screen"]],viewQuery:function(t,i){if(1&t&&e.Gf(os,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:25,vars:8,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","white-color"],[1,"savescreen-info__container"],[1,"savescreen-info__video-option"],[1,"green-primary"],["class","file-select","id","src-file1",4,"ngIf"],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"],["autoplay","true","muted","",1,"video",3,"loop","src"],["styledPadding",".5rem .5rem","fontSize","1rem",1,"menu-btn",3,"title"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Salvapantallas"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"p",4),e._uU(8,"Video:"),e.qZA(),e.TgZ(9,"div",5)(10,"div",6)(11,"p",7),e._uU(12,"Subir Video (ancho: 1080 x alto: 1344)"),e.qZA()(),e.YNc(13,as,3,0,"div",8),e.qZA(),e.TgZ(14,"div",5)(15,"div",9)(16,"app-button-primary",10),e.NdJ("click",function(){return i.updateSaveScreen()}),e.qZA(),e.TgZ(17,"app-button-primary",11),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(18,"div",12)(19,"div",13),e._UZ(20,"app-banner-publicity",14),e.TgZ(21,"div",15),e._UZ(22,"video",16)(23,"app-button-game",17),e.qZA(),e._UZ(24,"app-banner-publicity",14),e.qZA()()()()),2&t&&(e.xp6(13),e.Q6J("ngIf",i.isUpload),e.xp6(7),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("loop",!0)("src",i.previsulizacion,e.LSH),e.xp6(1),e.Q6J("title",i.buttonTitle),e.xp6(1),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[d.O5,C.Ye,x,ae,v,ie],styles:['.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:1.5rem;padding-left:.5rem}.video-option[_ngcontent-%COMP%]:hover{cursor:pointer}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;background-color:gray;height:20rem}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona un Video(Mp4)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.video[_ngcontent-%COMP%]{width:100%;height:100%}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 62px);bottom:25px}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:1rem}.limit_description[_ngcontent-%COMP%]{color:#fff}']}),n})(),ss=(()=>{class n{constructor(t,i,o,r,c,l,p,u,b){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=o,this.dialogService=r,this.theme=c,this.dashStyle=l,this.imageSrv=p,this.staticData=u,this.gameSelectionService=b,this.title="",this.description=""}ngOnInit(){this.gameSelectionService.selectedGame$.subscribe(t=>{this.staticData.setMenu(t),this.loadInitialData()})}loadInitialData(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.title=this.dashStyle.get_scan_code_title(),this.description=this.dashStyle.get_scan_code_description()})})}updateScanScreen(){this.dialogService.open({title:"ACTUALIZAR SCANNER",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR INFORMACION DE ESCANER?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("id","1"),o.append("scan_code_title",this.title),o.append("scan_code_description",this.description),o.append("date_modified",(new Date).toISOString()),o.append("game_id","1"),this.theme.updateDesign(1,o),this.snackbar.mensaje("Informacion Escaner Actualizada Exitosamente")}})}cancel(){window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(j.U),e.Y36(T.o),e.Y36(A.D),e.Y36(z.f),e.Y36(H.T),e.Y36(F),e.Y36(h.Q),e.Y36(N.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-scan-code"]],decls:41,vars:13,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","green-primary"],[1,"savescreen-info__container"],[1,"url-select"],["maxlength","100","type","text","name","titulo",1,"input-global",3,"ngModel","ngModelChange"],["input_titulo",""],[1,"limit_description"],["type","text","maxlength","100","placeholder","Nombre del boton",1,"input-global","description-input",3,"ngModel","ngModelChange"],["input_description","","buttonInput","ngModel"],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"],["height","1.5rem",1,"logo-container",3,"isHome","isBackground","urlImage"],[1,"menu-info","color-white"],[1,"scan_title"],[1,"explication-text"],[1,"menu-container_scan-img-container"],["src","../../../../assets//img//codigoQR.png","alt","scan-logo",1,"menu-container_scan-img"],["type","text","placeholder","Ingresar codigo...","disabled","",1,"btn","menu__input"],["title","continuar","fontSize","1rem","styledPadding",".5rem 1rem"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Escaneo C\xf3digo"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"p",4),e._uU(8,"T\xedtulo:"),e.qZA(),e.TgZ(9,"div",5)(10,"div",6)(11,"input",7,8),e.NdJ("ngModelChange",function(r){return i.title=r}),e.qZA(),e.TgZ(13,"div",9),e._uU(14),e.qZA()()(),e.TgZ(15,"p",4),e._uU(16,"Descripci\xf3n:"),e.qZA(),e.TgZ(17,"div",5)(18,"input",10,11),e.NdJ("ngModelChange",function(r){return i.description=r}),e.qZA(),e.TgZ(21,"div",9),e._uU(22),e.qZA(),e.TgZ(23,"div",12)(24,"app-button-primary",13),e.NdJ("click",function(){return i.updateScanScreen()}),e.qZA(),e.TgZ(25,"app-button-primary",14),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(26,"div",15)(27,"div",16),e._UZ(28,"app-banner-publicity",17),e.TgZ(29,"div",18),e._UZ(30,"app-logo",19),e.TgZ(31,"div",20)(32,"h2",21),e._uU(33),e.qZA(),e.TgZ(34,"p",22),e._uU(35),e.qZA()(),e.TgZ(36,"figure",23),e._UZ(37,"img",24),e.qZA(),e._UZ(38,"input",25)(39,"app-button-game",26),e.qZA(),e._UZ(40,"app-banner-publicity",17),e.qZA()()()()),2&t){const o=e.MAs(12),r=e.MAs(19);e.xp6(11),e.Q6J("ngModel",i.title),e.xp6(3),e.hij(" Caracteres m\xe1ximo ",o.value.length||0,"/20 "),e.xp6(4),e.Q6J("ngModel",i.description),e.xp6(4),e.hij(" Caracteres m\xe1ximo ",r.value.length||0,"/100 "),e.xp6(6),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("isHome",!1)("isBackground",!1)("urlImage",i.dashStyle.get_image_logo()),e.xp6(3),e.Oqu(i.title),e.xp6(2),e.hij(" ",i.description," "),e.xp6(5),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList())}},dependencies:[s.Fj,s.JJ,s.nD,C.Ye,s.On,x,ae,ge,v,ie],styles:[".publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:1.5rem;padding-left:.5rem}.video-option[_ngcontent-%COMP%]:hover{cursor:pointer}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:15px;align-items:center;height:20rem}.logo-container[_ngcontent-%COMP%]{margin-right:3rem;height:2.5rem}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:14rem}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 62px);bottom:25px}.menu-container_scan-img-container[_ngcontent-%COMP%]{height:3rem;width:3rem}.menu__input[_ngcontent-%COMP%]{border:3px solid red;outline:none;border-radius:13px;background-color:#000;color:#fff;padding:.2rem .5rem}.menu__input[_ngcontent-%COMP%]::placeholder{color:#fff}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.limit_description[_ngcontent-%COMP%]{color:#fff}"]}),n})();const cs=["takeInput"],ls=["takeInputLogo"],ms=function(n,a){return{"font-family":n,color:a}};let ps=(()=>{class n{constructor(t,i,o,r,c,l,p,u,b,M){this.dashboardPublicityService=t,this.publicity=i,this.router=o,this.snackbar=r,this.dialogService=c,this.theme=l,this.dashStyle=p,this.imageSrv=u,this.publicityGame=b,this.staticData=M,this.availableSpin="Disponible 1 Giro m\xe1s!",this.fontFamily="",this.colorText="",this.previsulizacionMachine="",this.previsulizacionLogo="",this.urlLogo1="",this.urlLogo2="",this.urlLogo3=""}ngOnInit(){this.staticData.setMenu("Tragamonedas"),this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.previsulizacionMachine=this.dashStyle.get_image_machine_game(),this.previsulizacionLogo=this.dashStyle.get_image_logo_tragamonedas(),this.fontFamily=this.dashStyle.get_font_letter(),this.colorText=this.dashStyle.get_color_text(),this.publicityGame.getPublicityGame("1").subscribe(o=>{this.urlLogo1=o.image}),this.publicityGame.getPublicityGame("2").subscribe(o=>{this.urlLogo2=o.image}),this.publicityGame.getPublicityGame("3").subscribe(o=>{this.urlLogo3=o.image})})})}goEditGamePublicity(){}capturarFileMachineTragamonedas(t){this.fileToUploadMachine=this.imageSrv.captureFile(t),this.fileToUploadMachine?(this.imagenMachine=this.fileToUploadMachine,this.imageSrv.extraerBase64(this.fileToUploadMachine).then(i=>{this.previsulizacionMachine=i.base,this.dashStyle.setImageMachineGameFile(this.fileToUploadMachine)})):(this.InputVarMachine.nativeElement.value="",this.InputVarLogo.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}capturarFileLogo(t){this.fileToUploadLogo=this.imageSrv.captureFile(t),this.fileToUploadLogo?(this.imagenLogo=this.fileToUploadLogo,this.imageSrv.extraerBase64(this.fileToUploadLogo).then(i=>{this.previsulizacionLogo=i.base,this.dashStyle.setImageLogoFile(this.fileToUploadLogo)})):(this.InputVarLogo.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}updateDesign(){this.dialogService.open({title:"ACTUALIZAR DISE\xd1O DEL JUEGO",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL DISE\xd1O DEL JUEGO?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i)if(this.fileToUploadMachine&&this.fileToUploadLogo){let o=this.updateMachineImage();o.append("image_logo_tragamonedas",this.dashStyle.getImageLogoTragamonedasFile(),this.dashStyle.getImageLogoTragamonedasFile().name),this.theme.updateDesign(1,o),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}else if(this.fileToUploadMachine){let o=this.updateMachineImage();this.theme.updateDesign(1,o),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}else if(this.fileToUploadLogo)this.updateLogoImage();else if(!this.fileToUploadMachine&&!this.fileToUploadLogo){let o=new FormData;o.append("id","1"),o.append("color_text",this.colorText),o.append("font_letter",this.fontFamily),o.append("date_modified",(new Date).toISOString()),o.append("is_active","true"),o.append("game_id","1"),this.theme.updateDesign(1,o),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}})}updateMachineImage(){let t=new FormData;return t.append("id","1"),t.append("image_machine_game",this.dashStyle.getImageMachineGameFile(),this.dashStyle.getImageMachineGameFile().name),t.append("color_text",this.colorText),t.append("font_letter",this.fontFamily),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateLogoImage(){let t=new FormData;t.append("id","1"),t.append("image_logo_game",this.dashStyle.getImageLogoTragamonedasFile(),this.dashStyle.getImageLogoTragamonedasFile().name),t.append("color_text",this.colorText),t.append("font_letter",this.fontFamily),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),this.theme.updateDesign(1,t),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}previewChangeFontLetter(t){this.fontFamily=t.target.value}previewChangeColorLetter(t){this.colorText=t.target.value}cancel(){window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(j.U),e.Y36(_.F0),e.Y36(T.o),e.Y36(A.D),e.Y36(z.f),e.Y36(H.T),e.Y36(F),e.Y36(ue.D),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-design"]],viewQuery:function(t,i){if(1&t&&(e.Gf(cs,5),e.Gf(ls,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVarMachine=o.first),e.iGM(o=e.CRH())&&(i.InputVarLogo=o.first)}},decls:104,vars:16,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","white-color"],[1,"savescreen-info__container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],["id","src-file2",1,"file-select"],["type","file","name","src-file2","aria-label","Archivo",1,"file-input",3,"change"],["takeInputLogo",""],["title","Editar logos casillas","styledPadding",".5rem .5rem","routerLink","/dashboard/juego/diseno/publicity"],["name","fuentes","placeholder","seleccione fuente de letra",1,"input-global",3,"change"],["default","","value","---"],["value","Arial"],["value","Times New Roman"],["value","Helvetica"],["value","Cambria"],["value","Century Gothic"],["value","Didot"],["value","Bodoni"],["value","Candara"],["value","Optima"],["value","Quicksand"],["value","Courier New"],["value","Rockwel"],["value","Copperplate"],["name","colores","placeholder","seleccione color letras",1,"input-global",3,"change"],["value","Black"],["value","White"],["value","Blue"],["value","Brown"],["value","Grey"],["value","Green"],["value","Purple"],["value","Red"],["value","Yellow"],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"],["height","1.5rem",1,"logo-container",3,"isHome","isBackground","urlImage"],[1,"information-game-container"],[1,"info-game__text"],[1,"info-game__text",3,"ngStyle"],[1,"spinner__container"],[1,"award-box-container"],["alt","cajon-premios",1,"awards-box",3,"src"],[1,"awards-container"],[1,"awards-column"],[1,"award-image-container"],["alt","",3,"src"],["title","Girar","styledPadding",".5rem 1rem","fontSize","1rem",1,"menu-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Dise\xf1o Juego"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"p",4),e._uU(8,"Dise\xf1o:"),e.qZA(),e.TgZ(9,"div",5)(10,"p",4),e._uU(11,"Imagen M\xe1quina: (ancho: 1080 x alto: 671)"),e.qZA(),e.TgZ(12,"div",6)(13,"input",7,8),e.NdJ("change",function(r){return i.capturarFileMachineTragamonedas(r)}),e.qZA()(),e.TgZ(15,"p",4),e._uU(16,"Imagen Logo: (ancho: 625 x alto: 352)"),e.qZA(),e.TgZ(17,"div",9)(18,"input",10,11),e.NdJ("change",function(r){return i.capturarFileLogo(r)}),e.qZA()(),e.TgZ(20,"p",4),e._uU(21,"Logos casillas: (ancho: 187 x alto: 160)"),e.qZA(),e._UZ(22,"app-button-primary",12),e.TgZ(23,"p",4),e._uU(24,"Fuente Letra:"),e.qZA(),e.TgZ(25,"select",13),e.NdJ("change",function(r){return i.previewChangeFontLetter(r)}),e.TgZ(26,"option",14),e._uU(27,"Seleccione fuente de letra"),e.qZA(),e.TgZ(28,"option",15),e._uU(29,"Arial"),e.qZA(),e.TgZ(30,"option",16),e._uU(31,"Times New Roman"),e.qZA(),e.TgZ(32,"option",17),e._uU(33,"Helvetica"),e.qZA(),e.TgZ(34,"option",18),e._uU(35,"Cambria"),e.qZA(),e.TgZ(36,"option",19),e._uU(37,"Century Gothic"),e.qZA(),e.TgZ(38,"option",20),e._uU(39,"Didot"),e.qZA(),e.TgZ(40,"option",21),e._uU(41,"Bodoni"),e.qZA(),e.TgZ(42,"option",22),e._uU(43,"Candara"),e.qZA(),e.TgZ(44,"option",23),e._uU(45,"Optima"),e.qZA(),e.TgZ(46,"option",24),e._uU(47,"Quicksand"),e.qZA(),e.TgZ(48,"option",25),e._uU(49,"Courier New"),e.qZA(),e.TgZ(50,"option",26),e._uU(51,"Rockwel"),e.qZA(),e.TgZ(52,"option",27),e._uU(53,"Copperplate"),e.qZA()(),e.TgZ(54,"p",4),e._uU(55,"Color Texto:"),e.qZA(),e.TgZ(56,"select",28),e.NdJ("change",function(r){return i.previewChangeColorLetter(r)}),e.TgZ(57,"option",14),e._uU(58,"Seleccione color de letra"),e.qZA(),e.TgZ(59,"option",29),e._uU(60,"Black"),e.qZA(),e.TgZ(61,"option",30),e._uU(62,"White"),e.qZA(),e.TgZ(63,"option",31),e._uU(64,"Blue"),e.qZA(),e.TgZ(65,"option",32),e._uU(66,"Brown"),e.qZA(),e.TgZ(67,"option",33),e._uU(68,"Grey"),e.qZA(),e.TgZ(69,"option",34),e._uU(70,"Green"),e.qZA(),e.TgZ(71,"option",35),e._uU(72,"Purple"),e.qZA(),e.TgZ(73,"option",36),e._uU(74,"Red"),e.qZA(),e.TgZ(75,"option",37),e._uU(76,"Yellow"),e.qZA()(),e.TgZ(77,"div",38)(78,"app-button-primary",39),e.NdJ("click",function(){return i.updateDesign()}),e.qZA(),e.TgZ(79,"app-button-primary",40),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(80,"div",41)(81,"div",42),e._UZ(82,"app-banner-publicity",43),e.TgZ(83,"div",44),e._UZ(84,"app-logo",45),e.TgZ(85,"div",46)(86,"div",47)(87,"p",48),e._uU(88),e.qZA()()(),e.TgZ(89,"div",49)(90,"figure",50),e._UZ(91,"img",51),e.qZA(),e.TgZ(92,"div",52)(93,"div",53)(94,"figure",54),e._UZ(95,"img",55),e.qZA()(),e.TgZ(96,"div",53)(97,"figure",54),e._UZ(98,"img",55),e.qZA()(),e.TgZ(99,"div",53)(100,"figure",54),e._UZ(101,"img",55),e.qZA()()()(),e._UZ(102,"app-button-game",56),e.qZA(),e._UZ(103,"app-banner-publicity",43),e.qZA()()()()),2&t&&(e.xp6(82),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("isHome",!1)("isBackground",!1)("urlImage",i.previsulizacionLogo),e.xp6(3),e.Q6J("ngStyle",e.WLB(13,ms,i.fontFamily,i.colorText)),e.xp6(1),e.hij(" ",i.availableSpin," "),e.xp6(3),e.Q6J("src",i.previsulizacionMachine,e.LSH),e.xp6(4),e.Q6J("src",i.urlLogo1,e.LSH),e.xp6(3),e.Q6J("src",i.urlLogo2,e.LSH),e.xp6(3),e.Q6J("src",i.urlLogo3,e.LSH),e.xp6(2),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[d.PC,s.YN,s.Kr,C.Ye,_.rH,x,ae,ge,v,ie],styles:['.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:.5rem;padding-left:.5rem}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:15px;align-items:center;height:20rem}.logo-container[_ngcontent-%COMP%]{margin-right:3rem;height:2.5rem}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:14rem}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 23px);bottom:25px}.menu-container_scan-img-container[_ngcontent-%COMP%]{height:3rem;width:3rem}.menu__input[_ngcontent-%COMP%]{border:3px solid red;outline:none;border-radius:13px;background-color:#000;color:#fff;padding:.2rem .5rem}.menu__input[_ngcontent-%COMP%]::placeholder{color:#fff}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}img[_ngcontent-%COMP%]{width:100%;height:100%}figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png, jpg, jpeg)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.information-game-container[_ngcontent-%COMP%]{background-color:#ffaf00;width:100%;display:flex;justify-content:center;height:2rem;align-items:center}.spinner__container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;height:47%;width:100%;max-height:202px}.awards-container[_ngcontent-%COMP%]{position:absolute;top:46px;left:calc(50% - 118px);display:flex;justify-content:center;gap:1.5rem;z-index:4;overflow:hidden}.awards-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;height:6rem;animation-duration:4s;animation-name:slidevertical;animation-iteration-count:infinite}.award-image-container[_ngcontent-%COMP%]{height:3rem;width:4rem}.award-box-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-width:766px}']}),n})();const ds=["takeInput"];function us(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function gs(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}const vs=["takeInputLogo"],Zs=["takeInputBackground"],Ts=["takeInputDiceFaceOne"],ys=["takeInputDiceFaceTwo"],As=["takeInputDiceFaceThree"],xs=["takeInputDiceFaceFour"],ws=["takeInputDiceFaceFive"],Us=["takeInputDiceFaceSix"],ks=["takeInputDoorLeft"],Ps=["takeInputDoorCenter"],Os=["takeInputDoorRight"],Ds=["takeInputBackground"],Ms=["takeInputLogo"],Ss=["takeInputBackground"],Ns=["takeInputLogo"],Fs=["takeInputBoxWatch"],Ys=[{path:"",component:Bt,children:[{path:"cambiar-contrase\xf1a",component:Zo,canActivate:[Z.c,we]},{path:"usuarios",component:fi,canActivate:[Z.c,V]},{path:"usuarios/crear",component:Ni,canActivate:[Z.c,V]},{path:"usuarios/visualizar/:id",component:Yi,canActivate:[Z.c,V]},{path:"usuarios/editar/:id",component:Qt,canActivate:[Z.c,V]},{path:"roles",component:sn,canActivate:[Z.c,V]},{path:"roles/crear",component:pn,canActivate:[Z.c,V]},{path:"roles/permisos/:id",component:Tt,canActivate:[Z.c,V]},{path:"roles/editar/:id",component:wt,canActivate:[Z.c,V]},{path:"clientes",component:Yo,canActivate:[Z.c]},{path:"clientes/crear",component:xa,canActivate:[Z.c,w],data:{Permiso_nombre:"Crear Cliente"}},{path:"clientes/vizualizar/:id",component:yr,canActivate:[Z.c,w],data:{Permiso_nombre:"Ver Cliente"}},{path:"clientes/editar/:id",component:gr,canActivate:[Z.c,w],data:{Permiso_nombre:"Editar Cliente"}},{path:"tickets/configuracion",component:(()=>{class n{constructor(t,i,o,r,c,l,p,u){this.router=t,this.fb=i,this.awardSrv=o,this.snackbar=r,this.dialogService=c,this.imageSrv=l,this.staticData=p,this.TicketConfigurationSrv=u,this.codigoQR="123456",this.img_upload="",this.previsulizacion=this.img_upload,this.form=this.fb.group({title:["",s.kI.required],description:["",s.kI.required]})}ngOnInit(){this.staticData.setMenuGeneral(),this.getTicketConfiguration()}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base}):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}deleteImage(){this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.fileToUpload=null}cancel(){this.router.navigate(["/dashboard/tickets"])}getTicketConfiguration(){this.TicketConfigurationSrv.getTicketConfiguration().subscribe(t=>{this.form.patchValue({title:t.title,description:t.description}),this.previsulizacion=t.logo})}updateTicketConfiguration(){this.form.valid?(this.dialogService.open({title:"ACTUALIZAR CONFIGURACI\xd3N DEL TICKET",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR CONFIGURACI\xd3N DEL TICKET?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("title",this.form.get("title")?.value),o.append("description",this.form.get("description")?.value),this.fileToUpload?.name&&(this.imagen=this.fileToUpload,o.append("logo",this.imagen,this.imagen.name)),this.TicketConfigurationSrv.updateTicketConfiguration(o).subscribe(r=>{this.snackbar.mensaje("Configuraci\xf3n Del Ticket Actualizado Exitosamente"),this.router.navigate(["/dashboard/tickets"])},r=>{this.dialogService.error(r.error)})}})):this.snackbar.mensaje("Llene el formulario correctamente")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.F0),e.Y36(s.qu),e.Y36(Y.q),e.Y36(T.o),e.Y36(A.D),e.Y36(F),e.Y36(h.Q),e.Y36(he))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ticket-configuration"]],viewQuery:function(t,i){if(1&t&&e.Gf(ds,5),2&t){let o;e.iGM(o=e.CRH())&&(i.fileToUpload=o.first)}},decls:40,vars:7,consts:[[1,"example-spacer"],[1,"container_general"],[1,"container_configuration"],[1,"file_container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",3,"change"],["takeInput",""],["mat-icon-button","",1,"green-primary",3,"click"],[1,"container_form"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","title","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],[1,"container_botones"],["title","Actualizar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[1,"ticket_container"],["QRdata","Ticket De Prueba",3,"title","description","logo","codigoQR"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Configuraci\xf3n del Ticket"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"div",2)(7,"div")(8,"div",3)(9,"label"),e._uU(10,"\xa0\xa0\xa0Logo: \xa0 \xa0 \xa0 \xa0 \xa0"),e.qZA(),e.TgZ(11,"div",4)(12,"input",5,6),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()(),e.TgZ(14,"button",7),e.NdJ("click",function(){return i.deleteImage()}),e.TgZ(15,"mat-icon"),e._uU(16,"close"),e.qZA()()()(),e.TgZ(17,"div",8)(18,"form",9)(19,"mat-form-field")(20,"label"),e._uU(21,"T\xedtulo"),e.qZA(),e.TgZ(22,"div",10),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"mat-hint"),e._uU(25,"T\xedtulo del Ticket"),e.qZA(),e.YNc(26,us,2,0,"mat-error",12),e.qZA(),e.TgZ(27,"mat-form-field")(28,"label"),e._uU(29,"Descripci\xf3n"),e.qZA(),e.TgZ(30,"div",10),e._UZ(31,"input",13),e.qZA(),e.TgZ(32,"mat-hint"),e._uU(33,"Descripci\xf3n del Ticket"),e.qZA(),e.YNc(34,gs,2,0,"mat-error",12),e.qZA()()(),e.TgZ(35,"div",14)(36,"app-button-primary",15),e.NdJ("click",function(){return i.updateTicketConfiguration()}),e.qZA(),e.TgZ(37,"app-button-primary",16),e.NdJ("click",function(){return i.cancel()}),e.qZA()()(),e.TgZ(38,"div",17),e._UZ(39,"app-tickect-qr",18),e.qZA()()()),2&t&&(e.xp6(18),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.title.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(5),e.Q6J("title",i.form.controls.title.value)("description",i.form.controls.description.value)("logo",i.previsulizacion)("codigoQR",i.codigoQR))},dependencies:[d.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,k.Nt,D.Hw,S.lW,C.Ye,x,Ce,v],styles:['.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.container_general[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.container_configuration[_ngcontent-%COMP%]{margin-top:10%;display:flex;width:55%;flex-direction:column}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0 20px 15px}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:300px;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Selecciona una imagen (png, jpg, jpeg)"}.file_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.ticket_container[_ngcontent-%COMP%]{width:45%;padding:25px}']}),n})(),canActivate:[Z.c,w],data:{Permiso_nombre:"Editar Dise\xf1o del Ticket"}},{path:"tickets",component:Sn,canActivate:[Z.c]},{path:"tickets/crear",component:Bn,canActivate:[Z.c,w],data:{Permiso_nombre:"Crear Ticket"}},{path:"tickets/vizualizar/:id",component:Vn,canActivate:[Z.c,w],data:{Permiso_nombre:"Ver Ticket"}},{path:"premios",component:ua,canActivate:[Z.c]},{path:"premios/history",component:ot,canActivate:[Z.c,w],data:{Permiso_nombre:"Historial Premio"}},{path:"premios/crear",component:Sa,canActivate:[Z.c,w],data:{Permiso_nombre:"Crear Premio"}},{path:"premios/visualizar/:id",component:$a,canActivate:[Z.c,w],data:{Permiso_nombre:"Ver Premio"}},{path:"premios/editar/:id",component:Qa,canActivate:[Z.c,w],data:{Permiso_nombre:"Editar Premio"}},{path:"probabilidades",component:ir,canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Probabilidades del juego"}},{path:"premios/condicion",component:Hr,canActivate:[Z.c]},{path:"premios/condicion/crear",component:es,canActivate:[Z.c,w],data:{Permiso_nombre:"Crear Condici\xf3n de Premio"}},{path:"premios/condicion/visualizar/:id",component:ns,canActivate:[Z.c,w],data:{Permiso_nombre:"Ver Condici\xf3n de Premio"}},{path:"premios/condicion/editar/:id",component:vt,canActivate:[Z.c,w],data:{Permiso_nombre:"Editar Condici\xf3n de Premio"}},{path:"juego/resumen",component:(()=>{class n{constructor(t,i,o){this.staticData=t,this.ticketSrv=i,this.matchSrv=o,this.total_tickets=0,this.total_winners=0,this.total_losers=0}ngOnInit(){this.staticData.setMenu("Tragamonedas"),this.ticketSrv.getAll().subscribe(t=>{this.total_tickets=t.length}),this.matchSrv.getMatchFilter("?win_match=true").subscribe(t=>{this.total_winners=Object.keys(t).length}),this.matchSrv.getMatchFilter("?win_match=false").subscribe(t=>{this.total_losers=Object.keys(t).length})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.Q),e.Y36($.w),e.Y36(W.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-summary"]],decls:32,vars:3,consts:[[1,"background-navy-primary","green-primary"],[1,"container","container_juego"],[1,"container","container-juego","background-navy-primary","green-primary","text-center","pt-4","pb-1"],[1,"logo-game-container","background-green-primary"],["src","../../../../assets/img/pulgar-hacia-abajo.png","alt","no image"],[1,"row","mt-5"],[1,"col"],[1,"row"],[1,"color-white","jugadores-text"],["src","../../../../assets/img/ganadores.png","alt","no image"],["src","../../../../assets/img/ticket.png","alt","no image"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Resumen del Juego"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"figure",3),e._UZ(7,"img",4),e.qZA(),e.TgZ(8,"div",5)(9,"h3",6),e._uU(10,"Perdedores"),e.qZA()(),e.TgZ(11,"div",7)(12,"h3",8),e._uU(13),e.qZA()()(),e.TgZ(14,"div",2)(15,"figure",3),e._UZ(16,"img",9),e.qZA(),e.TgZ(17,"div",5)(18,"h3",6),e._uU(19,"Ganadores"),e.qZA()(),e.TgZ(20,"div",7)(21,"h3",8),e._uU(22),e.qZA()()(),e.TgZ(23,"div",2)(24,"figure",3),e._UZ(25,"img",10),e.qZA(),e.TgZ(26,"div",5)(27,"h3",6),e._uU(28,"Tickets Generados"),e.qZA()(),e.TgZ(29,"div",7)(30,"h3",8),e._uU(31),e.qZA()()()()()),2&t&&(e.xp6(13),e.Oqu(i.total_losers),e.xp6(9),e.Oqu(i.total_winners),e.xp6(9),e.Oqu(i.total_tickets))},dependencies:[C.Ye,v],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%}.container_juego[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:10%}.container-juego[_ngcontent-%COMP%]{position:relative;max-width:26rem;border-radius:15px}.jugadores-text[_ngcontent-%COMP%]{margin:50px 0;font-size:5rem}.logo-game-container[_ngcontent-%COMP%]{position:absolute;top:-53px;border-radius:50%;width:7rem;height:7rem;left:calc(50% - 56px);display:flex;justify-content:center;align-items:center}.logo-game-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:66px;height:60px;margin-left:7px}"]}),n})(),canActivate:[Z.c]},{path:"juego/resumen/rolldice",component:(()=>{class n{constructor(t,i,o){this.staticData=t,this.ticketSrv=i,this.matchSrv=o,this.total_tickets=0,this.total_winners=0,this.total_losers=0}ngOnInit(){this.staticData.setMenu("Dados"),this.ticketSrv.getAll().subscribe(t=>{this.total_tickets=t.length}),this.matchSrv.getMatchFilter("?win_match=true").subscribe(t=>{this.total_winners=Object.keys(t).length}),this.matchSrv.getMatchFilter("?win_match=false").subscribe(t=>{this.total_losers=Object.keys(t).length})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.Q),e.Y36($.w),e.Y36(W.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-summary-rolldice"]],decls:32,vars:3,consts:[[1,"background-navy-primary","green-primary"],[1,"container","container_juego"],[1,"container","container-juego","background-navy-primary","green-primary","text-center","pt-4","pb-1"],[1,"logo-game-container","background-green-primary"],["src","../../../../assets/img/pulgar-hacia-abajo.png","alt","no image"],[1,"row","mt-5"],[1,"col"],[1,"row"],[1,"color-white","jugadores-text"],["src","../../../../assets/img/ganadores.png","alt","no image"],["src","../../../../assets/img/ticket.png","alt","no image"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Resumen del Juego"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"figure",3),e._UZ(7,"img",4),e.qZA(),e.TgZ(8,"div",5)(9,"h3",6),e._uU(10,"Perdedores"),e.qZA()(),e.TgZ(11,"div",7)(12,"h3",8),e._uU(13),e.qZA()()(),e.TgZ(14,"div",2)(15,"figure",3),e._UZ(16,"img",9),e.qZA(),e.TgZ(17,"div",5)(18,"h3",6),e._uU(19,"Ganadores"),e.qZA()(),e.TgZ(20,"div",7)(21,"h3",8),e._uU(22),e.qZA()()(),e.TgZ(23,"div",2)(24,"figure",3),e._UZ(25,"img",10),e.qZA(),e.TgZ(26,"div",5)(27,"h3",6),e._uU(28,"Tickets Generados"),e.qZA()(),e.TgZ(29,"div",7)(30,"h3",8),e._uU(31),e.qZA()()()()()),2&t&&(e.xp6(13),e.Oqu(i.total_losers),e.xp6(9),e.Oqu(i.total_winners),e.xp6(9),e.Oqu(i.total_tickets))},dependencies:[C.Ye,v],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%}.container_juego[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:10%}.container-juego[_ngcontent-%COMP%]{position:relative;max-width:26rem;border-radius:15px}.jugadores-text[_ngcontent-%COMP%]{margin:50px 0;font-size:5rem}.logo-game-container[_ngcontent-%COMP%]{position:absolute;top:-53px;border-radius:50%;width:7rem;height:7rem;left:calc(50% - 56px);display:flex;justify-content:center;align-items:center}.logo-game-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:66px;height:60px;margin-left:7px}"]}),n})(),canActivate:[Z.c]},{path:"juego/resumen/puertas",component:(()=>{class n{constructor(t,i,o){this.staticData=t,this.ticketSrv=i,this.matchSrv=o,this.total_tickets=0,this.total_winners=0,this.total_losers=0}ngOnInit(){this.staticData.setMenu("Puertas"),this.ticketSrv.getAll().subscribe(t=>{this.total_tickets=t.length}),this.matchSrv.getMatchFilter("?win_match=true").subscribe(t=>{this.total_winners=Object.keys(t).length}),this.matchSrv.getMatchFilter("?win_match=false").subscribe(t=>{this.total_losers=Object.keys(t).length})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.Q),e.Y36($.w),e.Y36(W.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-summary-doors"]],decls:32,vars:3,consts:[[1,"background-navy-primary","green-primary"],[1,"container","container_juego"],[1,"container","container-juego","background-navy-primary","green-primary","text-center","pt-4","pb-1"],[1,"logo-game-container","background-green-primary"],["src","../../../../assets/img/pulgar-hacia-abajo.png","alt","no image"],[1,"row","mt-5"],[1,"col"],[1,"row"],[1,"color-white","jugadores-text"],["src","../../../../assets/img/ganadores.png","alt","no image"],["src","../../../../assets/img/ticket.png","alt","no image"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Resumen del Juego"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"figure",3),e._UZ(7,"img",4),e.qZA(),e.TgZ(8,"div",5)(9,"h3",6),e._uU(10,"Perdedores"),e.qZA()(),e.TgZ(11,"div",7)(12,"h3",8),e._uU(13),e.qZA()()(),e.TgZ(14,"div",2)(15,"figure",3),e._UZ(16,"img",9),e.qZA(),e.TgZ(17,"div",5)(18,"h3",6),e._uU(19,"Ganadores"),e.qZA()(),e.TgZ(20,"div",7)(21,"h3",8),e._uU(22),e.qZA()()(),e.TgZ(23,"div",2)(24,"figure",3),e._UZ(25,"img",10),e.qZA(),e.TgZ(26,"div",5)(27,"h3",6),e._uU(28,"Tickets Generados"),e.qZA()(),e.TgZ(29,"div",7)(30,"h3",8),e._uU(31),e.qZA()()()()()),2&t&&(e.xp6(13),e.Oqu(i.total_losers),e.xp6(9),e.Oqu(i.total_winners),e.xp6(9),e.Oqu(i.total_tickets))},dependencies:[C.Ye,v],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%}.container_juego[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:10%}.container-juego[_ngcontent-%COMP%]{position:relative;max-width:26rem;border-radius:15px}.jugadores-text[_ngcontent-%COMP%]{margin:50px 0;font-size:5rem}.logo-game-container[_ngcontent-%COMP%]{position:absolute;top:-53px;border-radius:50%;width:7rem;height:7rem;left:calc(50% - 56px);display:flex;justify-content:center;align-items:center}.logo-game-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:66px;height:60px;margin-left:7px}"]}),n})(),canActivate:[Z.c]},{path:"juego/resumen/precision",component:(()=>{class n{constructor(t,i,o){this.staticData=t,this.ticketSrv=i,this.matchSrv=o,this.total_tickets=0,this.total_winners=0,this.total_losers=0}ngOnInit(){this.staticData.setMenu("Precision"),this.ticketSrv.getAll().subscribe(t=>{this.total_tickets=t.length}),this.matchSrv.getMatchFilter("?win_match=true").subscribe(t=>{this.total_winners=Object.keys(t).length}),this.matchSrv.getMatchFilter("?win_match=false").subscribe(t=>{this.total_losers=Object.keys(t).length})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.Q),e.Y36($.w),e.Y36(W.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-summary-precision"]],decls:32,vars:3,consts:[[1,"background-navy-primary","green-primary"],[1,"container","container_juego"],[1,"container","container-juego","background-navy-primary","green-primary","text-center","pt-4","pb-1"],[1,"logo-game-container","background-green-primary"],["src","../../../../assets/img/pulgar-hacia-abajo.png","alt","no image"],[1,"row","mt-5"],[1,"col"],[1,"row"],[1,"color-white","jugadores-text"],["src","../../../../assets/img/ganadores.png","alt","no image"],["src","../../../../assets/img/ticket.png","alt","no image"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Resumen del Juego"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"figure",3),e._UZ(7,"img",4),e.qZA(),e.TgZ(8,"div",5)(9,"h3",6),e._uU(10,"Perdedores"),e.qZA()(),e.TgZ(11,"div",7)(12,"h3",8),e._uU(13),e.qZA()()(),e.TgZ(14,"div",2)(15,"figure",3),e._UZ(16,"img",9),e.qZA(),e.TgZ(17,"div",5)(18,"h3",6),e._uU(19,"Ganadores"),e.qZA()(),e.TgZ(20,"div",7)(21,"h3",8),e._uU(22),e.qZA()()(),e.TgZ(23,"div",2)(24,"figure",3),e._UZ(25,"img",10),e.qZA(),e.TgZ(26,"div",5)(27,"h3",6),e._uU(28,"Tickets Generados"),e.qZA()(),e.TgZ(29,"div",7)(30,"h3",8),e._uU(31),e.qZA()()()()()),2&t&&(e.xp6(13),e.Oqu(i.total_losers),e.xp6(9),e.Oqu(i.total_winners),e.xp6(9),e.Oqu(i.total_tickets))},dependencies:[C.Ye,v],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%}.container_juego[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:10%}.container-juego[_ngcontent-%COMP%]{position:relative;max-width:26rem;border-radius:15px}.jugadores-text[_ngcontent-%COMP%]{margin:50px 0;font-size:5rem}.logo-game-container[_ngcontent-%COMP%]{position:absolute;top:-53px;border-radius:50%;width:7rem;height:7rem;left:calc(50% - 56px);display:flex;justify-content:center;align-items:center}.logo-game-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:66px;height:60px;margin-left:7px}"]}),n})(),canActivate:[Z.c]},{path:"juego/fecha",component:Ar,canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Fecha del Juego"}},{path:"juego/seleccion",component:ao,canActivate:[Z.c]},{path:"juego/publicidad",component:ro,canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Publicidad del Juego"}},{path:"juego/publicidad/top",component:mo,canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Publicidad del Juego"}},{path:"juego/publicidad/bottom",component:go,canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Publicidad del Juego"}},{path:"juego/salvapantallas",component:rs,canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Salvapantallas del Juego"}},{path:"juego/scan",component:ss,canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Presentaci\xf3n de Escaneo del Juego"}},{path:"juego/diseno",component:ps,canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Dise\xf1o del Juego"}},{path:"juego/diseno/rolldice",component:(()=>{class n{constructor(t,i,o,r,c,l,p,u,b,M){this.dashboardPublicityService=t,this.publicity=i,this.router=o,this.snackbar=r,this.dialogService=c,this.theme=l,this.dashStyle=p,this.imageSrv=u,this.publicityGame=b,this.staticData=M,this.previsulizacionLogo="",this.previsulizacionBackground="",this.previsulizacionDiceFaceOne="",this.previsulizacionDiceFaceTwo="",this.previsulizacionDiceFaceThree="",this.previsulizacionDiceFaceFour="",this.previsulizacionDiceFaceFive="",this.previsulizacionDiceFaceSix=""}ngOnInit(){this.staticData.setMenu("Dados"),this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.previsulizacionLogo=this.dashStyle.get_image_logo_dados(),this.previsulizacionBackground=this.dashStyle.get_image_background_dados(),this.previsulizacionDiceFaceOne=this.dashStyle.get_image_dice_face_one(),this.previsulizacionDiceFaceTwo=this.dashStyle.get_image_dice_face_two(),this.previsulizacionDiceFaceThree=this.dashStyle.get_image_dice_face_three(),this.previsulizacionDiceFaceFour=this.dashStyle.get_image_dice_face_four(),this.previsulizacionDiceFaceFive=this.dashStyle.get_image_dice_face_five(),this.previsulizacionDiceFaceSix=this.dashStyle.get_image_dice_face_six()})})}capturarBackgroundFile(t){this.fileToUploadBackground=this.imageSrv.captureFile(t),this.fileToUploadBackground?(this.imageBackground=this.fileToUploadBackground,this.imageSrv.extraerBase64(this.fileToUploadBackground).then(i=>{this.previsulizacionBackground=i.base,this.dashStyle.setImageBackgroundDadosFile(this.fileToUploadBackground)})):(this.InputVarBackground.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}capturarFileLogo(t){this.fileToUploadLogo=this.imageSrv.captureFile(t),this.fileToUploadLogo?(this.imageLogo=this.fileToUploadLogo,this.imageSrv.extraerBase64(this.fileToUploadLogo).then(i=>{this.previsulizacionLogo=i.base,this.dashStyle.setImageLogoDadosFile(this.fileToUploadLogo)})):(this.InputVarLogo.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"))}capturarFileDiceFaces(t,i){switch(i){case"one":this.fileToUploadDiceFaceOne=this.imageSrv.captureFile(t),this.fileToUploadDiceFaceOne?(this.imageDiceFaceOneFile=this.fileToUploadDiceFaceOne,this.imageSrv.extraerBase64(this.fileToUploadDiceFaceOne).then(o=>{this.previsulizacionDiceFaceOne=o.base,this.dashStyle.setImageDiceFaceOneFile(this.fileToUploadDiceFaceOne)})):(this.InputVarDiceFaceOne.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"));break;case"two":this.fileToUploadDiceFaceTwo=this.imageSrv.captureFile(t),this.fileToUploadDiceFaceTwo?(this.imageDiceFaceTwoFile=this.fileToUploadDiceFaceTwo,this.imageSrv.extraerBase64(this.fileToUploadDiceFaceTwo).then(o=>{this.previsulizacionDiceFaceTwo=o.base,this.dashStyle.setImageDiceFaceTwoFile(this.fileToUploadDiceFaceTwo)})):(this.InputVarDiceFaceTwo.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"));break;case"three":this.fileToUploadDiceFaceThree=this.imageSrv.captureFile(t),this.fileToUploadDiceFaceThree?(this.imageDiceFaceThreeFile=this.fileToUploadDiceFaceThree,this.imageSrv.extraerBase64(this.fileToUploadDiceFaceThree).then(o=>{this.previsulizacionDiceFaceThree=o.base,this.dashStyle.setImageDiceFaceThreeFile(this.fileToUploadDiceFaceThree)})):(this.InputVarDiceFaceThree.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"));break;case"four":this.fileToUploadDiceFaceFour=this.imageSrv.captureFile(t),this.fileToUploadDiceFaceFour?(this.imageDiceFaceFourFile=this.fileToUploadDiceFaceFour,this.imageSrv.extraerBase64(this.fileToUploadDiceFaceFour).then(o=>{this.previsulizacionDiceFaceFour=o.base,this.dashStyle.setImageDiceFaceFourFile(this.fileToUploadDiceFaceFour)})):(this.InputVarDiceFaceFour.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"));break;case"five":this.fileToUploadDiceFaceFive=this.imageSrv.captureFile(t),this.fileToUploadDiceFaceFive?(this.imageDiceFaceFiveFile=this.fileToUploadDiceFaceFive,this.imageSrv.extraerBase64(this.fileToUploadDiceFaceFive).then(o=>{this.previsulizacionDiceFaceFive=o.base,this.dashStyle.setImageDiceFaceFiveFile(this.fileToUploadDiceFaceFive)})):(this.InputVarDiceFaceFive.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"));break;case"six":this.fileToUploadDiceFaceSix=this.imageSrv.captureFile(t),this.fileToUploadDiceFaceSix?(this.imageDiceFaceSixFile=this.fileToUploadDiceFaceSix,this.imageSrv.extraerBase64(this.fileToUploadDiceFaceSix).then(o=>{this.previsulizacionDiceFaceSix=o.base,this.dashStyle.setImageDiceFaceSixFile(this.fileToUploadDiceFaceSix)})):(this.InputVarDiceFaceSix.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"))}}updateDesign(){this.dialogService.open({title:"ACTUALIZAR DISE\xd1O DEL JUEGO",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL DISE\xd1O DEL JUEGO?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{i&&(this.fileToUploadBackground?(this.theme.updateDesign(1,this.updateBackgroundImage()),this.snackbar.mensaje("Fondo Actualizado exitosamente")):this.fileToUploadLogo?(this.theme.updateDesign(1,this.updateLogoImage()),this.snackbar.mensaje("Logo Actualizado exitosamente")):this.fileToUploadDiceFaceOne?(this.theme.updateDesign(1,this.updateDiceFaceOne()),this.snackbar.mensaje("Cara 1 del dado actualizada exitosamente")):this.fileToUploadDiceFaceTwo?(this.theme.updateDesign(1,this.updateDiceFaceTwo()),this.snackbar.mensaje("Cara 2 del dado actualizada exitosamente")):this.fileToUploadDiceFaceThree?(this.theme.updateDesign(1,this.updateDiceFaceThree()),this.snackbar.mensaje("Cara 3 del dado actualizada exitosamente")):this.fileToUploadDiceFaceFour?(this.theme.updateDesign(1,this.updateDiceFaceFour()),this.snackbar.mensaje("Cara 4 del dado actualizada exitosamente")):this.fileToUploadDiceFaceFive?(this.theme.updateDesign(1,this.updateDiceFaceFive()),this.snackbar.mensaje("Cara 5 del dado actualizada exitosamente")):this.fileToUploadDiceFaceSix&&(this.theme.updateDesign(1,this.updateDiceFaceSix()),this.snackbar.mensaje("Cara 6 del dado actualizada exitosamente")))})}updateLogoImage(){let t=new FormData;return t.append("id","1"),t.append("image_logo_dados",this.dashStyle.getImageLogoDadosFile(),this.dashStyle.getImageLogoDadosFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateBackgroundImage(){let t=new FormData;return t.append("id","1"),t.append("image_background_dados",this.dashStyle.getImageBackgroundDadosFile(),this.dashStyle.getImageBackgroundDadosFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateDiceFaceOne(){let t=new FormData;return t.append("id","1"),t.append("image_dice_face_one",this.dashStyle.getImageDiceFaceOneFile(),this.dashStyle.getImageDiceFaceOneFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateDiceFaceTwo(){let t=new FormData;return t.append("id","1"),t.append("image_dice_face_two",this.dashStyle.getImageDiceFaceTwoFile(),this.dashStyle.getImageDiceFaceTwoFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateDiceFaceThree(){let t=new FormData;return t.append("id","1"),t.append("image_dice_face_three",this.dashStyle.getImageDiceFaceThreeFile(),this.dashStyle.getImageDiceFaceThreeFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateDiceFaceFour(){let t=new FormData;return t.append("id","1"),t.append("image_dice_face_four",this.dashStyle.getImageDiceFaceFourFile(),this.dashStyle.getImageDiceFaceFourFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateDiceFaceFive(){let t=new FormData;return t.append("id","1"),t.append("image_dice_face_five",this.dashStyle.getImageDiceFaceFiveFile(),this.dashStyle.getImageDiceFaceFiveFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateDiceFaceSix(){let t=new FormData;return t.append("id","1"),t.append("image_dice_face_six",this.dashStyle.getImageDiceFaceSixFile(),this.dashStyle.getImageDiceFaceSixFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}cancel(){window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(j.U),e.Y36(_.F0),e.Y36(T.o),e.Y36(A.D),e.Y36(z.f),e.Y36(H.T),e.Y36(F),e.Y36(ue.D),e.Y36(h.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-design-rolldice"]],viewQuery:function(t,i){if(1&t&&(e.Gf(vs,5),e.Gf(Zs,5),e.Gf(Ts,5),e.Gf(ys,5),e.Gf(As,5),e.Gf(xs,5),e.Gf(ws,5),e.Gf(Us,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVarLogo=o.first),e.iGM(o=e.CRH())&&(i.InputVarBackground=o.first),e.iGM(o=e.CRH())&&(i.InputVarDiceFaceOne=o.first),e.iGM(o=e.CRH())&&(i.InputVarDiceFaceTwo=o.first),e.iGM(o=e.CRH())&&(i.InputVarDiceFaceThree=o.first),e.iGM(o=e.CRH())&&(i.InputVarDiceFaceFour=o.first),e.iGM(o=e.CRH())&&(i.InputVarDiceFaceFive=o.first),e.iGM(o=e.CRH())&&(i.InputVarDiceFaceSix=o.first)}},decls:76,vars:8,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","white-color"],[1,"dice-container"],[1,"dice-column"],["alt","dado1",3,"src"],[1,"plus-button",3,"click"],["type","file",1,"file-input",3,"change"],["takeInputFaceOne",""],["alt","dado2",3,"src"],["takeInputFaceTwo",""],["alt","dado3",3,"src"],["takeInputFaceThree",""],["alt","dado4",3,"src"],["takeInputFaceFour",""],["alt","dado65",3,"src"],["takeInputFaceFive",""],["alt","dado6",3,"src"],["takeInputFaceSix",""],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"],[1,"publicity__view"],[1,"publicity__view-column"],["id","background","alt","fondo_Dados",3,"src"],[1,"select-button",3,"click"],["takeInputBackground",""],["id","logo","alt","logo_Dados",3,"src"],["takeInputLogo",""]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Dise\xf1o Juego"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"p",4),e._uU(8,"TIRA LOS DADOS"),e.qZA(),e.TgZ(9,"div",5)(10,"div",6)(11,"p"),e._uU(12,"Cara 1"),e.qZA(),e._UZ(13,"img",7),e.TgZ(14,"button",8),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(17);return e.KtG(c.click())}),e._uU(15,"+"),e.qZA(),e.TgZ(16,"input",9,10),e.NdJ("change",function(c){return i.capturarFileDiceFaces(c,"one")}),e.qZA()(),e.TgZ(18,"div",6)(19,"p"),e._uU(20,"Cara 2"),e.qZA(),e._UZ(21,"img",11),e.TgZ(22,"button",8),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(25);return e.KtG(c.click())}),e._uU(23,"+"),e.qZA(),e.TgZ(24,"input",9,12),e.NdJ("change",function(c){return i.capturarFileDiceFaces(c,"two")}),e.qZA()(),e.TgZ(26,"div",6)(27,"p"),e._uU(28,"Cara 3"),e.qZA(),e._UZ(29,"img",13),e.TgZ(30,"button",8),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(33);return e.KtG(c.click())}),e._uU(31,"+"),e.qZA(),e.TgZ(32,"input",9,14),e.NdJ("change",function(c){return i.capturarFileDiceFaces(c,"three")}),e.qZA()(),e.TgZ(34,"div",6)(35,"p"),e._uU(36,"Cara 4"),e.qZA(),e._UZ(37,"img",15),e.TgZ(38,"button",8),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(41);return e.KtG(c.click())}),e._uU(39,"+"),e.qZA(),e.TgZ(40,"input",9,16),e.NdJ("change",function(c){return i.capturarFileDiceFaces(c,"four")}),e.qZA()(),e.TgZ(42,"div",6)(43,"p"),e._uU(44,"Cara 5"),e.qZA(),e._UZ(45,"img",17),e.TgZ(46,"button",8),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(49);return e.KtG(c.click())}),e._uU(47,"+"),e.qZA(),e.TgZ(48,"input",9,18),e.NdJ("change",function(c){return i.capturarFileDiceFaces(c,"five")}),e.qZA()(),e.TgZ(50,"div",6)(51,"p"),e._uU(52,"Cara 6"),e.qZA(),e._UZ(53,"img",19),e.TgZ(54,"button",8),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(57);return e.KtG(c.click())}),e._uU(55,"+"),e.qZA(),e.TgZ(56,"input",9,20),e.NdJ("change",function(c){return i.capturarFileDiceFaces(c,"six")}),e.qZA()()(),e.TgZ(58,"p",4),e._uU(59,"Escala de imagen 60x60"),e.qZA(),e.TgZ(60,"div",21)(61,"app-button-primary",22),e.NdJ("click",function(){return i.updateDesign()}),e.qZA(),e.TgZ(62,"app-button-primary",23),e.NdJ("click",function(){return i.cancel()}),e.qZA()()(),e.TgZ(63,"div",24)(64,"div",25),e._UZ(65,"img",26),e.TgZ(66,"button",27),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(69);return e.KtG(c.click())}),e._uU(67,"Seleccionar Fondo"),e.qZA(),e.TgZ(68,"input",9,28),e.NdJ("change",function(c){return i.capturarBackgroundFile(c)}),e.qZA()(),e.TgZ(70,"div",25),e._UZ(71,"img",29),e.TgZ(72,"button",27),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(75);return e.KtG(c.click())}),e._uU(73,"Seleccionar Logo"),e.qZA(),e.TgZ(74,"input",9,30),e.NdJ("change",function(c){return i.capturarFileLogo(c)}),e.qZA()()()()()}2&t&&(e.xp6(13),e.s9C("src",i.previsulizacionDiceFaceOne,e.LSH),e.xp6(8),e.s9C("src",i.previsulizacionDiceFaceTwo,e.LSH),e.xp6(8),e.s9C("src",i.previsulizacionDiceFaceThree,e.LSH),e.xp6(8),e.s9C("src",i.previsulizacionDiceFaceFour,e.LSH),e.xp6(8),e.s9C("src",i.previsulizacionDiceFaceFive,e.LSH),e.xp6(8),e.s9C("src",i.previsulizacionDiceFaceSix,e.LSH),e.xp6(12),e.s9C("src",i.previsulizacionBackground,e.LSH),e.xp6(6),e.s9C("src",i.previsulizacionLogo,e.LSH))},dependencies:[C.Ye,x,v],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#000;color:var(--color-principal);text-align:center}.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.dice-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,1fr);gap:.5rem;margin-bottom:10px}.dice-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.dice-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.dice-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;margin-bottom:10px;border-radius:5px;border:2px solid white}.publicity__view[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,.7fr);grid-template-rows:repeat(2,.7fr);gap:.5rem}.publicity__view-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:80%}.publicity__view-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;margin-bottom:10px;border-radius:5px;border:2px solid white}.publicity__view[_ngcontent-%COMP%]   img#background[_ngcontent-%COMP%]{width:50%;height:500%;border-radius:5px;margin:10px}.publicity__view[_ngcontent-%COMP%]   img#logo[_ngcontent-%COMP%]{width:50%;height:75%;border-radius:5px;margin:10px}.plus-button[_ngcontent-%COMP%]{background-color:var(--color-principal);color:#000;border:none;padding:5px 10px;cursor:pointer;font-size:16px;border-radius:5px;margin-top:.5rem}.plus-button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal)}input[type=file][_ngcontent-%COMP%]{display:none}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}button[_ngcontent-%COMP%]{background-color:var(--color-principal);color:#000;border:none;padding:10px 20px;cursor:pointer;font-size:16px;border-radius:5px}button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal)}"]}),n})(),canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Dise\xf1o del Juego"}},{path:"juego/diseno/puertas",component:(()=>{class n{constructor(t,i,o,r,c,l,p){this.snackbar=t,this.theme=i,this.imageService=o,this.dialogService=r,this.dashStyle=c,this.router=l,this.imageSrv=p,this.previewDoorLeft="",this.previewDoorCenter="",this.previewDoorRight="",this.previewBackground="",this.previewLogo=""}ngOnInit(){this.theme.getDesignInformation().subscribe(t=>{this.dashStyle.loadData(t[0]),this.previewDoorLeft=this.dashStyle.get_image_door_left(),this.previewDoorCenter=this.dashStyle.get_image_door_center(),this.previewDoorRight=this.dashStyle.get_image_door_right(),this.previewBackground=this.dashStyle.get_image_background_puertas(),this.previewLogo=this.dashStyle.get_image_logo_puertas()})}capturarBackgroundFile(t){this.fileToUploadBackground=this.imageSrv.captureFile(t),this.fileToUploadBackground?(this.imageBackground=this.fileToUploadBackground,this.imageSrv.extraerBase64(this.fileToUploadBackground).then(i=>{this.previewBackground=i.base,this.dashStyle.setImageBackgroundPuertasFile(this.fileToUploadBackground)})):(this.InputVarBackground.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}capturarFileLogo(t){this.fileToUploadLogo=this.imageSrv.captureFile(t),this.fileToUploadLogo?(this.imageLogo=this.fileToUploadLogo,this.imageSrv.extraerBase64(this.fileToUploadLogo).then(i=>{this.previewLogo=i.base,this.dashStyle.setImageLogoPuertasFile(this.fileToUploadLogo)})):(this.InputVarLogo.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"))}capturarFileDoors(t,i){switch(i){case"left":this.fileToUploadDoorLeft=this.imageSrv.captureFile(t),this.fileToUploadDoorLeft?(this.imageDoorLeft=this.fileToUploadDoorLeft,this.imageSrv.extraerBase64(this.fileToUploadDoorLeft).then(o=>{this.previewDoorLeft=o.base,this.dashStyle.setImageDoorLeftFile(this.fileToUploadDoorLeft)})):(this.InputVarDoorLeft.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"));break;case"center":this.fileToUploadDoorCenter=this.imageSrv.captureFile(t),this.fileToUploadDoorCenter?(this.imageDoorCenter=this.fileToUploadDoorCenter,this.imageSrv.extraerBase64(this.fileToUploadDoorCenter).then(o=>{this.previewDoorCenter=o.base,this.dashStyle.setImageDoorCenterFile(this.fileToUploadDoorCenter)})):(this.InputVarDoorCenter.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"));break;case"right":this.fileToUploadDoorRight=this.imageSrv.captureFile(t),this.fileToUploadDoorRight?(this.imageDoorRight=this.fileToUploadDoorRight,this.imageSrv.extraerBase64(this.fileToUploadDoorRight).then(o=>{this.previewDoorRight=o.base,this.dashStyle.setImageDoorRightFile(this.fileToUploadDoorRight)})):(this.InputVarDoorRight.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"))}}updateDesign(){this.dialogService.open({title:"ACTUALIZAR DISE\xd1O DEL JUEGO",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL DISE\xd1O DEL JUEGO?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{i&&(this.fileToUploadDoorLeft&&(this.theme.updateDesign(1,this.updateDoorLeftImage()),this.snackbar.mensaje("Puerta Izquierda Actualizada exitosamente")),this.fileToUploadDoorCenter&&(this.theme.updateDesign(1,this.updateDoorCenterImage()),this.snackbar.mensaje("Puerta Central Actualizada exitosamente")),this.fileToUploadDoorRight&&(this.theme.updateDesign(1,this.updateDoorRightImage()),this.snackbar.mensaje("Puerta Derecha Actualizada exitosamente")),this.fileToUploadBackground&&(this.theme.updateDesign(1,this.updateBackgroundImage()),this.snackbar.mensaje("Fondo Actualizado exitosamente")),this.fileToUploadLogo&&(this.theme.updateDesign(1,this.updateLogoImage()),this.snackbar.mensaje("Logo Actualizado exitosamente")))})}updateLogoImage(){let t=new FormData;return t.append("id","1"),t.append("image_logo_puertas",this.dashStyle.getImageLogoPuertasFile(),this.dashStyle.getImageLogoPuertasFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateBackgroundImage(){let t=new FormData;return t.append("id","1"),t.append("image_background_puertas",this.dashStyle.getImageBackgroundPuertasFile(),this.dashStyle.getImageBackgroundPuertasFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateDoorLeftImage(){let t=new FormData;return t.append("id","1"),t.append("image_door_left",this.dashStyle.getImageDoorLeftFile(),this.dashStyle.getImageDoorLeftFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateDoorCenterImage(){let t=new FormData;return t.append("id","1"),t.append("image_door_center",this.dashStyle.getImageDoorCenterFile(),this.dashStyle.getImageDoorCenterFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateDoorRightImage(){let t=new FormData;return t.append("id","1"),t.append("image_door_right",this.dashStyle.getImageDoorRightFile(),this.dashStyle.getImageDoorRightFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}cancel(){window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.o),e.Y36(z.f),e.Y36(F),e.Y36(A.D),e.Y36(H.T),e.Y36(_.F0),e.Y36(F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-design-doors"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ks,5),e.Gf(Ps,5),e.Gf(Os,5),e.Gf(Ds,5),e.Gf(Ms,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVarDoorLeft=o.first),e.iGM(o=e.CRH())&&(i.InputVarDoorCenter=o.first),e.iGM(o=e.CRH())&&(i.InputVarDoorRight=o.first),e.iGM(o=e.CRH())&&(i.InputVarBackground=o.first),e.iGM(o=e.CRH())&&(i.InputVarLogo=o.first)}},decls:52,vars:5,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","white-color"],[1,"door-container"],[1,"door-column"],["alt","puerta izquierda",3,"src"],[1,"plus-button",3,"click"],["type","file",1,"file-input",3,"change"],["takeInputDoorLeft",""],["alt","puerta central",3,"src"],["takeInputDoorCenter",""],["alt","puerta derecha",3,"src"],["takeInputDoorRight",""],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"],[1,"publicity__view"],[1,"publicity__view-column"],["id","background","alt","fondo puertas",3,"src"],[1,"select-button",3,"click"],["takeInputBackground",""],["id","logo","alt","logo puertas",3,"src"],["takeInputLogo",""]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"DISE\xd1O DE JUEGOS"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"p",4),e._uU(8,"ADIVINA LA PUERTA"),e.qZA(),e.TgZ(9,"div",5)(10,"div",6)(11,"p"),e._uU(12,"PUERTA IZQUIERDA"),e.qZA(),e._UZ(13,"img",7),e.TgZ(14,"button",8),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(17);return e.KtG(c.click())}),e._uU(15,"+"),e.qZA(),e.TgZ(16,"input",9,10),e.NdJ("change",function(c){return i.capturarFileDoors(c,"left")}),e.qZA()(),e.TgZ(18,"div",6)(19,"p"),e._uU(20,"PUERTA CENTRAL"),e.qZA(),e._UZ(21,"img",11),e.TgZ(22,"button",8),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(25);return e.KtG(c.click())}),e._uU(23,"+"),e.qZA(),e.TgZ(24,"input",9,12),e.NdJ("change",function(c){return i.capturarFileDoors(c,"center")}),e.qZA()(),e.TgZ(26,"div",6)(27,"p"),e._uU(28,"PUERTA DERECHA"),e.qZA(),e._UZ(29,"img",13),e.TgZ(30,"button",8),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(33);return e.KtG(c.click())}),e._uU(31,"+"),e.qZA(),e.TgZ(32,"input",9,14),e.NdJ("change",function(c){return i.capturarFileDoors(c,"right")}),e.qZA()()(),e.TgZ(34,"p",4),e._uU(35,"Escala de imagen 190x372"),e.qZA(),e.TgZ(36,"div",15)(37,"app-button-primary",16),e.NdJ("click",function(){return i.updateDesign()}),e.qZA(),e.TgZ(38,"app-button-primary",17),e.NdJ("click",function(){return i.cancel()}),e.qZA()()(),e.TgZ(39,"div",18)(40,"div",19),e._UZ(41,"img",20),e.TgZ(42,"button",21),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(45);return e.KtG(c.click())}),e._uU(43,"Seleccionar Fondo"),e.qZA(),e.TgZ(44,"input",9,22),e.NdJ("change",function(c){return i.capturarBackgroundFile(c)}),e.qZA()(),e.TgZ(46,"div",19),e._UZ(47,"img",23),e.TgZ(48,"button",21),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(51);return e.KtG(c.click())}),e._uU(49,"Seleccionar Logo"),e.qZA(),e.TgZ(50,"input",9,24),e.NdJ("change",function(c){return i.capturarFileLogo(c)}),e.qZA()()()()()}2&t&&(e.xp6(13),e.s9C("src",i.previewDoorLeft,e.LSH),e.xp6(8),e.s9C("src",i.previewDoorCenter,e.LSH),e.xp6(8),e.s9C("src",i.previewDoorRight,e.LSH),e.xp6(12),e.s9C("src",i.previewBackground,e.LSH),e.xp6(6),e.s9C("src",i.previewLogo,e.LSH))},dependencies:[C.Ye,x,v],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#000;color:var(--color-principal);text-align:center}.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;padding:0rem 4rem;color:#fff}.publicity__changes[_ngcontent-%COMP%], .publicity__view[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:1rem}.door-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(1,1fr)}.door-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.door-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.door-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%;height:80%;border-radius:5px;border:2px solid white}.plus-button[_ngcontent-%COMP%]{background-color:var(--color-principal);color:#000;border:none;padding:5px 10px;cursor:pointer;font-size:16px;border-radius:5px;margin-top:.5rem}.plus-button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal)}input[type=file][_ngcontent-%COMP%]{display:none}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;align-items:center}button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%], .select-button[_ngcontent-%COMP%]{background-color:var(--color-principal);color:#000;border:none;padding:10px 20px;cursor:pointer;font-size:16px;border-radius:5px}button[_ngcontent-%COMP%]:hover, .save-button[_ngcontent-%COMP%]:hover, .select-button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal)}.publicity__view[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,.7fr);grid-template-rows:repeat(2,.7fr);gap:.5rem}.publicity__view-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:80%}.publicity__view-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;margin-bottom:10px;border-radius:5px;border:2px solid white}.publicity__view[_ngcontent-%COMP%]   img#background[_ngcontent-%COMP%]{width:55%;height:300px;border-radius:5px;margin:10px}.publicity__view[_ngcontent-%COMP%]   img#logo[_ngcontent-%COMP%]{width:50%;height:75%;border-radius:5px;margin:10px}input[type=text][_ngcontent-%COMP%]{padding:10px;font-size:16px;border-radius:5px;border:2px solid var(--color-principal);width:80%;margin-bottom:1rem;color:#000}"]}),n})(),canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Dise\xf1o del Juego"}},{path:"juego/diseno/precision",component:(()=>{class n{constructor(t,i,o,r,c){this.snackbar=t,this.theme=i,this.imageSrv=o,this.dialogService=r,this.dashStyle=c,this.previewWatchBox="",this.previewBackground="",this.previewLogo=""}ngOnInit(){this.theme.getDesignInformation().subscribe(t=>{this.dashStyle.loadData(t[0]),this.previewWatchBox=this.dashStyle.get_image_box_watch(),this.previewBackground=this.dashStyle.get_image_background_precision(),this.previewLogo=this.dashStyle.get_image_logo_precision()})}capturarBackgroundFile(t){this.fileToUploadBackground=this.imageSrv.captureFile(t),this.fileToUploadBackground?(this.imageBackground=this.fileToUploadBackground,this.imageSrv.extraerBase64(this.fileToUploadBackground).then(i=>{this.previewBackground=i.base,this.dashStyle.setImageBackgroundPrecisionFile(this.fileToUploadBackground)})):(this.InputVarBackground.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}capturarFileLogo(t){this.fileToUploadLogo=this.imageSrv.captureFile(t),this.fileToUploadLogo?(this.imageLogo=this.fileToUploadLogo,this.imageSrv.extraerBase64(this.fileToUploadLogo).then(i=>{this.previewLogo=i.base,this.dashStyle.setImageLogoPrecisionFile(this.fileToUploadLogo)})):(this.InputVarLogo.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"))}capturarFileBoxWatch(t){this.fileToUploadBoxWatch=this.imageSrv.captureFile(t),this.fileToUploadBoxWatch?(this.imageBoxWatch=this.fileToUploadBoxWatch,this.imageSrv.extraerBase64(this.fileToUploadBoxWatch).then(i=>{this.previewWatchBox=i.base,this.dashStyle.setImageBoxWatchFile(this.fileToUploadBoxWatch)})):(this.InputVarBoxWatch.nativeElement.value="",this.snackbar.mensaje("Solo se permiten im\xe1genes"))}updateDesign(){this.dialogService.open({title:"ACTUALIZAR DISE\xd1O DEL JUEGO",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL DISE\xd1O DEL JUEGO?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{i&&(this.fileToUploadBackground?(this.theme.updateDesign(1,this.updateBackgroundImage()),this.snackbar.mensaje("Fondo Actualizado exitosamente")):this.fileToUploadLogo?(this.theme.updateDesign(1,this.updateLogoImage()),this.snackbar.mensaje("Logo Actualizado exitosamente")):this.fileToUploadBoxWatch&&(this.theme.updateDesign(1,this.updateBoxWatchImage()),this.snackbar.mensaje("Caja de Reloj Actualizada exitosamente")))})}updateLogoImage(){let t=new FormData;return t.append("id","1"),t.append("image_logo_precision",this.dashStyle.getImageLogoPrecisionFile(),this.dashStyle.getImageLogoPrecisionFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateBackgroundImage(){let t=new FormData;return t.append("id","1"),t.append("image_background_precision",this.dashStyle.getImageBackgroundPrecisionFile(),this.dashStyle.getImageBackgroundPrecisionFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateBoxWatchImage(){let t=new FormData;return t.append("id","1"),t.append("image_box_watch",this.dashStyle.getImageBoxWatchFile(),this.dashStyle.getImageBoxWatchFile().name),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}cancel(){window.location.reload()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.o),e.Y36(z.f),e.Y36(F),e.Y36(A.D),e.Y36(H.T))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-design-precision"]],viewQuery:function(t,i){if(1&t&&(e.Gf(Ss,5),e.Gf(Ns,5),e.Gf(Fs,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVarBackground=o.first),e.iGM(o=e.CRH())&&(i.InputVarLogo=o.first),e.iGM(o=e.CRH())&&(i.InputVarBoxWatch=o.first)}},decls:34,vars:3,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","white-color"],[1,"time-container"],[1,"time-column"],["alt","puerta izquierda",3,"src"],[1,"plus-button",3,"click"],["type","file",1,"file-input",3,"change"],["takeInputDoorLeft",""],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"],[1,"publicity__view"],[1,"publicity__view-column"],["id","background","alt","fondo puertas",3,"src"],[1,"select-button",3,"click"],["takeInputBackground",""],["id","logo","alt","logo puertas",3,"src"],["takeInputLogo",""]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"DISE\xd1O DE JUEGOS"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"p",4),e._uU(8,"PRECISI\xd3N"),e.qZA(),e.TgZ(9,"div",5)(10,"div",6),e._UZ(11,"img",7),e.TgZ(12,"button",8),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(15);return e.KtG(c.click())}),e._uU(13,"+"),e.qZA(),e.TgZ(14,"input",9,10),e.NdJ("change",function(c){return i.capturarFileBoxWatch(c)}),e.qZA()()(),e.TgZ(16,"p",4),e._uU(17,"Escala de imagen 200x60"),e.qZA(),e.TgZ(18,"div",11)(19,"app-button-primary",12),e.NdJ("click",function(){return i.updateDesign()}),e.qZA(),e.TgZ(20,"app-button-primary",13),e.NdJ("click",function(){return i.cancel()}),e.qZA()()(),e.TgZ(21,"div",14)(22,"div",15),e._UZ(23,"img",16),e.TgZ(24,"button",17),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(27);return e.KtG(c.click())}),e._uU(25,"Seleccionar Fondo"),e.qZA(),e.TgZ(26,"input",9,18),e.NdJ("change",function(c){return i.capturarBackgroundFile(c)}),e.qZA()(),e.TgZ(28,"div",15),e._UZ(29,"img",19),e.TgZ(30,"button",17),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(33);return e.KtG(c.click())}),e._uU(31,"Seleccionar Logo"),e.qZA(),e.TgZ(32,"input",9,20),e.NdJ("change",function(c){return i.capturarFileLogo(c)}),e.qZA()()()()()}2&t&&(e.xp6(11),e.s9C("src",i.previewWatchBox,e.LSH),e.xp6(12),e.s9C("src",i.previewBackground,e.LSH),e.xp6(6),e.s9C("src",i.previewLogo,e.LSH))},dependencies:[C.Ye,x,v],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#000;color:var(--color-principal);text-align:center}.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;padding:0rem 4rem;color:#fff}.publicity__changes[_ngcontent-%COMP%], .publicity__view[_ngcontent-%COMP%]{width:45%;display:flex;flex-direction:column;gap:1rem}.publicity__title[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--white-color);margin-bottom:1rem}.time-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.time-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:250px;height:100px;border-radius:5px;border:2px solid white;margin-bottom:1rem}.time-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.time-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem;margin-bottom:.5rem}.plus-button[_ngcontent-%COMP%]{background-color:var(--color-principal);color:#000;border:none;padding:5px 10px;cursor:pointer;font-size:16px;border-radius:5px;margin-top:.5rem}.plus-button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal)}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;justify-content:center;align-items:center;margin-top:1rem}button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%], .select-button[_ngcontent-%COMP%]{background-color:var(--color-principal);color:#000;border:none;padding:10px 20px;cursor:pointer;font-size:16px;border-radius:5px}button[_ngcontent-%COMP%]:hover, .save-button[_ngcontent-%COMP%]:hover, .select-button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal)}.publicity__view[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(1,.7fr);grid-template-rows:repeat(2,.7fr);gap:.5rem}.publicity__view-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:80%}.publicity__view-column[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:90px;height:90px;margin-bottom:10px;border-radius:5px;border:2px solid white}.publicity__view[_ngcontent-%COMP%]   img#background[_ngcontent-%COMP%]{width:55%;height:300px;border-radius:5px;margin:10px}.publicity__view[_ngcontent-%COMP%]   img#logo[_ngcontent-%COMP%]{width:50%;height:75%;border-radius:5px;margin:10px}.file-input[_ngcontent-%COMP%]{display:none}input[type=text][_ngcontent-%COMP%]{padding:10px;font-size:16px;border-radius:5px;border:2px solid var(--color-principal);width:80%;margin-bottom:1rem;color:#000}"]}),n})(),canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Dise\xf1o del Juego"}},{path:"juego/diseno/ganador",component:ht,canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Presentaci\xf3n de Ganadores del Juego"}},{path:"juego/diseno/publicity",component:pt,canActivate:[Z.c,w],data:{Permiso_nombre:"Modificar Dise\xf1o del Juego"}}]}];let Js=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild(Ys),_.Bz]}),n})();var Rs=g(7009);let js=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Ae.m,d.ez,Js,xe.B,O.LD,s.UX,L.Bb,f.lN,k.c,Rs.ZX,te.Is,U.FA,P.XK]}),n})()}}]);