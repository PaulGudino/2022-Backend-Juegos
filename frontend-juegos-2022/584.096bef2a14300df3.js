"use strict";(self.webpackChunkFrontend_Juegos_2022=self.webpackChunkFrontend_Juegos_2022||[]).push([[584],{6584:(ca,pe,_)=>{_.r(pe),_.d(pe,{DashboardModule:()=>sa});var Ce=_(3832),Ze=_(8602),p=_(6895),e=_(4650),f=_(3683);function ue(n,r,t,i,o,a,c){try{var l=n[a](c),d=l.value}catch(T){return void t(T)}l.done?r(d):Promise.resolve(d).then(i,o)}function A(n){return function(){var r=this,t=arguments;return new Promise(function(i,o){var a=n.apply(r,t);function c(d){ue(a,i,o,c,l,"next",d)}function l(d){ue(a,i,o,c,l,"throw",d)}c(void 0)})}}var de=_(1481);let J=(()=>{class n{constructor(t){var i=this;this.sanitizer=t,this.extraerBase64=function(){var o=A(function*(a){return new Promise((c,l)=>{try{const d=window.URL.createObjectURL(a),T=i.sanitizer.bypassSecurityTrustUrl(d),w=new FileReader;return w.readAsDataURL(a),w.onload=()=>{c({base:w.result})},w.onerror=ie=>{c({base:null})},T}catch{return null}})});return function(a){return o.apply(this,arguments)}}()}captureFile(t){const i=t.target.files[0];let a=i.name.split(".").pop().toLowerCase();return"png"==a||"jpg"==a||"jpeg"==a||"gif"==a?i:null}captureFilePng(t){const i=t.target.files[0];return"png"==i.name.split(".").pop().toLowerCase()?i:null}captureVideoFile(t){const i=t.target.files[0];return"mp4"==i.name.split(".").pop().toLowerCase()?i:null}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(de.H7))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var h=_(4570),E=_(529),I=_(9406);let ge=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getPublicityGame(t){return this.http.get(this.url+"api/Publicity_game/"+t+"/")}updatePublicityGame(t,i){return this.http.put(this.url+"api/Publicity_game/"+t+"/",i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(I.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var O=_(5412),C=_(4859);let ve=(()=>{class n{constructor(t,i){this.data=t,this.mdDialogRef=i}ngOnInit(){}cancel(){this.close(!1)}close(t){this.mdDialogRef.close(t)}confirm(){this.close(!0)}onEsc(){this.close(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(O.WI),e.Y36(O.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-dialog"]],hostBindings:function(t,i){1&t&&e.NdJ("keydown.esc",function(){return i.onEsc()})},decls:12,vars:4,consts:[[1,"container_dialog"],[1,"header"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"dialog-message"],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"p",4),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return i.cancel()}),e._uU(9),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return i.confirm()}),e._uU(11),e.qZA()()()),2&t&&(e.xp6(3),e.Oqu(i.data.title),e.xp6(3),e.Oqu(i.data.message),e.xp6(3),e.Oqu(i.data.cancelText),e.xp6(2),e.Oqu(i.data.confirmText))},dependencies:[C.lW,O.uh,O.xY,O.H8],styles:["header[_ngcontent-%COMP%], .dialog-message[_ngcontent-%COMP%]{text-transform:lowercase}.header[_ngcontent-%COMP%]:first-letter, .dialog-message[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.container_dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:500px}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}button[_ngcontent-%COMP%]{background:#3f3f43;color:#fff}button[_ngcontent-%COMP%]:hover{background:#00ffc5;color:#002130}"]}),n})();var Te=_(5698),Ae=_(4004),_e=_(5659);let b=(()=>{class n{constructor(t){this.dialog=t}open(t){this.dialogRef=this.dialog.open(ve,{data:{title:t.title,message:t.message,cancelText:t.cancelText,confirmText:t.confirmText}})}confirmed(){return this.dialogRef.afterClosed().pipe((0,Te.q)(1),(0,Ae.U)(t=>t))}error(t){let i=[];for(let a in t)i.push(t[a]);this.dialog.open(_e.o,{data:i})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(O.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N=(()=>{class n{constructor(){this.title="",this.backgroundColor="#00ffc5",this.styledPadding="0.5rem 2rem",this.fontSize="14px"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-button-primary"]],inputs:{title:"title",backgroundColor:"backgroundColor",styledPadding:"styledPadding",fontSize:"fontSize"},decls:2,vars:7,consts:[[1,"btn-game__date"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e._uU(1),e.qZA()),2&t&&(e.Udp("font-size",i.fontSize)("padding",i.styledPadding)("background",i.backgroundColor),e.xp6(1),e.hij(" ",i.title,"\n"))},styles:[".btn-game__date[_ngcontent-%COMP%]{padding:.5rem 2rem;font-size:14px;width:8rem;outline:none;border:none;border-radius:6px}.btn-game__date[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();const ye=["takeInput"];let xe=(()=>{class n{constructor(t,i,o,a){this.imageSrv=t,this.snackbar=i,this.publicityGame=o,this.dialogService=a,this.number="0",this.previsulizacion="",this.previsulizacionGet="",this.title="Casilla"}ngOnInit(){this.loadData()}capturarFile(t){this.fileToUpload=this.imageSrv.captureFilePng(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base})):(this.previsulizacion="",this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes png"))}updatePublicityGame(){return this.fileToUpload?(this.dialogService.open({title:"ACTUALIZAR LOGO CASILLA",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL lOGO?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){if(this.fileToUpload){let o=new FormData;return o.append("id",this.number),o.append("image",this.fileToUpload,this.fileToUpload.name),this.publicityGame.updatePublicityGame(this.number,o).subscribe(a=>{this.loadData()}),this.snackbar.mensaje("Publicidad Actualizada exitosamente"),!0}return!1}return!1}),!1):(this.snackbar.mensaje("Seleccione un imagen"),!1)}cancel(){this.previsulizacion=this.previsulizacionGet,this.fileToUpload=null}loadData(){this.publicityGame.getPublicityGame(this.number).subscribe(t=>{this.previsulizacionGet=t.image,this.previsulizacion=t.image})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J),e.Y36(h.o),e.Y36(ge),e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-box"]],viewQuery:function(t,i){if(1&t&&e.Gf(ye,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},inputs:{number:"number"},decls:17,vars:2,consts:[[1,"box-container"],[1,"color-white","publicity-container"],[1,"publicity__title","green-primary"],[1,"publicity-info__container"],[1,""],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],[1,"box"],["alt","logo img",3,"src"],[1,"white-color"],[1,"container-buttons"],["title","Cancelar","backgroundColor","#d4d4d4",3,"click"],["title","Guardar",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3)(5,"p",4),e._uU(6,"Imagen:"),e.qZA(),e.TgZ(7,"div",5)(8,"input",6,7),e.NdJ("change",function(a){return i.capturarFile(a)}),e.qZA()()()(),e.TgZ(10,"figure",8),e._UZ(11,"img",9),e.qZA(),e.TgZ(12,"p",10),e._uU(13,"Insertar imagenes png"),e.qZA(),e.TgZ(14,"div",11)(15,"app-button-primary",12),e.NdJ("click",function(){return i.cancel()}),e.qZA(),e.TgZ(16,"app-button-primary",13),e.NdJ("click",function(){return i.updatePublicityGame()}),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",i.title+" "+i.number+":"," "),e.xp6(8),e.Q6J("src",i.previsulizacion,e.LSH))},dependencies:[N],styles:['.box[_ngcontent-%COMP%]{width:9rem;height:9rem;border:1px solid #00ffc5;align-self:center}.box-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;border:1px solid #00ffc5;padding:1rem;margin-bottom:1.5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}.publicity-info__container[_ngcontent-%COMP%]{padding:0 .5rem}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.container-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}']}),n})();const qe=["takeInput"];function Ue(n,r){1&n&&e._UZ(0,"app-box",4),2&n&&e.Q6J("number",r.$implicit.toString())}const we=function(){return[1,2,3,4,5,6,7,8,9,10]};let Pe=(()=>{class n{constructor(){this.previsulizacion=""}ngOnInit(){}addPublicity(){}deletePublicity(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicity-game"]],viewQuery:function(t,i){if(1&t&&e.Gf(qe,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:6,vars:2,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[3,"number",4,"ngFor","ngForOf"],[3,"number"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Dise\xf1o"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2),e.YNc(5,Ue,1,1,"app-box",3),e.qZA()),2&t&&(e.xp6(5),e.Q6J("ngForOf",e.DdM(1,we)))},dependencies:[p.sg,f.Ye,xe],styles:[".publicity-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;gap:2rem;flex-wrap:wrap;margin:2rem 0}.btn-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}"]}),n})();var D=_(3276),F=_(7637);let V=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getDesignInformation(){return this.http.get(`${this.url}api/design/`)}updateDesgin(t,i){return this.http.put(this.url+"api/design/"+t+"/",i).subscribe(o=>{console.log(o)})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(I.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var $=_(4870);let W=(()=>{class n{constructor(){this.title="Empezar",this.fontSize="1.6rem",this.styledPadding="1rem 1.5rem",this.color="white",this.color_background="red"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-button-game"]],inputs:{title:"title",fontSize:"fontSize",styledPadding:"styledPadding",color:"color",color_background:"color_background"},decls:2,vars:9,consts:[[1,"generic-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e._uU(1),e.qZA()),2&t&&(e.Udp("font-size",i.fontSize)("padding",i.styledPadding)("color",i.color)("background",i.color_background),e.xp6(1),e.hij(" ",i.title,"\n"))},styles:[".generic-btn[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1.6rem;margin:0;text-align:center;border-radius:15px;outline:none;border:none}"]}),n})();const Oe=function(n,r,t){return{"home-logo__container":n,logo__container:r,"logo__container-background":t}};let ne=(()=>{class n{constructor(){this.height="15rem",this.isHome=!0,this.isBackground=!1,this.urlImage=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-logo"]],inputs:{height:"height",isHome:"isHome",isBackground:"isBackground",urlImage:"urlImage"},decls:2,vars:8,consts:[[1,"p-0","m-0",3,"ngClass"],["alt","home-logo",1,"p-0","m-0",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"figure",0),e._UZ(1,"img",1),e.qZA()),2&t&&(e.Udp("height",i.height),e.Q6J("ngClass",e.kEZ(4,Oe,i.isHome,!i.isHome,i.isBackground)),e.xp6(1),e.Q6J("src",i.urlImage,e.LSH))},dependencies:[p.mk],styles:[".home-logo__container[_ngcontent-%COMP%]{position:absolute;height:15rem;left:calc(50% - 263px);top:calc(0% + 20px);z-index:2}.logo__container[_ngcontent-%COMP%]{position:absolute;height:15rem;top:calc(0% + 20px);z-index:2}.logo__container-background[_ngcontent-%COMP%]{position:absolute;height:15rem;top:calc(0% + 20px);left:calc(50% - 210px);z-index:2}img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),n})();function ke(n,r){if(1&n&&(e.TgZ(0,"figure",3),e._UZ(1,"img",4),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("src",t.image,e.LSH)}}const Me=function(n,r){return{"top-publicity":n,"bottom-publicity":r}};let H=(()=>{class n{constructor(){this.isTop=!0,this.publicityList=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-banner-publicity"]],inputs:{isTop:"isTop",publicityList:"publicityList"},decls:3,vars:5,consts:[[1,"container-fluid","publicity_container","p-0",3,"ngClass"],[1,"scroll-container"],["class","publicity_img-container",4,"ngFor","ngForOf"],[1,"publicity_img-container"],["alt","publicity-img",1,"publicity_img",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,ke,2,1,"figure",2),e.qZA()()),2&t&&(e.Q6J("ngClass",e.WLB(2,Me,i.isTop,!i.isTop)),e.xp6(2),e.Q6J("ngForOf",i.publicityList))},dependencies:[p.mk,p.sg],styles:[".publicity_container[_ngcontent-%COMP%]{background-color:#0ff;position:relative;height:4rem;display:flex;overflow:hidden;scroll-behavior:smooth}.scroll-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden;scroll-behavior:smooth;align-items:center}.publicity_img-container[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{padding:0;margin:0}.publicity_img-container[_ngcontent-%COMP%]{min-width:100%;height:100%}.publicity_img[_ngcontent-%COMP%]{width:100%;height:100%}.top-publicity[_ngcontent-%COMP%]{border-top-left-radius:27px;border-top-right-radius:27px}.bottom-publicity[_ngcontent-%COMP%]{border-bottom-left-radius:27px;border-bottom-right-radius:27px}"]}),n})();const Ie=["takeInput"],Ne=function(n){return{color:n}};let Se=(()=>{class n{constructor(t,i,o,a,c,l,d){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=o,this.dialogService=a,this.theme=c,this.dashStyle=l,this.imageSrv=d,this.availableSpin="HAZ GANADO!!!",this.previsualizacion=""}ngOnInit(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.previsualizacion=this.dashStyle.get_image_winner(),console.log(i[0])})})}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsualizacion=i.base,this.dashStyle.setImageWinnerGameFile(this.fileToUpload)})):(this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}updateWinner(){this.dialogService.open({title:"ACTUALIZAR RESULTADO",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR INFORMACION DE RESULTADO",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i&&this.fileToUpload){let o=new FormData;o.append("id","1"),o.append("image_winner",this.dashStyle.getImageWinnerGameFile(),this.dashStyle.getImageWinnerGameFile().name),o.append("date_modified",(new Date).toISOString()),o.append("game_id","1"),this.theme.updateDesgin(1,o),this.snackbar.mensaje("Informacion Escaner Actualizada exitosamente")}})}cancel(){this.previsualizacion=this.dashStyle.get_image_winner()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D.E),e.Y36(F.U),e.Y36(h.o),e.Y36(b),e.Y36(V),e.Y36($.T),e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-winner-design"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ie,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:43,vars:13,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"savescreen-info__container"],[1,"publicity__title","white-color"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#d4d4d4",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"],["height","1.5rem",1,"logo-container",3,"isHome","isBackground","urlImage"],[1,"information-game-container"],[1,"info-game__text"],[1,"info-game__text",3,"ngStyle"],[1,"spinner__container"],[1,"award-box-container"],["alt","cajon-premios",1,"awards-box",3,"src"],[1,"awards-container"],[1,"awards-column"],[1,"award-image-container"],["src","../../../../../assets/img/logoejemplo.png","alt",""],[1,"award-box-container","congratulations-image"],["alt"," ' ",1,"awards-box",3,"src"],["title","Girar","styledPadding",".5rem 1rem","fontSize","1rem",1,"menu-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"winner-design works!"),e.qZA(),e.TgZ(2,"mat-toolbar",0)(3,"span"),e._uU(4,"Resultado"),e.qZA(),e._UZ(5,"span",1),e.qZA(),e.TgZ(6,"div",2)(7,"div",3)(8,"div",4)(9,"p",5),e._uU(10,"Imagen Ganador:"),e.qZA(),e.TgZ(11,"div",6)(12,"input",7,8),e.NdJ("change",function(a){return i.capturarFile(a)}),e.qZA()(),e.TgZ(14,"div",9)(15,"app-button-primary",10),e.NdJ("click",function(){return i.updateWinner()}),e.qZA(),e.TgZ(16,"app-button-primary",11),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(17,"div",12)(18,"div",13),e._UZ(19,"app-banner-publicity",14),e.TgZ(20,"div",15),e._UZ(21,"app-logo",16),e.TgZ(22,"div",17)(23,"div",18)(24,"p",19),e._uU(25),e.qZA()()(),e.TgZ(26,"div",20)(27,"figure",21),e._UZ(28,"img",22),e.qZA(),e.TgZ(29,"div",23)(30,"div",24)(31,"figure",25),e._UZ(32,"img",26),e.qZA()(),e.TgZ(33,"div",24)(34,"figure",25),e._UZ(35,"img",26),e.qZA()(),e.TgZ(36,"div",24)(37,"figure",25),e._UZ(38,"img",26),e.qZA()()(),e.TgZ(39,"figure",27),e._UZ(40,"img",28),e.qZA()(),e._UZ(41,"app-button-game",29),e.qZA(),e._UZ(42,"app-banner-publicity",14),e.qZA()()()),2&t&&(e.xp6(19),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("isHome",!1)("isBackground",!1)("urlImage",i.dashStyle.get_image_logo_game()),e.xp6(3),e.Q6J("ngStyle",e.VKq(11,Ne,i.dashStyle.get_color_text())),e.xp6(1),e.hij(" ",i.availableSpin," "),e.xp6(3),e.Q6J("src",i.dashStyle.get_image_machine_game(),e.LSH),e.xp6(12),e.Q6J("src",i.previsualizacion,e.LSH),e.xp6(2),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[p.PC,f.Ye,N,W,ne,H],styles:['.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:.5rem;padding-left:.5rem}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:15px;align-items:center;height:20rem}.logo-container[_ngcontent-%COMP%]{margin-right:3rem;height:2.5rem}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:14rem}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 23px);bottom:25px}.menu-container_scan-img-container[_ngcontent-%COMP%]{height:3rem;width:3rem}.menu__input[_ngcontent-%COMP%]{border:3px solid red;outline:none;border-radius:13px;background-color:#000;color:#fff;padding:.2rem .5rem}.menu__input[_ngcontent-%COMP%]::placeholder{color:#fff}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}img[_ngcontent-%COMP%]{width:100%;height:100%}figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png, jpg, jpeg)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.information-game-container[_ngcontent-%COMP%]{background-color:#ffaf00;width:100%;display:flex;justify-content:center;height:2rem;align-items:center}.spinner__container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;height:47%;width:100%;max-height:202px}.awards-container[_ngcontent-%COMP%]{position:absolute;top:46px;left:calc(50% - 118px);display:flex;justify-content:center;gap:1.5rem;z-index:4;overflow:hidden}.awards-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;height:6rem;animation-duration:4s;animation-name:slidevertical;animation-iteration-count:infinite}.award-image-container[_ngcontent-%COMP%]{height:3rem;width:4rem}.award-box-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-width:766px}.congratulations-image[_ngcontent-%COMP%]{position:absolute}']}),n})();var s=_(4006);let X=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAwardConditionFilter(t){return this.http.get(this.url+"api/awardconditionfilter/"+t)}getAward(){return this.http.get(this.url+"api/awardfilter/?is_active=true")}getAwardConditionbyId(t){return this.http.get(this.url+"api/awardcondition/"+t+"/")}postAwardCondition(t){return this.http.post(this.url+"api/awardcondition/",t)}putAwardCondition(t,i){return this.http.put(this.url+"api/awardcondition/"+t+"/",i)}deleteAwardCondition(t){return this.http.delete(this.url+"api/awardcondition/"+t+"/")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(I.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAward(){return this.http.get(this.url+"api/awardlist/")}getAwardbyId(t){return this.http.get(this.url+"api/award/"+t+"/")}getAwardbyIdVisualizer(t){return this.http.get(this.url+"api/awardlist/"+t+"/")}postAward(t){return this.http.post(this.url+"api/award/",t)}putAward(t,i){return this.http.put(this.url+"api/award/"+t+"/",i)}deleteAward(t){return this.http.delete(this.url+"api/award/"+t+"/")}getFilterAward(t){return this.http.get(this.url+"api/awardfilter/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(I.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var u=_(1390),g=_(9549),Z=_(7392),y=_(4385),x=_(3238),P=_(3546),oe=_(9602),fe=_(2953);function Ee(n,r){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function De(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let Fe=(()=>{class n{constructor(t,i,o,a,c,l,d){this.fb=t,this.awardConditionSrv=i,this.awardSrv=o,this.snackbar=a,this.dialogService=c,this.router=l,this.activerouter=d,this.minDate=new Date,this.award_condition_id=Number(this.activerouter.snapshot.paramMap.get("id")),this.img_upload="assets/img/regalo.png",this.previsulizacion=this.img_upload,this.stock_actual=0,this.award_name="",this.startDate=new Date,this.endDate=new Date,this.beginDate=new Date,this.finishDate=new Date,this.award_condition=[],this.form=this.fb.group({startTime:["",s.kI.required],endTime:["",s.kI.required],award:["",s.kI.required]})}ngOnInit(){var t=this;return A(function*(){t.getAward(),yield t.getAwardConditionId(t.award_condition_id);let i=(new Date).getFullYear(),o=(new Date).getMonth(),a=(new Date).getDate();t.minDate=new Date(i,o,a)})()}cancel(){this.router.navigate(["/dashboard/premios/condicion"])}getAward(){this.awardConditionSrv.getAward().subscribe(t=>{this.award_condition=t})}getAwardConditionId(t){var i=this;return A(function*(){i.awardConditionSrv.getAwardConditionbyId(t).subscribe(o=>{i.imgAward(o.award);let a=o.start_date.split(" ")[1].split(":")[0],c=o.start_date.split(" ")[1].split(":")[1],l=o.end_date.split(" ")[1].split(":")[0],d=o.end_date.split(" ")[1].split(":")[1];i.form.controls.award.setValue(o.award.toString()),i.form.controls.startTime.setValue({hour:Number(a),minute:Number(c)}),i.form.controls.endTime.setValue({hour:Number(l),minute:Number(d)}),i.beginDate=new Date(o.start_date_nf),i.finishDate=new Date(o.end_date_nf)},o=>{i.dialogService.error(o.error)})})()}changetime(){var t=this;return A(function*(){let i=t.form.value.startTime.hour,o=t.form.value.startTime.minute,a=t.form.value.endTime.hour,c=t.form.value.endTime.minute,l=t.beginDate.toISOString().split("T")[0];const[d,T,w]=l.split("-");let ie=t.finishDate.toISOString().split("T")[0];const[ce,le,me]=ie.split("-");t.startDate=new Date(parseInt(d),parseInt(T)-1,parseInt(w),parseInt(i),parseInt(o)),t.endDate=new Date(parseInt(ce),parseInt(le)-1,parseInt(me),parseInt(a),parseInt(c))})()}editAwardCondition(){var t=this;return A(function*(){t.form.valid?(yield t.changetime(),t.dialogService.open({title:"CREAR PREMIO CONDICIONADO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO PREMIO CONDICIONADO?",cancelText:"CANCELAR",confirmText:"EDITAR"}),t.dialogService.confirmed().subscribe(o=>{if(o){let a=new FormData,c=1,l=localStorage.getItem("user_id");a.append("start_date",t.startDate.toISOString().split(".")[0]),a.append("end_date",t.endDate.toISOString().split(".")[0]),a.append("award",t.form.get("award")?.value),a.append("game",c.toString()),a.append("user_modify",l),t.awardConditionSrv.putAwardCondition(t.award_condition_id,a).subscribe(d=>{t.snackbar.mensaje("Premio Condicionado Actualizado Exitosamente"),t.router.navigate(["dashboard/premios/condicion"])},d=>{t.dialogService.error(d.error)})}})):t.snackbar.mensaje("Complete todos los campos")})()}imgAward(t){this.awardSrv.getAwardbyId(t).subscribe(i=>{this.previsulizacion=i.imagen,this.stock_actual=i.current_stock,this.award_name=i.name})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(X),e.Y36(S),e.Y36(h.o),e.Y36(b),e.Y36(u.F0),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-awards-condition"]],decls:48,vars:16,consts:[[1,"example-spacer"],[3,"formGroup"],[1,"condition_container"],[1,"container"],[1,"register_container"],[1,"form_container"],["formControlName","award","mat-select","",3,"disabled","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"img_container"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"date_container"],[1,"calendar"],[1,"input-date","green-primary"],[1,"calendar__card"],[1,"demo-inline-calendar-card","background-navy-primary","green-primary"],[1,"green-primary",3,"selected","startAt","minDate","selectedChange"],[1,"time_container"],["formControlName","startTime",1,"time",3,"meridian"],["formControlName","endTime",3,"meridian"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"form",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"mat-form-field")(10,"label"),e._uU(11,"Premios"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"label"),e._uU(14),e.qZA(),e.TgZ(15,"mat-select",6),e.NdJ("selectionChange",function(a){return i.imgAward(a.value)}),e.YNc(16,Ee,2,2,"mat-option",7),e.qZA(),e.TgZ(17,"mat-hint"),e._uU(18,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(19,De,2,0,"mat-error",8),e.qZA()(),e.TgZ(20,"div",9),e._UZ(21,"img",10),e.qZA()(),e.TgZ(22,"div",11)(23,"button",12),e.NdJ("click",function(){return i.cancel()}),e.TgZ(24,"mat-icon"),e._uU(25,"close"),e.qZA(),e._uU(26," Cancelar "),e.qZA(),e.TgZ(27,"button",13),e.NdJ("click",function(){return i.editAwardCondition()}),e.TgZ(28,"mat-icon"),e._uU(29,"done"),e.qZA(),e._uU(30," Guardar "),e.qZA()()(),e.TgZ(31,"div",14)(32,"div",15)(33,"p",16),e._uU(34,"Fecha Inicio"),e.qZA(),e.TgZ(35,"div",17)(36,"mat-card",18)(37,"mat-calendar",19),e.NdJ("selectedChange",function(a){return i.beginDate=a}),e.qZA()()(),e.TgZ(38,"div",20),e._UZ(39,"ngb-timepicker",21),e.qZA()(),e.TgZ(40,"div",15)(41,"p",16),e._uU(42,"Fecha Fin"),e.qZA(),e.TgZ(43,"div",17)(44,"mat-card",18)(45,"mat-calendar",19),e.NdJ("selectedChange",function(a){return i.finishDate=a}),e.qZA()()(),e.TgZ(46,"div",20),e._UZ(47,"ngb-timepicker",22),e.qZA()()()()()),2&t&&(e.xp6(2),e.hij("Editar Premio Condicionado : ",i.award_name," "),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(10),e.AsE("Hay ",i.stock_actual," del premio: ",i.award_name,""),e.xp6(1),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("ngForOf",i.award_condition),e.xp6(3),e.Q6J("ngIf",i.form.controls.award.hasError("required")),e.xp6(2),e.Q6J("src",i.previsulizacion,e.LSH),e.xp6(16),e.Q6J("selected",i.beginDate)("startAt",i.beginDate)("minDate",i.minDate),e.xp6(2),e.Q6J("meridian",!0),e.xp6(6),e.Q6J("selected",i.finishDate)("startAt",i.finishDate)("minDate",i.minDate),e.xp6(2),e.Q6J("meridian",!0))},dependencies:[p.sg,p.O5,s._Y,s.JJ,s.JL,s.sg,s.u,g.TO,g.KE,g.bx,Z.Hw,C.lW,f.Ye,y.gD,x.ey,P.a8,oe._H,fe.Pm],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.condition_container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row}.date_container[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:row;justify-content:space-around}.container[_ngcontent-%COMP%]{margin-top:20px;width:60%;display:flex;flex-direction:column}.register_container[_ngcontent-%COMP%]{margin-top:20px;width:100%;display:flex;flex-direction:row}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:45%}.input-date[_ngcontent-%COMP%]{margin-top:20px;padding:.5rem 1.5rem;border:1px solid var(--color-principal);border-radius:15px;text-align:center}.calendar__card[_ngcontent-%COMP%]{padding:0 1rem}.time_container[_ngcontent-%COMP%]{display:flex;justify-content:center}.time[_ngcontent-%COMP%]{color:var(--color-principal)}.mat-form-field[_ngcontent-%COMP%]{width:95%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#fff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.form_container[_ngcontent-%COMP%]{width:40%}.img_container[_ngcontent-%COMP%]{display:flex;width:60%;height:250px}.img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% auto auto;width:85%;height:100%;border-radius:10px;object-fit:fill}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:10% 15px 15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})(),Q=(()=>{class n{constructor(t){this.router=t}canActivate(t,i){return"1"==localStorage.getItem("rol_id")||(this.router.navigate(["/dashboard"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(u.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getPermisos(){return this.http.get(this.url+"api/permission/")}getPermisosbyName(t){return this.http.get(this.url+"api/permissionfilter/?search="+t)}getPermisosbyRol(t){return this.http.get(this.url+"api/rolpermissionfilter/?rol="+t)}postPermisosbyRol(t){return this.http.post(this.url+"api/rolpermission/",t)}deletePermissionRol(t){return this.http.delete(this.url+"api/rolpermission/"+t+"/")}getPermisosbyRolandPermission(t,i){return this.http.get(this.url+"api/rolpermissionfilter/?rol="+t+"&permission="+i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(I.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}postRoles(t){return this.http.post(this.url+"api/rol/",t)}getRolbyId(t){return this.http.get(this.url+"api/rol/"+t+"/")}putRol(t,i){return this.http.put(this.url+"api/rol/"+t+"/",i)}deleteRol(t){return this.http.delete(this.url+"api/rol/"+t+"/")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(I.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ye(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",9)(2,"div",10)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",11)(6,"div",12)(7,"input",13),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onCheckboxChange(o))}),e.qZA(),e._UZ(8,"div",14)(9,"div",15),e.qZA()()()()}if(2&n){const t=r.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(3),e.s9C("id",t.id),e.Q6J("value",t.id)}}let Re=(()=>{class n{constructor(t,i,o,a,c,l,d){this.fb=t,this.permisoSrv=i,this.activerouter=o,this.router=a,this.roles_service=c,this.snackbar=l,this.dialogService=d,this.Lista_permisos=[],this.Permisos_eliminar=[],this.rol="",this.form=this.fb.group({ckeckArray:this.fb.array([])})}ngOnInit(){let t=Number(this.activerouter.snapshot.paramMap.get("id"));this.roles_service.getRolbyId(t).subscribe(i=>{this.rol=i.name}),this.cargarPermisos(),this.obtenerPermisosbyrol(t)}onCheckboxChange(t){const i=this.form.get("ckeckArray");if(t.target.checked)i.push(new s.NI(t.target.value));else{var o=0;i.controls.forEach(a=>{a.value!=t.target.value?o++:i.removeAt(o)})}}cargarPermisos(){this.permisoSrv.getPermisos().subscribe(t=>{this.Lista_permisos=t})}obtenerPermisosbyrol(t){this.permisoSrv.getPermisosbyRol(t).subscribe(i=>{const o=this.form.get("ckeckArray");for(let a=0;a<i.length;a++)this.cambiarcheckbox(i[a].permission.toString()),console.log("Permisos-roles",i[a].permission.toString()),o.push(new s.NI(i[a].permission.toString())),this.Permisos_eliminar.push(i[a].id.toString())},i=>{console.log("No se pudo obtener los permisos")})}cambiarcheckbox(t){const i=document.getElementById(t);null!=i&&(i.checked=!0)}regresarRoles(){this.router.navigate(["/dashboard/roles"])}guardarPermisos(){this.dialogService.open({title:"GUARDAR PERMISOS",message:"ESTA SEGURO QUE QUIERE CAMBIAR LOS PERMISOS DEL ROL?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(i=>{i&&this.guardarPermisosNuevos()})}eliminarPermisosViejos(){let t=this.Permisos_eliminar;if(t.length>0)for(let i=0;i<t.length;i++)this.permisoSrv.deletePermissionRol(Number(t[i])).subscribe(o=>{console.log(o)})}guardarPermisosNuevos(){this.eliminarPermisosViejos();let t=this.form.value.ckeckArray,i=Number(this.activerouter.snapshot.paramMap.get("id"));if(t.length>0){for(let o=0;o<t.length;o++){let a=Number(t[o]);this.permisoSrv.postPermisosbyRol({rol:i,permission:a}).subscribe(c=>{console.log("Permisos actualizados correctamente")})}this.snackbar.mensaje("Permisos actualizados correctamente"),this.router.navigate(["/dashboard/roles"])}else this.snackbar.mensaje("Este rol no tiene permisos"),this.router.navigate(["/dashboard/roles"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(j),e.Y36(u.gz),e.Y36(u.F0),e.Y36(K),e.Y36(h.o),e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-permisos-roles"]],decls:18,vars:3,consts:[[1,"example-spacer"],[1,"container_card"],[1,"container_permisos"],["novalidate","",3,"formGroup"],[1,"container"],[4,"ngFor","ngForOf"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"container_permiso"],[1,"permiso_nombre"],[1,"espaciado"],["id","button-3",1,"button","r"],["type","checkbox",1,"checkbox",3,"id","value","change"],[1,"knobs"],[1,"layer"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"div",2)(6,"form",3)(7,"div",4),e.YNc(8,Ye,10,3,"div",5),e.qZA()()(),e.TgZ(9,"div",6)(10,"button",7),e.NdJ("click",function(){return i.regresarRoles()}),e.TgZ(11,"mat-icon"),e._uU(12,"close"),e.qZA(),e._uU(13," Cancelar "),e.qZA(),e.TgZ(14,"button",8),e.NdJ("click",function(){return i.guardarPermisos()}),e.TgZ(15,"mat-icon"),e._uU(16,"done"),e.qZA(),e._uU(17," Guardar "),e.qZA()()()),2&t&&(e.xp6(2),e.hij("Rol: ",i.rol,""),e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("ngForOf",i.Lista_permisos))},dependencies:[p.sg,s._Y,s.JL,s.sg,Z.Hw,C.lW,f.Ye],styles:['[_ngcontent-%COMP%]:root{--color-principal: #00ffc5;--color-fondo-principal: #000910;--color-fondo-secundario: #002130;--color-letras: #ffffff;--color-ventanas: #055970;--color-cafe:#3f3f43}.container[_ngcontent-%COMP%]{margin:25px;flex-flow:row wrap;display:flex}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:25%}.label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.espaciado[_ngcontent-%COMP%]{margin-bottom:30px}.container_vistas[_ngcontent-%COMP%]{margin:25px;text-align:center}h2[_ngcontent-%COMP%]{margin:30px 0}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe);color:var(--color-letras)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;flex-direction:column}.container_permiso[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.permiso_nombre[_ngcontent-%COMP%]{margin-bottom:30px;color:var(--color-letras)}.knobs[_ngcontent-%COMP%], .layer[_ngcontent-%COMP%]{position:absolute;inset:0}.button[_ngcontent-%COMP%]{position:relative;top:50%;width:100px;height:40px;margin:-20px auto 0;overflow:hidden}.button.r[_ngcontent-%COMP%], .button.r[_ngcontent-%COMP%]   .layer[_ngcontent-%COMP%]{border-radius:10px}.checkbox[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;padding:0;margin:0;opacity:0;cursor:pointer;z-index:3}.knobs[_ngcontent-%COMP%]{z-index:2}.layer[_ngcontent-%COMP%]{width:100%;background-color:var(--color-letras);transition:.3s ease all;z-index:1}#button-3[_ngcontent-%COMP%]   .knobs[_ngcontent-%COMP%]:before{content:"NO";position:absolute;top:4px;left:4px;width:30px;height:30px;color:#fff;font-size:15px;font-weight:700;text-align:center;line-height:1;padding:9px 4px;background-color:var(--color-cafe);border-radius:20%;transition:.3s ease all,left .3s cubic-bezier(.18,.89,.35,1.15)}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:active + .knobs[_ngcontent-%COMP%]:before{width:46px;border-radius:100px}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked:active + .knobs[_ngcontent-%COMP%]:before{margin-left:-26px}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked + .knobs[_ngcontent-%COMP%]:before{content:"SI";left:65px;background-color:var(--color-principal);color:var(--color-fondo-secundario)}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked ~ .layer[_ngcontent-%COMP%]{background-color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}']}),n})();var U=_(4144);function Je(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Qe(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ge(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let je=(()=>{class n{constructor(t,i,o,a,c,l){this.router=t,this.fb=i,this.rol=o,this.activerouter=a,this.snackbar=c,this.dialogService=l,this.editar_rol={id:0,name:"",description:"",is_active:!0},this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],is_active:["",s.kI.required]})}ngOnInit(){let t=this.activerouter.snapshot.paramMap.get("id");this.rol.getRolbyId(Number(t)).subscribe(i=>{this.editar_rol=i,this.form.controls.name.setValue(this.editar_rol.name),this.form.controls.description.setValue(this.editar_rol.description),this.form.controls.is_active.setValue(this.editar_rol.is_active.toString())})}regresarRoles(){this.router.navigate(["/dashboard/roles"])}editarRol(){let t=this.activerouter.snapshot.paramMap.get("id");if(this.form.valid){const i={title:"EDITAR ROLES",message:"\xbfEST\xc1 SEGURO QUE QUIERE EDITAR EL ROL "+this.form.get("name")?.value+"?",cancelText:"CANCELAR",confirmText:"EDITAR"};this.dialogService.open(i),this.dialogService.confirmed().subscribe(o=>{if(o){let a=new FormData;a.append("name",this.form.get("name")?.value),a.append("description",this.form.get("description")?.value),a.append("is_active",this.form.get("is_active")?.value),a.append("rol_request",localStorage.getItem("rol_id")||""),this.rol.putRol(Number(t),a).subscribe(c=>{this.snackbar.mensaje("Rol Actualizado Exitosamente"),this.router.navigate(["/dashboard/roles"])},c=>{this.dialogService.error(c.error)})}})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(s.qu),e.Y36(K),e.Y36(u.gz),e.Y36(h.o),e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles-editar"]],decls:42,vars:5,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"form",2)(6,"mat-form-field")(7,"label"),e._uU(8,"Nombre"),e.qZA(),e.TgZ(9,"div",3),e._UZ(10,"input",4),e.qZA(),e.TgZ(11,"mat-hint"),e._uU(12,"Nombre del Rol"),e.qZA(),e.YNc(13,Je,2,0,"mat-error",5),e.qZA(),e.TgZ(14,"mat-form-field")(15,"label"),e._uU(16,"Descripci\xf3n"),e.qZA(),e.TgZ(17,"div",3),e._UZ(18,"input",6),e.qZA(),e.TgZ(19,"mat-hint"),e._uU(20,"Descripci\xf3n del Rol"),e.qZA(),e.YNc(21,Qe,2,0,"mat-error",5),e.qZA(),e.TgZ(22,"mat-form-field")(23,"label"),e._uU(24,"Estado"),e.qZA(),e.TgZ(25,"mat-select",7)(26,"mat-option",8),e._uU(27,"Activo"),e.qZA(),e.TgZ(28,"mat-option",9),e._uU(29,"Inactivo"),e.qZA()(),e.TgZ(30,"mat-hint"),e._uU(31,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(32,Ge,2,0,"mat-error",5),e.qZA()(),e.TgZ(33,"div",10)(34,"button",11),e.NdJ("click",function(){return i.regresarRoles()}),e.TgZ(35,"mat-icon"),e._uU(36,"close"),e.qZA(),e._uU(37," Cancelar "),e.qZA(),e.TgZ(38,"button",12),e.NdJ("click",function(){return i.editarRol()}),e.TgZ(39,"mat-icon"),e._uU(40,"done"),e.qZA(),e._uU(41," Guardar "),e.qZA()()()),2&t&&(e.xp6(2),e.hij("Editar Rol: ",i.editar_rol.name,""),e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")))},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,g.TO,g.KE,g.bx,U.Nt,Z.Hw,C.lW,f.Ye,y.gD,x.ey],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})(),G=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getMenu(){return this.http.get("/assets/data/menu.json")}getUsuarios(t){return this.http.get(this.url+"api/userfilter/"+t)}getUsuarioId(t){return this.http.get(this.url+"api/user/"+t+"/")}getRolbyName(t){return this.http.get(this.url+"api/rolfilter/?name="+t)}postUsuarios(t){return this.http.post(this.url+"api/user/",t)}putUsuario(t,i){return this.http.put(this.url+"api/user/"+t+"/",i)}deleteUsuario(t){return this.http.delete(this.url+"api/user/"+t+"/")}getRoles(){return this.http.get(this.url+"api/rol/")}getRolesFilter(t){return this.http.get(this.url+"api/rolfilter/"+t)}getfilteUsuariobyRol(t){return this.http.get(this.url+"api/userfilter/?rol="+t)}postCambiarContrase\u00f1a(t,i){return this.http.post(this.url+"api/user/"+t+"/change_password/",i)}postCambiarisActivate(t){return this.http.post(this.url+"api/user/"+t+"/activate_user/",null)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(I.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Le(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Be(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ze(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function He(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ve(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function $e(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function We(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Xe(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ke(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function et(n,r){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function tt(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function it(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let nt=(()=>{class n{constructor(t,i,o,a,c,l){this.api=t,this.fb=i,this.router=o,this.activerouter=a,this.snackBar=c,this.dialogService=l,this.roles=[],this.id_rol=0,this.usuarioget={id:0,cedula:"",names:"",surnames:"",username:"",email:"",phone:"",password:"",sex:"",address:"",rol:"",is_active:!0,created:"",modified:"",last_session:""},this.form=this.fb.group({cedula:["",s.kI.required],username:["",s.kI.required],names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),phone:["",s.kI.required],sex:["",s.kI.required],address:["",s.kI.required],rol:["",s.kI.required],is_active:["",s.kI.required]})}ngOnInit(){let t=this.activerouter.snapshot.paramMap.get("id");this.cargarRoles(),this.api.getUsuarioId(Number(t)).subscribe(i=>{this.usuarioget=i,this.form.controls.cedula.setValue(this.usuarioget.cedula),this.form.controls.username.setValue(this.usuarioget.username),this.form.controls.names.setValue(this.usuarioget.names),this.form.controls.surnames.setValue(this.usuarioget.surnames),this.form.controls.email.setValue(this.usuarioget.email),this.form.controls.phone.setValue(this.usuarioget.phone),this.form.controls.sex.setValue(this.usuarioget.sex),this.form.controls.address.setValue(this.usuarioget.address),this.api.getRolbyName(this.usuarioget.rol).subscribe(o=>{this.form.controls.rol.setValue(o[0].id.toString())}),this.form.controls.is_active.setValue(this.usuarioget.is_active.toString())})}regresarUsuarios(){this.router.navigate(["/dashboard/usuarios"])}cargarRoles(){this.api.getRoles().subscribe(t=>{this.roles=t})}actualizarUsuario(){let t=this.activerouter.snapshot.paramMap.get("id");if(this.form.valid){const i={title:"EDITAR USUARIO",message:"\xbfEST\xc1 SEGURO QUE QUIERE ACTUALIZAR EL USUARIO "+this.form.get("names")?.value+" "+this.form.get("surnames")?.value+"?",cancelText:"CANCELAR",confirmText:"EDITAR"};this.dialogService.open(i),this.dialogService.confirmed().subscribe(o=>{if(o){let a=new FormData;a.append("cedula",this.form.get("cedula")?.value),a.append("username",this.form.get("username")?.value),a.append("names",this.form.get("names")?.value),a.append("surnames",this.form.get("surnames")?.value),a.append("email",this.form.get("email")?.value),a.append("phone",this.form.get("phone")?.value),a.append("sex",this.form.get("sex")?.value),a.append("address",this.form.get("address")?.value),a.append("rol",this.form.get("rol")?.value),a.append("is_active",this.form.get("is_active")?.value),a.append("rol_request",localStorage.getItem("rol_id")||""),this.api.putUsuario(Number(t),a).subscribe(c=>{this.snackBar.mensaje("Usuario Actualizado Exitosamente"),this.router.navigate(["/dashboard/usuarios"])},c=>{this.dialogService.error(c.error)})}})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G),e.Y36(s.qu),e.Y36(u.F0),e.Y36(u.gz),e.Y36(h.o),e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editar-usuarios"]],decls:104,vars:17,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["autocomplete","off","formControlName","username","type","text","matInput",""],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["formControlName","sex"],["value","F"],["value","M"],["autocomplete","off","formControlName","address","type","text","matInput",""],["formControlName","rol","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"form",2)(6,"mat-form-field")(7,"label"),e._uU(8,"C\xe9dula"),e.qZA(),e.TgZ(9,"div",3),e._UZ(10,"input",4,5),e.qZA(),e.TgZ(12,"mat-hint",6),e._uU(13),e.qZA(),e.YNc(14,Le,2,0,"mat-error",7),e.qZA(),e.TgZ(15,"mat-form-field")(16,"label"),e._uU(17,"Username"),e.qZA(),e.TgZ(18,"div",3),e._UZ(19,"input",8),e.qZA(),e.TgZ(20,"mat-hint"),e._uU(21,"Nombre del usuario"),e.qZA(),e.YNc(22,Be,2,0,"mat-error",7),e.qZA(),e.TgZ(23,"mat-form-field")(24,"label"),e._uU(25,"Nombres"),e.qZA(),e.TgZ(26,"div",3),e._UZ(27,"input",9),e.qZA(),e.TgZ(28,"mat-hint"),e._uU(29,"Nombre completo"),e.qZA(),e.YNc(30,ze,2,0,"mat-error",7),e.qZA(),e.TgZ(31,"mat-form-field")(32,"label"),e._uU(33,"Apellidos"),e.qZA(),e.TgZ(34,"div",3),e._UZ(35,"input",10),e.qZA(),e.TgZ(36,"mat-hint"),e._uU(37,"Apellido paterno y materno"),e.qZA(),e.YNc(38,He,2,0,"mat-error",7),e.qZA(),e.TgZ(39,"mat-form-field")(40,"label"),e._uU(41,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(42,"div",3),e._UZ(43,"input",11),e.qZA(),e.TgZ(44,"mat-hint"),e._uU(45,"Correo electr\xf3nico"),e.qZA(),e.YNc(46,Ve,2,0,"mat-error",7),e.YNc(47,$e,2,0,"mat-error",7),e.qZA(),e.TgZ(48,"mat-form-field")(49,"label"),e._uU(50,"Tel\xe9fono"),e.qZA(),e.TgZ(51,"div",3),e._UZ(52,"input",12,13),e.qZA(),e.TgZ(54,"mat-hint",6),e._uU(55),e.qZA(),e.YNc(56,We,2,0,"mat-error",7),e.qZA(),e.TgZ(57,"mat-form-field")(58,"label"),e._uU(59,"Sexo"),e.qZA(),e.TgZ(60,"mat-select",14)(61,"mat-option",15),e._uU(62,"Femenino"),e.qZA(),e.TgZ(63,"mat-option",16),e._uU(64,"Masculino"),e.qZA()(),e.TgZ(65,"mat-hint"),e._uU(66,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(67,Xe,2,0,"mat-error",7),e.qZA(),e.TgZ(68,"mat-form-field")(69,"label"),e._uU(70,"Direcci\xf3n"),e.qZA(),e.TgZ(71,"div",3),e._UZ(72,"input",17),e.qZA(),e.TgZ(73,"mat-hint"),e._uU(74,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(75,Ke,2,0,"mat-error",7),e.qZA(),e.TgZ(76,"mat-form-field")(77,"label"),e._uU(78,"Rol"),e.qZA(),e.TgZ(79,"mat-select",18),e.YNc(80,et,2,2,"mat-option",19),e.qZA(),e.TgZ(81,"mat-hint"),e._uU(82,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(83,tt,2,0,"mat-error",7),e.qZA(),e.TgZ(84,"mat-form-field")(85,"label"),e._uU(86,"Estado"),e.qZA(),e.TgZ(87,"mat-select",20)(88,"mat-option",21),e._uU(89,"Activo"),e.qZA(),e.TgZ(90,"mat-option",22),e._uU(91,"Inactivo"),e.qZA()(),e.TgZ(92,"mat-hint"),e._uU(93,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(94,it,2,0,"mat-error",7),e.qZA()(),e.TgZ(95,"div",23)(96,"button",24),e.NdJ("click",function(){return i.regresarUsuarios()}),e.TgZ(97,"mat-icon"),e._uU(98,"close"),e.qZA(),e._uU(99," Cancelar "),e.qZA(),e.TgZ(100,"button",25),e.NdJ("click",function(){return i.actualizarUsuario()}),e.TgZ(101,"mat-icon"),e._uU(102,"done"),e.qZA(),e._uU(103," Guardar "),e.qZA()()()),2&t){const o=e.MAs(11),a=e.MAs(53);e.xp6(2),e.AsE("Editar Usuario : ",i.usuarioget.names," ",i.usuarioget.surnames,""),e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.cedula.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.username.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("email")),e.xp6(8),e.hij(" ",a.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.phone.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.address.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.roles),e.xp6(3),e.Q6J("ngIf",i.form.controls.rol.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required"))}},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,g.TO,g.KE,g.bx,U.Nt,Z.Hw,C.lW,f.Ye,y.gD,x.ey],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})(),ot=(()=>{class n{constructor(t,i){this.api=t,this.router=i,this.usuarioget={id:0,cedula:"",names:"",surnames:"",username:"",email:"",phone:"",password:"",sex:"",address:"",rol:"",is_active:!0,created:"",modified:"",last_session:""}}ngOnInit(){this.obtenerUsuario()}obtenerUsuario(){const t=localStorage.getItem("user_id");t&&this.api.getUsuarioId(Number(t)).subscribe(i=>{this.usuarioget=i},i=>console.log(i))}cambiarContrasenia(){this.router.navigate(["/dashboard/cambiar-contrase\xf1a"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-inicio"]],decls:15,vars:2,consts:[[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"green-primary"],[1,"body","green-primary"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e.NdJ("click",function(){return i.cambiarContrasenia()}),e.TgZ(2,"div",2)(3,"div",3)(4,"mat-icon",4),e._uU(5,"password"),e.qZA()(),e.TgZ(6,"span"),e._uU(7,"Cambiar Contrase\xf1a"),e.qZA()()()(),e.TgZ(8,"div",5)(9,"h1"),e._uU(10,"Bienvenido"),e.qZA(),e.TgZ(11,"h1"),e._uU(12),e.qZA(),e.TgZ(13,"h1"),e._uU(14),e.qZA()()),2&t&&(e.xp6(12),e.Oqu(i.usuarioget.names),e.xp6(2),e.Oqu(i.usuarioget.surnames))},dependencies:[Z.Hw,C.lW],styles:[".body[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;align-items:center;flex-direction:column}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px;margin-right:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}"]}),n})();var rt=_(7887),at=_(1782),re=_(3267),Y=_(6338);function st(n,r){if(1&n&&(e.TgZ(0,"a",11)(1,"mat-icon",12),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&n){const t=r.$implicit;e.Q6J("routerLink",t.ruta),e.xp6(2),e.Oqu(t.icono),e.xp6(1),e.hij(" ",t.nombre,"")}}let ct=(()=>{class n{constructor(t,i,o,a){this.api=t,this.router=i,this.puente=o,this.auth=a,this.Titulo="Menu",this.Titulo2="App Juegos",this.menu=[]}ngOnInit(){this.cargarMenu()}cargarMenu(){this.api.getMenu().subscribe(t=>{if("1"!=localStorage.getItem("rol_id"))for(let i=0;i<t.length;i++)"Usuarios"!=t[i].nombre&&"Roles"!=t[i].nombre&&this.menu.push(t[i]);else this.menu=t})}logout(){let t;if(localStorage.getItem("token")){let i=new FormData;t=localStorage.getItem("refresh"),i.append("refresh",t),this.auth.Logout(i).subscribe(o=>{this.router.navigate(["/juego"]),localStorage.clear(),rt.s.accessToken=""},o=>console.log(o))}else this.router.navigate(["/juego"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G),e.Y36(u.F0),e.Y36(I.Q),e.Y36(at.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-menu"]],decls:23,vars:3,consts:[[1,"example-container"],[1,"example-toolbar","background-black-primary","green-primary"],["mat-icon-button","",3,"click"],[1,"example-app-name"],[1,"example-spacer"],[1,"example-sidenav-container","background-black-primary"],[1,"background-navy-primary"],["snav",""],["class","menu","mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],[1,"Logout"],["mat-raised-button","",3,"click"],["mat-list-item","",1,"menu",3,"routerLink"],[1,"icono"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(13);return e.KtG(c.toggle())}),e.TgZ(3,"mat-icon"),e._uU(4,"menu"),e.qZA()(),e.TgZ(5,"h1",3),e._uU(6),e.qZA(),e._UZ(7,"span",4),e.TgZ(8,"h1",3),e._uU(9),e.qZA(),e._UZ(10,"span",4),e.qZA(),e.TgZ(11,"mat-sidenav-container",5)(12,"mat-sidenav",6,7)(14,"mat-nav-list"),e.YNc(15,st,4,3,"a",8),e.qZA(),e.TgZ(16,"div",9)(17,"button",10),e.NdJ("click",function(){return i.logout()}),e.TgZ(18,"mat-icon"),e._uU(19,"logout"),e.qZA(),e._uU(20," CERRAR SESI\xd3N "),e.qZA()()(),e.TgZ(21,"mat-sidenav-content"),e._UZ(22,"router-outlet"),e.qZA()()()}2&t&&(e.xp6(6),e.Oqu(i.Titulo),e.xp6(3),e.Oqu(i.Titulo2),e.xp6(6),e.Q6J("ngForOf",i.menu))},dependencies:[p.sg,Z.Hw,C.lW,f.Ye,re.JX,re.TM,re.Rh,Y.Hk,Y.Tg,u.lC,u.yS],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;inset:0}.example-is-mobile[_ngcontent-%COMP%]   .example-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:2}h1.example-app-name[_ngcontent-%COMP%]{margin-left:8px}.example-sidenav-container[_ngcontent-%COMP%]{flex:1}.mat-sidenav[_ngcontent-%COMP%]{width:15%}.icono[_ngcontent-%COMP%]{margin-right:10px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.menu[_ngcontent-%COMP%]{color:#fff}.Logout[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;text-align:center;margin-left:25px}.Logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px;padding-bottom:15px}a[_ngcontent-%COMP%]:hover{color:var(--color-principal)}mat-sidenav[_ngcontent-%COMP%]{padding-bottom:70px}"]}),n})(),lt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"app-menu")},dependencies:[ct]}),n})();var m=_(7155),k=_(8739),q=_(6308),L=_(266);function mt(n,r){if(1&n&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function pt(n,r){1&n&&(e.TgZ(0,"th",32),e._uU(1,"C\xe9dula"),e.qZA())}function ut(n,r){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.cedula)}}function dt(n,r){1&n&&(e.TgZ(0,"th",34),e._uU(1," Nombres "),e.qZA())}function gt(n,r){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.names)}}function _t(n,r){1&n&&(e.TgZ(0,"th",34),e._uU(1," Apellidos "),e.qZA())}function ft(n,r){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.surnames)}}function ht(n,r){1&n&&(e.TgZ(0,"th",34),e._uU(1," Correo Electr\xf3nico "),e.qZA())}function bt(n,r){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.email)}}function Ct(n,r){1&n&&(e.TgZ(0,"th",32),e._uU(1," Tel\xe9fono M\xf3vil "),e.qZA())}function Zt(n,r){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.phone)}}function vt(n,r){1&n&&(e.TgZ(0,"th",32),e._uU(1,"Sexo"),e.qZA())}function Tt(n,r){1&n&&(e.TgZ(0,"div")(1,"mat-icon",0),e._uU(2,"male"),e.qZA()())}function At(n,r){1&n&&(e.TgZ(0,"div")(1,"mat-icon",0),e._uU(2,"female"),e.qZA()())}function yt(n,r){if(1&n&&(e.TgZ(0,"td",33),e.YNc(1,Tt,3,0,"div",35),e.YNc(2,At,3,0,"ng-template",null,36,e.W1O),e.qZA()),2&n){const t=r.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf","M"==t.sex)("ngIfElse",i)}}function xt(n,r){1&n&&(e.TgZ(0,"th",32),e._uU(1,"Rol"),e.qZA())}function qt(n,r){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.rol)}}function Ut(n,r){1&n&&e._UZ(0,"th",37)}function wt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.visualizarUsuario(o.id))}),e.TgZ(2,"mat-icon",40),e._uU(3,"remove_red_eye"),e.qZA()(),e.TgZ(4,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.editarUsuario(o.id))}),e.TgZ(5,"mat-icon",40),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.eliminarUsuario(o.id))}),e.TgZ(8,"mat-icon",0),e._uU(9,"delete"),e.qZA()()()}}function Pt(n,r){if(1&n&&(e.TgZ(0,"td",33),e.YNc(1,wt,10,0,"div",38),e.qZA()),2&n){const t=r.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",1!=t.id&&t.id!=i.user_id)}}function Ot(n,r){1&n&&e._UZ(0,"tr",43)}function kt(n,r){1&n&&e._UZ(0,"tr",44)}function Mt(n,r){if(1&n&&(e.TgZ(0,"tr",45)(1,"td",46),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(18);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const It=function(){return[5,10,25,100]};let Nt=(()=>{class n{constructor(t,i,o,a,c){this.api=t,this.router=i,this.dialog=o,this.snackbar=a,this.dialogService=c,this.Filters=[{id:"?rol=&is_active=true",name:"Usuarios Activos"},{id:"?rol=&is_active=false",name:"Usuarios Inactivos"},{id:"?ordering=-created",name:"Ultimos Usuarios Creados"},{id:"?ordering=created",name:"Primeros Usuarios Creados"}],this.filter_default="?ordering=-created",this.Titulo="Usuarios",this.displayedColumns=["cedula","names","surnames","email","phone","sex","rol","Acciones"],this.user_id=Number(localStorage.getItem("user_id"))}ngOnInit(){this.cargarUsuarios(this.filter_default)}cargarUsuarios(t){this.api.getUsuarios(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}editarUsuario(t){this.router.navigate(["dashboard/usuarios/editar",t])}agregarUsuario(){this.router.navigate(["dashboard/usuarios/crear"])}visualizarUsuario(t){this.router.navigate(["dashboard/usuarios/visualizar",t])}eliminarUsuario(t){"1"==localStorage.getItem("rol_id")?(this.dialogService.open({title:"ELIMINAR USUARIO",message:"ESTA SEGURO QUE QUIERE ELIMINAR EL USUARIO?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(o=>{o&&this.api.deleteUsuario(t).subscribe(a=>{this.snackbar.mensaje("Usuario Eliminado Exitosamente"),this.cargarUsuarios(this.filter_default)},a=>{this.dialogService.error(a.error),this.cargarUsuarios(this.filter_default)})})):this.snackbar.mensaje("No tienes permiso para Eliminar Usuarios")}filter(t){this.cargarUsuarios(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G),e.Y36(u.F0),e.Y36(O.uw),e.Y36(h.o),e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-usuarios"]],viewQuery:function(t,i){if(1&t&&(e.Gf(k.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:52,vars:7,consts:[[1,"green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","cedula"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","names"],["class","ancho_columna","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","surnames"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","sex"],["matColumnDef","rol"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"ancho_columna"],[4,"ngIf","ngIfElse"],["mujer",""],["mat-header-cell",""],[4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.agregarUsuario()}),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-icon",0),e._uU(9,"add"),e.qZA()(),e.TgZ(10,"span"),e._uU(11,"Agregar Usuario"),e.qZA()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"mat-select",8),e.NdJ("selectionChange",function(a){return i.filter(a.value)}),e.YNc(15,mt,2,2,"mat-option",9),e.qZA()(),e.TgZ(16,"div",10)(17,"input",11,12),e.NdJ("keyup",function(a){return i.aplicarFiltro(a)}),e.qZA(),e.TgZ(19,"mat-icon",0),e._uU(20," search "),e.qZA()()(),e.TgZ(21,"div",13)(22,"table",14),e.ynx(23,15),e.YNc(24,pt,2,0,"th",16),e.YNc(25,ut,2,1,"td",17),e.BQk(),e.ynx(26,18),e.YNc(27,dt,2,0,"th",19),e.YNc(28,gt,2,1,"td",17),e.BQk(),e.ynx(29,20),e.YNc(30,_t,2,0,"th",19),e.YNc(31,ft,2,1,"td",17),e.BQk(),e.ynx(32,21),e.YNc(33,ht,2,0,"th",19),e.YNc(34,bt,2,1,"td",17),e.BQk(),e.ynx(35,22),e.YNc(36,Ct,2,0,"th",16),e.YNc(37,Zt,2,1,"td",17),e.BQk(),e.ynx(38,23),e.YNc(39,vt,2,0,"th",16),e.YNc(40,yt,4,2,"td",17),e.BQk(),e.ynx(41,24),e.YNc(42,xt,2,0,"th",16),e._UZ(43,"div"),e.YNc(44,qt,2,1,"td",17),e.BQk(),e.ynx(45,25),e.YNc(46,Ut,1,0,"th",26),e.YNc(47,Pt,2,1,"td",17),e.BQk(),e.YNc(48,Ot,1,0,"tr",27),e.YNc(49,kt,1,0,"tr",28),e.YNc(50,Mt,3,1,"tr",29),e.qZA(),e._UZ(51,"mat-paginator",30),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(26),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,It)))},dependencies:[p.sg,p.O5,U.Nt,Z.Hw,C.lW,f.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,L.gM,k.NW,q.YE,q.nU,y.gD,x.ey],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.ancho_columna[_ngcontent-%COMP%]{width:17%}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function St(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Et(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Dt(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ft(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Yt(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Rt(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function Jt(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Qt(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Gt(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function jt(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Lt(n,r){if(1&n&&(e.TgZ(0,"mat-option",25),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Bt(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let zt=(()=>{class n{constructor(t,i,o,a,c){this.api=t,this.router=i,this.fb=o,this.snackBar=a,this.dialogService=c,this.roles=[],this.ocultar=!0,this.form=this.fb.group({cedula:["",s.kI.required],username:["",s.kI.required],names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),password:["",s.kI.required],phone:["",s.kI.required],sex:["",s.kI.required],address:["",s.kI.required],rol:["",s.kI.required]})}ngOnInit(){this.cargarRoles()}crearUsuario(){this.form.valid?(this.dialogService.open({title:"CREAR USUARIO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO USUARIO?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("cedula",this.form.get("cedula")?.value),o.append("username",this.form.get("username")?.value),o.append("names",this.form.get("names")?.value),o.append("surnames",this.form.get("surnames")?.value),o.append("email",this.form.get("email")?.value),o.append("password",this.form.get("password")?.value),o.append("phone",this.form.get("phone")?.value),o.append("sex",this.form.get("sex")?.value),o.append("rol",this.form.get("rol")?.value),o.append("address",this.form.get("address")?.value),o.append("rol_request",localStorage.getItem("rol_id")||""),this.api.postUsuarios(o).subscribe({next:a=>{this.snackBar.mensaje("Usuario Creado Exitosamente"),this.regresarUsuarios()},error:a=>{this.dialogService.error(a.error)}})}})):this.snackBar.mensaje("Llene el formulario correctamente")}cargarRoles(){this.api.getRoles().subscribe(t=>{this.roles=t})}regresarUsuarios(){this.router.navigate(["/dashboard/usuarios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G),e.Y36(u.F0),e.Y36(s.qu),e.Y36(h.o),e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-crear-usuarios"]],decls:104,vars:17,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["autocomplete","off","formControlName","username","type","text","matInput",""],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["matInput","","onpaste","return false","autocomplete","off","minlength","8","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["formControlName","sex"],["value","F"],["value","M"],["autocomplete","off","formControlName","address","type","text","matInput",""],["formControlName","rol","mat-select",""],[3,"value",4,"ngFor","ngForOf"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Nuevo Usuario"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"form",2)(6,"mat-form-field")(7,"label"),e._uU(8,"C\xe9dula"),e.qZA(),e.TgZ(9,"div",3),e._UZ(10,"input",4,5),e.qZA(),e.TgZ(12,"mat-hint",6),e._uU(13),e.qZA(),e.YNc(14,St,2,0,"mat-error",7),e.qZA(),e.TgZ(15,"mat-form-field")(16,"label"),e._uU(17,"Username"),e.qZA(),e.TgZ(18,"div",3),e._UZ(19,"input",8),e.qZA(),e.TgZ(20,"mat-hint"),e._uU(21,"Nombre del usuario"),e.qZA(),e.YNc(22,Et,2,0,"mat-error",7),e.qZA(),e.TgZ(23,"mat-form-field")(24,"label"),e._uU(25,"Nombres"),e.qZA(),e.TgZ(26,"div",3),e._UZ(27,"input",9),e.qZA(),e.TgZ(28,"mat-hint"),e._uU(29,"Nombre completo"),e.qZA(),e.YNc(30,Dt,2,0,"mat-error",7),e.qZA(),e.TgZ(31,"mat-form-field")(32,"label"),e._uU(33,"Apellidos"),e.qZA(),e.TgZ(34,"div",3),e._UZ(35,"input",10),e.qZA(),e.TgZ(36,"mat-hint"),e._uU(37,"Apellido paterno y materno"),e.qZA(),e.YNc(38,Ft,2,0,"mat-error",7),e.qZA(),e.TgZ(39,"mat-form-field")(40,"label"),e._uU(41,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(42,"div",3),e._UZ(43,"input",11),e.qZA(),e.TgZ(44,"mat-hint"),e._uU(45,"Correo electr\xf3nico"),e.qZA(),e.YNc(46,Yt,2,0,"mat-error",7),e.YNc(47,Rt,2,0,"mat-error",7),e.qZA(),e.TgZ(48,"mat-form-field")(49,"label"),e._uU(50,"Tel\xe9fono"),e.qZA(),e.TgZ(51,"div",3),e._UZ(52,"input",12,13),e.qZA(),e.TgZ(54,"mat-hint",6),e._uU(55),e.qZA(),e.YNc(56,Jt,2,0,"mat-error",7),e.qZA(),e.TgZ(57,"mat-form-field")(58,"label"),e._uU(59,"Contrase\xf1a"),e.qZA(),e.TgZ(60,"div",3),e._UZ(61,"input",14),e.TgZ(62,"button",15),e.NdJ("click",function(){return i.ocultar=!i.ocultar}),e.TgZ(63,"mat-icon"),e._uU(64),e.qZA()()(),e.TgZ(65,"mat-hint"),e._uU(66,"Minimo 8 caracteres"),e.qZA(),e.YNc(67,Qt,2,0,"mat-error",7),e.qZA(),e.TgZ(68,"mat-form-field")(69,"label"),e._uU(70,"Sexo"),e.qZA(),e.TgZ(71,"mat-select",16)(72,"mat-option",17),e._uU(73,"Femenino"),e.qZA(),e.TgZ(74,"mat-option",18),e._uU(75,"Masculino"),e.qZA()(),e.TgZ(76,"mat-hint"),e._uU(77,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(78,Gt,2,0,"mat-error",7),e.qZA(),e.TgZ(79,"mat-form-field")(80,"label"),e._uU(81,"Direcci\xf3n"),e.qZA(),e.TgZ(82,"div",3),e._UZ(83,"input",19),e.qZA(),e.TgZ(84,"mat-hint"),e._uU(85,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(86,jt,2,0,"mat-error",7),e.qZA(),e.TgZ(87,"mat-form-field")(88,"label"),e._uU(89,"Rol"),e.qZA(),e.TgZ(90,"mat-select",20),e.YNc(91,Lt,2,2,"mat-option",21),e.qZA(),e.TgZ(92,"mat-hint"),e._uU(93,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(94,Bt,2,0,"mat-error",7),e.qZA()(),e.TgZ(95,"div",22)(96,"button",23),e.NdJ("click",function(){return i.regresarUsuarios()}),e.TgZ(97,"mat-icon"),e._uU(98,"close"),e.qZA(),e._uU(99," Cancelar "),e.qZA(),e.TgZ(100,"button",24),e.NdJ("click",function(){return i.crearUsuario()}),e.TgZ(101,"mat-icon"),e._uU(102,"done"),e.qZA(),e._uU(103," Crear "),e.qZA()()()),2&t){const o=e.MAs(11),a=e.MAs(53);e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.cedula.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.username.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("email")),e.xp6(8),e.hij(" ",a.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.phone.hasError("required")),e.xp6(5),e.Q6J("type",i.ocultar?"password":"text"),e.xp6(3),e.Oqu(i.ocultar?"visibility_off":"visibility"),e.xp6(3),e.Q6J("ngIf",i.form.controls.password.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.address.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.roles),e.xp6(3),e.Q6J("ngIf",i.form.controls.rol.hasError("required"))}},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,g.TO,g.KE,g.bx,g.R9,U.Nt,Z.Hw,C.lW,f.Ye,y.gD,x.ey],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();function Ht(n,r){1&n&&(e.TgZ(0,"div")(1,"mat-list-item"),e._uU(2,"Activo"),e.qZA()())}function Vt(n,r){1&n&&(e.TgZ(0,"mat-list-item"),e._uU(1,"Inactivo"),e.qZA())}let $t=(()=>{class n{constructor(t,i,o){this.api=t,this.router=i,this.activerouter=o,this.usuarioget={id:0,cedula:"",names:"",surnames:"",username:"",email:"",phone:"",password:"",sex:"",address:"",rol:"",is_active:!0,created:"",modified:"",last_session:""}}ngOnInit(){let t=this.activerouter.snapshot.paramMap.get("id");this.api.getUsuarioId(Number(t)).subscribe(i=>{this.usuarioget=i})}regresarUsuarios(){this.router.navigate(["/dashboard/usuarios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G),e.Y36(u.F0),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-visualizar-usuarios"]],decls:90,vars:13,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container"],[1,"datos"],[4,"ngIf","ngIfElse"],["inactivo",""],[1,"container_botones"],["mat-raised-button","",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Visualizar datos del Usuario"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"mat-card",2)(6,"div",3)(7,"div",4)(8,"mat-label"),e._uU(9,"C\xe9dula"),e.qZA(),e._UZ(10,"br"),e.TgZ(11,"mat-list-item"),e._uU(12),e.qZA()(),e.TgZ(13,"div",4)(14,"mat-label"),e._uU(15,"Usuario"),e.qZA(),e._UZ(16,"br"),e.TgZ(17,"mat-list-item"),e._uU(18),e.qZA()()(),e.TgZ(19,"div",3)(20,"div",4)(21,"mat-label"),e._uU(22,"Nombres"),e.qZA(),e._UZ(23,"br"),e.TgZ(24,"mat-list-item"),e._uU(25),e.qZA()(),e.TgZ(26,"div",4)(27,"mat-label"),e._uU(28,"Apellidos"),e.qZA(),e._UZ(29,"br"),e.TgZ(30,"mat-list-item"),e._uU(31),e.qZA()()(),e.TgZ(32,"div",3)(33,"div",4)(34,"mat-label"),e._uU(35,"Email"),e.qZA(),e._UZ(36,"br"),e.TgZ(37,"mat-list-item"),e._uU(38),e.qZA()(),e.TgZ(39,"div",4)(40,"mat-label"),e._uU(41,"Tel\xe9fono"),e.qZA(),e._UZ(42,"br"),e.TgZ(43,"mat-list-item"),e._uU(44),e.qZA()()(),e.TgZ(45,"div",3)(46,"div",4)(47,"mat-label"),e._uU(48,"Sexo"),e.qZA(),e._UZ(49,"br"),e.TgZ(50,"mat-list-item"),e._uU(51),e.qZA()(),e.TgZ(52,"div",4)(53,"mat-label"),e._uU(54,"Direcci\xf3n"),e.qZA(),e._UZ(55,"br"),e.TgZ(56,"mat-list-item"),e._uU(57),e.qZA()()(),e.TgZ(58,"div",3)(59,"div",4)(60,"mat-label"),e._uU(61,"Rol"),e.qZA(),e._UZ(62,"br"),e.TgZ(63,"mat-list-item"),e._uU(64),e.qZA()(),e.TgZ(65,"div",4)(66,"mat-label"),e._uU(67,"Estado"),e.qZA(),e._UZ(68,"br"),e.YNc(69,Ht,3,0,"div",5),e.YNc(70,Vt,2,0,"ng-template",null,6,e.W1O),e.qZA()(),e.TgZ(72,"div",3)(73,"div",4)(74,"mat-label"),e._uU(75,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(76,"br"),e.TgZ(77,"mat-list-item"),e._uU(78),e.qZA()(),e.TgZ(79,"div",4)(80,"mat-label"),e._uU(81,"\xdaltima modificaci\xf3n"),e.qZA(),e._UZ(82,"br"),e.TgZ(83,"mat-list-item"),e._uU(84),e.qZA()()(),e.TgZ(85,"div",7)(86,"button",8),e.NdJ("click",function(){return i.regresarUsuarios()}),e.TgZ(87,"mat-icon"),e._uU(88,"close"),e.qZA(),e._uU(89," Salir "),e.qZA()()()()),2&t){const o=e.MAs(71);e.xp6(12),e.Oqu(i.usuarioget.cedula),e.xp6(6),e.Oqu(i.usuarioget.username),e.xp6(7),e.Oqu(i.usuarioget.names),e.xp6(6),e.Oqu(i.usuarioget.surnames),e.xp6(7),e.Oqu(i.usuarioget.email),e.xp6(6),e.Oqu(i.usuarioget.phone),e.xp6(7),e.Oqu(i.usuarioget.sex),e.xp6(6),e.Oqu(i.usuarioget.address),e.xp6(7),e.Oqu(i.usuarioget.rol),e.xp6(5),e.Q6J("ngIf",i.usuarioget.is_active)("ngIfElse",o),e.xp6(9),e.Oqu(i.usuarioget.created),e.xp6(6),e.Oqu(i.usuarioget.modified)}},dependencies:[p.O5,g.hX,Z.Hw,C.lW,f.Ye,Y.Tg,P.a8],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:20px;flex-direction:row}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 25px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.mat-list-item[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}button[_ngcontent-%COMP%]{margin-top:25px;background:var(--color-cafe);color:var(--color-letras)}button[_ngcontent-%COMP%]:hover{background:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})();function Wt(n,r){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Xt(n,r){1&n&&(e.TgZ(0,"th",30),e._uU(1,"ID"),e.qZA())}function Kt(n,r){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.id)}}function ei(n,r){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Rol"),e.qZA())}function ti(n,r){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function ii(n,r){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Descripci\xf3n"),e.qZA())}function ni(n,r){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.description)}}function oi(n,r){1&n&&(e.TgZ(0,"th",30),e._uU(1," Fecha de creaci\xf3n "),e.qZA())}function ri(n,r){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.created)}}function ai(n,r){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Estado"),e.qZA())}function si(n,r){1&n&&(e.TgZ(0,"div")(1,"div",6),e._uU(2,"Activo"),e.qZA()())}function ci(n,r){1&n&&(e.TgZ(0,"div")(1,"div",6),e._uU(2,"Inactivo"),e.qZA()())}function li(n,r){if(1&n&&(e.TgZ(0,"td",31),e.YNc(1,si,3,0,"div",32),e.YNc(2,ci,3,0,"ng-template",null,33,e.W1O),e.qZA()),2&n){const t=r.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.is_active)("ngIfElse",i)}}function mi(n,r){1&n&&e._UZ(0,"th",34)}function pi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.permisosRol(o.id))}),e.TgZ(2,"mat-icon",37),e._uU(3,"key"),e.qZA()(),e.TgZ(4,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.editarRol(o.id))}),e.TgZ(5,"mat-icon",37),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.eliminarRol(o.id))}),e.TgZ(8,"mat-icon",6),e._uU(9,"delete"),e.qZA()()()}}function ui(n,r){if(1&n&&(e.TgZ(0,"td",31),e.YNc(1,pi,10,0,"div",35),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",1!=t.id)}}function di(n,r){1&n&&e._UZ(0,"tr",40)}function gi(n,r){1&n&&e._UZ(0,"tr",41)}function _i(n,r){if(1&n&&(e.TgZ(0,"tr",42)(1,"td",43),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(18);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const fi=function(){return[5,10,25,100]};let hi=(()=>{class n{constructor(t,i,o,a,c,l){this.api=t,this.router=i,this.dialog=o,this.snackbar=a,this.dialogService=c,this.rolSrv=l,this.Filters=[{id:"?is_active=true",name:"Roles Activos"},{id:"?is_active=false",name:"Roles Inactivos"},{id:"?ordering=-created",name:"Ultimos Roles Creados"},{id:"?ordering=created",name:"Primeros Roles Creados"}],this.filter_default="?ordering=-created",this.Titulo="Roles",this.displayedColumns=["id","name","description","created","is_active","Acciones"]}ngOnInit(){this.cargarRoles(this.filter_default)}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}cargarRoles(t){this.api.getRolesFilter(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}editarRol(t){this.router.navigate(["dashboard/roles/editar",t])}agregarRol(){this.router.navigate(["dashboard/roles/crear"])}permisosRol(t){this.router.navigate(["dashboard/roles/permisos",t])}eliminarRol(t){"1"==localStorage.getItem("rol_id")?(this.dialogService.open({title:"ELIMINAR ROL",message:"ESTA SEGURO QUE QUIERE ELIMINAR EL ROL?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(o=>{o&&this.rolSrv.deleteRol(t).subscribe(a=>{this.snackbar.mensaje("Rol Eliminado Exitosamente"),this.cargarRoles(this.filter_default)},a=>{this.dialogService.error(a.error),this.cargarRoles(this.filter_default)})})):this.snackbar.mensaje("No tienes permiso para Eliminar Roles")}filter(t){this.cargarRoles(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G),e.Y36(u.F0),e.Y36(O.uw),e.Y36(h.o),e.Y36(b),e.Y36(K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles"]],viewQuery:function(t,i){if(1&t&&(e.Gf(k.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:45,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"green-primary"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","created"],["matColumnDef","is_active"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-cell",""],[4,"ngIf"],["mat-icon-button","","matTooltip","Permisos",1,"color_amarillo",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.agregarRol()}),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-icon",6),e._uU(9,"add"),e.qZA()(),e.TgZ(10,"span"),e._uU(11,"Agregar Rol"),e.qZA()()()(),e.TgZ(12,"div",7)(13,"div",8)(14,"mat-select",9),e.NdJ("selectionChange",function(a){return i.filter(a.value)}),e.YNc(15,Wt,2,2,"mat-option",10),e.qZA()(),e.TgZ(16,"div",11)(17,"input",12,13),e.NdJ("keyup",function(a){return i.aplicarFiltro(a)}),e.qZA(),e.TgZ(19,"mat-icon",6),e._uU(20," search "),e.qZA()()(),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,Xt,2,0,"th",17),e.YNc(25,Kt,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,ei,2,0,"th",17),e.YNc(28,ti,2,1,"td",18),e.BQk(),e.ynx(29,20),e.YNc(30,ii,2,0,"th",17),e.YNc(31,ni,2,1,"td",18),e.BQk(),e.ynx(32,21),e.YNc(33,oi,2,0,"th",17),e.YNc(34,ri,2,1,"td",18),e.BQk(),e.ynx(35,22),e.YNc(36,ai,2,0,"th",17),e.YNc(37,li,4,2,"td",18),e.BQk(),e.ynx(38,23),e.YNc(39,mi,1,0,"th",24),e.YNc(40,ui,2,1,"td",18),e.BQk(),e.YNc(41,di,1,0,"tr",25),e.YNc(42,gi,1,0,"tr",26),e.YNc(43,_i,3,1,"tr",27),e.qZA(),e._UZ(44,"mat-paginator",28),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,fi)))},dependencies:[p.sg,p.O5,U.Nt,Z.Hw,C.lW,f.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,L.gM,k.NW,q.YE,q.nU,y.gD,x.ey],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.color_amarillo[_ngcontent-%COMP%]{color:#ffc107}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function bi(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ci(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Zi(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let vi=(()=>{class n{constructor(t,i,o,a,c){this.router=t,this.fb=i,this.snackbar=o,this.dialogService=a,this.rolSrv=c,this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],is_active:["",s.kI.required]})}ngOnInit(){}regresarRoles(){this.router.navigate(["/dashboard/roles"])}crearRol(){this.form.valid?(this.dialogService.open({title:"CREAR ROLES",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO ROL?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("name",this.form.get("name")?.value),o.append("description",this.form.get("description")?.value),o.append("is_active",this.form.get("is_active")?.value),o.append("rol_request",localStorage.getItem("rol_id")||""),this.rolSrv.postRoles(o).subscribe(a=>{this.snackbar.mensaje("Rol Creado Exitosamente"),this.regresarRoles()},a=>{this.dialogService.error(a.error)})}})):this.snackbar.mensaje("Llene el formulario correctamente")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(s.qu),e.Y36(h.o),e.Y36(b),e.Y36(K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles-crear"]],decls:42,vars:4,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Nuevo Rol"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"form",2)(6,"mat-form-field")(7,"label"),e._uU(8,"Nombre"),e.qZA(),e.TgZ(9,"div",3),e._UZ(10,"input",4),e.qZA(),e.TgZ(11,"mat-hint"),e._uU(12,"Nombre del Rol"),e.qZA(),e.YNc(13,bi,2,0,"mat-error",5),e.qZA(),e.TgZ(14,"mat-form-field")(15,"label"),e._uU(16,"Descripci\xf3n"),e.qZA(),e.TgZ(17,"div",3),e._UZ(18,"input",6),e.qZA(),e.TgZ(19,"mat-hint"),e._uU(20,"Descripci\xf3n del Rol"),e.qZA(),e.YNc(21,Ci,2,0,"mat-error",5),e.qZA(),e.TgZ(22,"mat-form-field")(23,"label"),e._uU(24,"Estado"),e.qZA(),e.TgZ(25,"mat-select",7)(26,"mat-option",8),e._uU(27,"Activo"),e.qZA(),e.TgZ(28,"mat-option",9),e._uU(29,"Inactivo"),e.qZA()(),e.TgZ(30,"mat-hint"),e._uU(31,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(32,Zi,2,0,"mat-error",5),e.qZA()(),e.TgZ(33,"div",10)(34,"button",11),e.NdJ("click",function(){return i.regresarRoles()}),e.TgZ(35,"mat-icon"),e._uU(36,"close"),e.qZA(),e._uU(37," Cancelar "),e.qZA(),e.TgZ(38,"button",12),e.NdJ("click",function(){return i.crearRol()}),e.TgZ(39,"mat-icon"),e._uU(40,"done"),e.qZA(),e._uU(41," Crear "),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")))},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,g.TO,g.KE,g.bx,U.Nt,Z.Hw,C.lW,f.Ye,y.gD,x.ey],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();var Ti=_(6805);function R(n,r){const t="object"==typeof r;return new Promise((i,o)=>{let c,a=!1;n.subscribe({next:l=>{c=l,a=!0},error:o,complete:()=>{a?i(c):t?i(r.defaultValue):o(new Ti.K)}})})}let ee=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAll(){return this.http.get(this.url+"api/ticket/")}getById(t){return this.http.get(this.url+"api/ticket/"+t+"/")}post(t){return this.http.post(this.url+"api/ticket/",t)}put(t,i){return this.http.put(this.url+"api/ticket/"+t+"/",i)}delete(t){return this.http.delete(this.url+"api/ticket/"+t+"/")}getFilter(t){return this.http.get(this.url+"api/ticketfilter/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(I.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ai(n,r){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function yi(n,r){1&n&&(e.TgZ(0,"th",30),e._uU(1," N\xfamero de factura "),e.qZA())}function xi(n,r){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.invoice_number)}}function qi(n,r){1&n&&(e.TgZ(0,"th",30),e._uU(1,"C\xf3digo QR"),e.qZA())}function Ui(n,r){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.qr_code_digits)}}function wi(n,r){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Estado"),e.qZA())}function Pi(n,r){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.state)}}function Oi(n,r){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Cliente"),e.qZA())}function ki(n,r){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.client)}}function Mi(n,r){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Juego"),e.qZA())}function Ii(n,r){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.game)}}function Ni(n,r){1&n&&e._UZ(0,"th",32)}function Si(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"td",31)(1,"div")(2,"button",33),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.view(a.id))}),e.TgZ(3,"mat-icon",34),e._uU(4," remove_red_eye "),e.qZA()(),e.TgZ(5,"button",35),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.edit(a.id))}),e.TgZ(6,"mat-icon",34),e._uU(7," edit "),e.qZA()(),e.TgZ(8,"button",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.delete(a.id))}),e.TgZ(9,"mat-icon",13),e._uU(10," delete "),e.qZA()()()()}}function Ei(n,r){1&n&&e._UZ(0,"tr",37)}function Di(n,r){1&n&&e._UZ(0,"tr",38)}function Fi(n,r){if(1&n&&(e.TgZ(0,"tr",39)(1,"td",40),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(18);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const Yi=function(){return[5,10,25,100]};let Ri=(()=>{class n{constructor(t,i,o,a,c){this.router=t,this.ticketAPI=i,this.permissionsAPI=o,this.confirmDialog=a,this.snackBar=c,this.Filters=[{id:"?state=Disponible",name:"Tickets Activos"},{id:"?state=Reclamado",name:"Tickets Inactivos"},{id:"?ordering=-date_created",name:"Ultimos Tickets Creados"},{id:"?ordering=date_created",name:"Primeros Tickets Creados"}],this.filter_default="?state=Disponible",this.singularName="ticket",this.pluralName="tickets",this.actionName="eliminar",this.permissions=[],this.displayedColumns=["invoice_number","qr_code_digits","state","client","game","actions"]}ngOnInit(){this.loadAll(this.filter_default)}loadAll(t){this.ticketAPI.getFilter(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLocaleLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}view(t){this.router.navigate(["/dashboard/"+this.pluralName+"/vizualizar/"+t])}edit(t){this.router.navigate(["/dashboard/"+this.pluralName+"/editar/"+t])}delete(t){var i=this;return A(function*(){yield i.canDelete(),i.permissions.length>0?(i.showDeleteDialog(),i.confirmDialog.confirmed().subscribe(o=>{o&&i.ticketAPI.delete(t).subscribe(a=>{i.snackBar.mensaje(i.singularName+" eliminado exitosamente"),i.loadAll(i.filter_default)})})):i.snackBar.mensaje("No tienes permiso para Eliminar "+i.singularName)})()}showDeleteDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere eliminar el "+this.singularName+" ?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t)}canDelete(){var t=this;return A(function*(){let i=Number(localStorage.getItem("rol_id"));const a=yield R(t.permissionsAPI.getPermisosbyRolandPermission(i,12));t.permissions=a})()}toCreation(){this.router.navigate(["dashboard/"+this.pluralName+"/crear"])}toList(){this.router.navigate(["dashboard/"+this.pluralName])}filter(t){this.loadAll(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(ee),e.Y36(j),e.Y36(b),e.Y36(h.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tickets"]],viewQuery:function(t,i){if(1&t&&(e.Gf(k.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:45,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","invoice_number"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","qr_code_digits"],["matColumnDef","state"],["matColumnDef","client"],["matColumnDef","game"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Tickets"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.toCreation()}),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-icon"),e._uU(9,"add"),e.qZA()(),e.TgZ(10,"span"),e._uU(11),e.qZA()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"mat-select",8),e.NdJ("selectionChange",function(a){return i.filter(a.value)}),e.YNc(15,Ai,2,2,"mat-option",9),e.qZA()(),e.TgZ(16,"div",10)(17,"input",11,12),e.NdJ("keyup",function(a){return i.applyFilter(a)}),e.qZA(),e.TgZ(19,"mat-icon",13),e._uU(20," search "),e.qZA()()(),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,yi,2,0,"th",17),e.YNc(25,xi,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,qi,2,0,"th",17),e.YNc(28,Ui,2,1,"td",18),e.BQk(),e.ynx(29,20),e.YNc(30,wi,2,0,"th",17),e.YNc(31,Pi,2,1,"td",18),e.BQk(),e.ynx(32,21),e.YNc(33,Oi,2,0,"th",17),e.YNc(34,ki,2,1,"td",18),e.BQk(),e.ynx(35,22),e.YNc(36,Mi,2,0,"th",17),e.YNc(37,Ii,2,1,"td",18),e.BQk(),e.ynx(38,23),e.YNc(39,Ni,1,0,"th",24),e.YNc(40,Si,11,0,"td",18),e.BQk(),e.YNc(41,Ei,1,0,"tr",25),e.YNc(42,Di,1,0,"tr",26),e.YNc(43,Fi,3,1,"tr",27),e.qZA(),e._UZ(44,"mat-paginator",28),e.qZA()),2&t&&(e.xp6(11),e.hij("Agregar ",i.singularName,""),e.xp6(4),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,Yi)))},dependencies:[p.sg,U.Nt,Z.Hw,C.lW,f.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,L.gM,k.NW,q.YE,q.nU,y.gD,x.ey],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})(),B=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAll(){return this.http.get(this.url+"api/client/")}getById(t){return this.http.get(this.url+"api/client/"+t+"/")}post(t){return this.http.post(this.url+"api/client/",t)}put(t,i){return this.http.put(this.url+"api/client/"+t+"/",i)}delete(t){return this.http.delete(this.url+"api/client/"+t+"/")}getFilter(t){return this.http.get(this.url+"api/clientfilter/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(I.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),te=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}postGame(t){return this.http.post(`${this.url}/game`,t)}getAll(){return this.http.get(this.url+"api/game/")}getById(t){return this.http.get(this.url+"api/game/"+t+"/")}put(t,i){return this.http.put(this.url+"api/game/"+t+"/",i)}putGame(t,i){return this.http.put(this.url+"api/game/"+t+"/",i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(I.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ji(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Qi(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Gi(n,r){if(1&n&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.cedula),e.xp6(1),e.hij(" ",t.cedula+" "+t.names+" "+t.surnames," ")}}function ji(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Li(n,r){if(1&n&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.name),e.xp6(1),e.hij(" ",t.name," ")}}function Bi(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function zi(n,r){1&n&&(e.TgZ(0,"p"),e._uU(1,"Falta ingresar el n\xfamero de factura"),e.qZA())}function Hi(n,r){1&n&&(e.TgZ(0,"p"),e._uU(1,"Falta seleccionar el cliente"),e.qZA())}function Vi(n,r){if(1&n&&e._UZ(0,"img",19),2&n){const t=e.oxw();e.Q6J("src",t.qr_code_url,e.LSH)}}let $i=(()=>{class n{constructor(t,i,o,a,c,l,d){this.router=t,this.formBuilder=i,this.snackBar=o,this.confirmDialog=a,this.ticketAPI=c,this.ClientAPI=l,this.GameAPI=d,this.singularName="Ticket",this.pluralName="Tickets",this.actionName="Crear",this.allClients=[],this.allGames=[],this.invoiceNumber="",this.qr_code_url="",this.qr_code_digits="",this.clientId="",this.formGroup=this.formBuilder.group({qr_code_url:[""],qr_code_digits:[""],invoice_number:["",s.kI.required],state:["",s.kI.required],client:["",s.kI.required],game:["",s.kI.required]}),this.ClientAPI.getAll().subscribe(T=>{this.allClients=T}),this.GameAPI.getAll().subscribe(T=>{this.allGames=T})}toList(){this.router.navigate(["dashboard/tickets"])}create(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el nuevo "+this.singularName+"?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){this.confirmDialog.confirmed().subscribe(t=>{if(t){this.generateQRCode();let i=this.fillForm();this.ticketAPI.post(i).subscribe({next:o=>{this.snackBar.mensaje(this.singularName+" Creado Exitosamente"),this.toList()},error:o=>{this.confirmDialog.error(o.error)}})}})}fillForm(){let t=localStorage.getItem("user_id"),i=new FormData;return i.append("invoice_number",this.formGroup.get("invoice_number")?.value),i.append("state",this.formGroup.get("state")?.value),i.append("client",this.formGroup.get("client")?.value),i.append("game",this.formGroup.get("game")?.value),i.append("user_register",t),i.append("user_modifier",t),i.append("qr_code_digits",this.qr_code_digits),i.append("qr_code_url",this.qr_code_url),i}ngOnInit(){}generateQRCode(){""!=this.qr_code_digits&&""!=this.qr_code_url||(this.invoiceNumber=this.formGroup.get("invoice_number")?.value,this.clientId=this.formGroup.get("client")?.value,this.qr_code_url="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data="+this.invoiceNumber+"-"+this.clientId,this.qr_code_digits=(Math.floor(9e8*Math.random())+1e8).toString(10))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(s.qu),e.Y36(h.o),e.Y36(b),e.Y36(ee),e.Y36(B),e.Y36(te))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-ticket"]],decls:55,vars:12,consts:[[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","invoice_number","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["formControlName","state","mat-select",""],["value","Disponible"],["value","Reclamado"],["formControlName","client","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","game","mat-select",""],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],["alt","",3,"src",4,"ngIf"],[3,"value"],["alt","",3,"src"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Nuevo Ticket"),e.qZA()(),e.TgZ(3,"div",0)(4,"form",1)(5,"mat-form-field")(6,"label"),e._uU(7,"N\xfamero de Factura"),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"input",3,4),e.qZA(),e.TgZ(11,"mat-hint",5),e._uU(12),e.qZA(),e.YNc(13,Ji,2,0,"mat-error",6),e.qZA(),e.TgZ(14,"mat-form-field")(15,"label"),e._uU(16,"Estado"),e.qZA(),e.TgZ(17,"mat-select",7)(18,"mat-option",8),e._uU(19,"Disponible"),e.qZA(),e.TgZ(20,"mat-option",9),e._uU(21,"Reclamado"),e.qZA()(),e.TgZ(22,"mat-hint"),e._uU(23,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(24,Qi,2,0,"mat-error",6),e.qZA(),e.TgZ(25,"mat-form-field")(26,"label"),e._uU(27,"Cliente"),e.qZA(),e.TgZ(28,"mat-select",10),e.YNc(29,Gi,2,2,"mat-option",11),e.qZA(),e.TgZ(30,"mat-hint"),e._uU(31,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(32,ji,2,0,"mat-error",6),e.qZA(),e.TgZ(33,"mat-form-field")(34,"label"),e._uU(35,"Juego"),e.qZA(),e.TgZ(36,"mat-select",12),e.YNc(37,Li,2,2,"mat-option",11),e.qZA(),e.TgZ(38,"mat-hint"),e._uU(39,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(40,Bi,2,0,"mat-error",6),e.qZA()(),e.TgZ(41,"div",13)(42,"button",14),e.NdJ("click",function(){return i.toList()}),e.TgZ(43,"mat-icon"),e._uU(44,"close"),e.qZA(),e._uU(45," Cancelar "),e.qZA(),e.TgZ(46,"button",15),e.NdJ("click",function(){return i.create()}),e.TgZ(47,"mat-icon"),e._uU(48,"done"),e.qZA(),e._uU(49),e.qZA()()(),e.YNc(50,zi,2,0,"p",6),e.YNc(51,Hi,2,0,"p",6),e.TgZ(52,"button",16),e.NdJ("click",function(){return i.generateQRCode()}),e._uU(53," Generar c\xf3digo QR\n"),e.qZA(),e.YNc(54,Vi,1,1,"img",17)),2&t){const o=e.MAs(10);e.xp6(4),e.Q6J("formGroup",i.formGroup),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.invoice_number.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.state.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.allClients),e.xp6(3),e.Q6J("ngIf",i.formGroup.controls.client.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.allGames),e.xp6(3),e.Q6J("ngIf",i.formGroup.controls.game.hasError("required")),e.xp6(9),e.hij(" ",i.actionName," "),e.xp6(1),e.Q6J("ngIf",!i.invoiceNumber),e.xp6(1),e.Q6J("ngIf",!i.clientId),e.xp6(3),e.Q6J("ngIf",i.invoiceNumber&&i.clientId)}},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,g.TO,g.KE,g.bx,U.Nt,Z.Hw,C.lW,f.Ye,y.gD,x.ey],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();var Wi=_(4850),z=_(782);let Xi=(()=>{class n{constructor(t,i,o){this.router=t,this.activedRoute=i,this.ticketAPI=o,this.singularName="ticket",this.pluralName="tickets",this.actionName="visualizar",this.ticket={id:"",invoice_number:"",qr_code_url:"",qr_code_digits:"",state:"",client:"",game:"",user_register:"",user_modifier:"",date_created:"",date_modified:""}}toList(){this.router.navigate(["dashboard/"+this.pluralName])}ngOnInit(){let t=this.activedRoute.snapshot.paramMap.get("id");this.ticketAPI.getById(Number(t)).subscribe(i=>{this.ticket=i})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(ee))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-ticket"]],decls:60,vars:14,consts:[["cols","3","rowHeight","50rem"],[1,"card"],[1,"text"],["alt","CodigoQR","width","200","height","200",3,"src"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA()(),e.TgZ(3,"mat-grid-list",0)(4,"mat-grid-tile")(5,"mat-list")(6,"mat-label"),e._uU(7,"N\xfamero de Factura"),e.qZA(),e.TgZ(8,"mat-list-item"),e._uU(9),e.qZA(),e._UZ(10,"mat-divider"),e.TgZ(11,"mat-label"),e._uU(12,"C\xf3digo QR en digitos"),e.qZA(),e.TgZ(13,"mat-list-item"),e._uU(14),e.qZA(),e._UZ(15,"mat-divider"),e.TgZ(16,"mat-label"),e._uU(17,"Estado"),e.qZA(),e.TgZ(18,"mat-list-item"),e._uU(19),e.qZA(),e._UZ(20,"mat-divider"),e.TgZ(21,"mat-label"),e._uU(22,"Cliente"),e.qZA(),e.TgZ(23,"mat-list-item"),e._uU(24),e.qZA(),e._UZ(25,"mat-divider"),e.TgZ(26,"mat-label"),e._uU(27,"Juego"),e.qZA(),e.TgZ(28,"mat-list-item"),e._uU(29),e.qZA(),e._UZ(30,"mat-divider"),e.TgZ(31,"mat-label"),e._uU(32,"Fecha de registro"),e.qZA(),e.TgZ(33,"mat-list-item"),e._uU(34),e.qZA(),e._UZ(35,"mat-divider"),e.TgZ(36,"mat-label"),e._uU(37,"Usuario de registro"),e.qZA(),e.TgZ(38,"mat-list-item"),e._uU(39),e.qZA(),e._UZ(40,"mat-divider"),e.TgZ(41,"mat-label"),e._uU(42,"Fecha de \xfaltima modificaci\xf3n"),e.qZA(),e.TgZ(43,"mat-list-item"),e._uU(44),e.qZA(),e._UZ(45,"mat-divider"),e.TgZ(46,"mat-label"),e._uU(47,"Usuario responsable de la modificaci\xf3n"),e.qZA(),e.TgZ(48,"mat-list-item"),e._uU(49),e.qZA()()(),e.TgZ(50,"mat-grid-tile")(51,"div",1)(52,"div",2)(53,"mat-label"),e._uU(54," C\xf3digo QR "),e.qZA()(),e._UZ(55,"img",3),e.qZA()()(),e.TgZ(56,"button",4),e.NdJ("click",function(){return i.toList()}),e.TgZ(57,"mat-icon"),e._uU(58,"close"),e.qZA(),e._uU(59," Salir\n"),e.qZA()),2&t&&(e.xp6(2),e.HOy(" ",i.actionName," ",i.singularName," ",i.ticket.id," ",i.ticket.invoice_number," "),e.xp6(7),e.Oqu(i.ticket.invoice_number),e.xp6(5),e.Oqu(i.ticket.qr_code_digits),e.xp6(5),e.Oqu(i.ticket.state),e.xp6(5),e.Oqu(i.ticket.client),e.xp6(5),e.Oqu(i.ticket.game),e.xp6(5),e.Oqu(i.ticket.date_created),e.xp6(5),e.Oqu(i.ticket.user_register),e.xp6(5),e.Oqu(i.ticket.date_modified),e.xp6(5),e.Oqu(i.ticket.user_modifier),e.xp6(6),e.Q6J("src",i.ticket.qr_code_url,e.LSH))},dependencies:[g.hX,Z.Hw,C.lW,f.Ye,Y.i$,Y.Tg,Wi.d,z.Il,z.DX],styles:[".container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.mat-list-item[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}button[_ngcontent-%COMP%]{margin-left:50%;margin-bottom:25px;margin-top:25px;background:var(--color-cafe);color:var(--color-letras)}button[_ngcontent-%COMP%]:hover{background:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})();function Ki(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function en(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function tn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function nn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function on(n,r){1&n&&(e.TgZ(0,"p"),e._uU(1,"Falta ingresar el n\xfamero de factura"),e.qZA())}function rn(n,r){1&n&&(e.TgZ(0,"p"),e._uU(1,"Falta seleccionar el cliente"),e.qZA())}function an(n,r){if(1&n&&e._UZ(0,"img",20),2&n){const t=e.oxw();e.Q6J("src",t.qr_code_url,e.LSH)}}let sn=(()=>{class n{constructor(t,i,o,a,c,l,d,T){this.router=t,this.formBuilder=i,this.snackBar=o,this.confirmDialog=a,this.ticketAPI=c,this.activatedRoute=l,this.ClientAPI=d,this.GameAPI=T,this.singularName="Ticket",this.pluralName="Tickets",this.actionName="Editar",this.allClients=[],this.allGames=[],this.invoiceNumber="",this.qr_code_url="",this.qr_code_digits="",this.clientID="",this.gameID="",this.formGroup=this.formBuilder.group({qr_code_url:[""],qr_code_digits:[""],invoice_number:["",s.kI.required],state:["",s.kI.required],client:["",s.kI.required],game:["",s.kI.required]}),this.ClientAPI.getAll().subscribe(w=>{this.allClients=w}),this.GameAPI.getAll().subscribe(w=>{this.allGames=w})}toList(){this.router.navigate(["dashboard/tickets"])}edit(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el "+this.singularName+" "+this.formGroup.get("names")?.value+" ?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){let t=this.activatedRoute.snapshot.paramMap.get("id");this.confirmDialog.confirmed().subscribe(i=>{if(i){this.generateQRCode();let o=this.fillForm();this.ticketAPI.put(Number(t),o).subscribe({next:a=>{this.snackBar.mensaje(this.singularName+" Actualizado Exitosamente"),this.toList()},error:a=>{this.confirmDialog.error(a.error)}})}})}fillForm(){let t=localStorage.getItem("user_id"),i=new FormData;return i.append("invoice_number",this.formGroup.get("invoice_number")?.value),i.append("state",this.formGroup.get("state")?.value),i.append("client",this.formGroup.get("client")?.value),i.append("game",this.formGroup.get("game")?.value),i.append("user_modifier",t),i.append("qr_code_digits",this.qr_code_digits),i.append("qr_code_url",this.qr_code_url),i}ngOnInit(){let t=this.activatedRoute.snapshot.paramMap.get("id");this.ticketAPI.getById(Number(t)).subscribe(i=>{this.currentTicket=i,this.getInfo()}),this.allClients.forEach(i=>{i.id==this.currentTicket.client&&(this.currentClient=i)}),this.allGames.forEach(i=>{i.id==this.currentTicket.game&&(this.currentGame=i)})}getInfo(){this.formGroup.patchValue({qr_code_digits:this.currentTicket.qr_code_digits,qr_code_url:this.currentTicket.qr_code_url,invoice_number:this.currentTicket.invoice_number,state:this.currentTicket.state,client:this.currentTicket.client,game:this.currentTicket.game})}generateQRCode(){""!=this.qr_code_digits&&""!=this.qr_code_url||(this.invoiceNumber=this.formGroup.get("invoice_number")?.value,this.clientID=this.formGroup.get("client")?.value,this.qr_code_url="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data="+this.invoiceNumber+"-"+this.clientID,this.qr_code_digits=(Math.floor(9e8*Math.random())+1e8).toString(10))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(s.qu),e.Y36(h.o),e.Y36(b),e.Y36(ee),e.Y36(u.gz),e.Y36(B),e.Y36(te))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-ticket"]],decls:60,vars:19,consts:[[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","invoice_number","type","text","required","","placeholder","0900000000","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["formControlName","state","mat-select","","placeholder","Seleccione una opci\xf3n"],["value","Disponible"],["value","Reclamado"],["formControlName","client","mat-select","","placeholder","Seleccione una opci\xf3n"],["selected","",3,"value"],["selected",""],["formControlName","game","mat-select","","placeholder","Seleccione una opci\xf3n"],[3,"value"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"click"],["alt","",3,"src",4,"ngIf"],["alt","",3,"src"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA()(),e.TgZ(3,"div",0)(4,"form",1)(5,"mat-form-field")(6,"mat-label"),e._uU(7,"N\xfamero de Factura"),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"input",3,4),e.qZA(),e.TgZ(11,"mat-hint",5),e._uU(12),e.qZA(),e.YNc(13,Ki,2,0,"mat-error",6),e.qZA(),e.TgZ(14,"mat-form-field")(15,"mat-label"),e._uU(16,"Estado"),e.qZA(),e.TgZ(17,"mat-select",7)(18,"mat-option",8),e._uU(19,"Disponible"),e.qZA(),e.TgZ(20,"mat-option",9),e._uU(21,"Reclamado"),e.qZA()(),e.TgZ(22,"mat-hint"),e._uU(23,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(24,en,2,0,"mat-error",6),e.qZA(),e.TgZ(25,"mat-form-field")(26,"mat-label"),e._uU(27,"Cliente"),e.qZA(),e.TgZ(28,"mat-select",10)(29,"mat-option",11),e._uU(30),e.qZA(),e.TgZ(31,"mat-option",12),e._uU(32),e.qZA()(),e.TgZ(33,"mat-hint"),e._uU(34,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(35,tn,2,0,"mat-error",6),e.qZA(),e.TgZ(36,"mat-form-field")(37,"mat-label"),e._uU(38,"Juego"),e.qZA(),e.TgZ(39,"mat-select",13)(40,"mat-option",14),e._uU(41),e.qZA(),e._UZ(42,"mat-option",12),e.qZA(),e.TgZ(43,"mat-hint"),e._uU(44,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(45,nn,2,0,"mat-error",6),e.qZA()(),e.TgZ(46,"div",15)(47,"button",16),e.NdJ("click",function(){return i.toList()}),e.TgZ(48,"mat-icon"),e._uU(49,"close"),e.qZA(),e._uU(50," Cancelar "),e.qZA(),e.TgZ(51,"button",17),e.NdJ("click",function(){return i.edit()}),e.TgZ(52,"mat-icon"),e._uU(53,"done"),e.qZA(),e._uU(54),e.qZA()()(),e.YNc(55,on,2,0,"p",6),e.YNc(56,rn,2,0,"p",6),e.TgZ(57,"button",18),e.NdJ("click",function(){return i.generateQRCode()}),e._uU(58," Generar c\xf3digo QR\n"),e.qZA(),e.YNc(59,an,1,1,"img",19)),2&t){const o=e.MAs(10);e.xp6(2),e.HOy("",i.actionName," ",i.singularName," : ",i.currentTicket.id," ",i.currentTicket.invoice_number," "),e.xp6(2),e.Q6J("formGroup",i.formGroup),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.invoice_number.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.state.hasError("required")),e.xp6(5),e.Q6J("value",i.currentClient.cedula),e.xp6(1),e.hij(" ",i.currentClient.cedula+" "+i.currentClient.names+" "+i.currentClient.surnames," "),e.xp6(2),e.hij(" ",i.currentClient.cedula+" "+i.currentClient.names+" "+i.currentClient.surnames," "),e.xp6(3),e.Q6J("ngIf",i.formGroup.controls.client.hasError("required")),e.xp6(5),e.Q6J("value",i.currentGame.name),e.xp6(1),e.hij(" ",i.currentGame.name," "),e.xp6(4),e.Q6J("ngIf",i.formGroup.controls.game.hasError("required")),e.xp6(9),e.hij(" ",i.actionName," "),e.xp6(1),e.Q6J("ngIf",!i.invoiceNumber),e.xp6(1),e.Q6J("ngIf",!i.clientID),e.xp6(3),e.Q6J("ngIf",i.invoiceNumber&&i.clientID)}},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,g.TO,g.KE,g.bx,g.hX,U.Nt,Z.Hw,C.lW,f.Ye,y.gD,x.ey],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();function cn(n,r){if(1&n&&(e.TgZ(0,"mat-grid-tile")(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),e._uU(4),e.qZA()(),e.TgZ(5,"mat-card-content")(6,"p"),e._uU(7),e.qZA(),e._uU(8),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"button",2),e._uU(12," Continuar "),e.qZA()()()()),2&n){const t=r.$implicit;e.xp6(4),e.hij(" ",t.name," "),e.xp6(3),e.hij(" Jugadores diarios : ",t.players," "),e.xp6(1),e.hij(" ",t.state," "),e.xp6(2),e.hij(" ",t.description," ")}}let ln=(()=>{class n{constructor(t){this.GameAPI=t,this.singularName="Juego",this.pluralName="Juegos",this.actionName="Seleccionar",this.allGames=[],this.GameAPI.getAll().subscribe(i=>{this.allGames=i})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(te))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-selection"]],decls:5,vars:1,consts:[["cols","2","rowHeight","2:1"],[4,"ngFor","ngForOf"],["mat-button",""]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Seleccionar Juego"),e.qZA()(),e.TgZ(3,"mat-grid-list",0),e.YNc(4,cn,13,4,"mat-grid-tile",1),e.qZA()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.allGames))},dependencies:[p.sg,C.lW,f.Ye,P.a8,P.dk,P.dn,P.n5,z.Il,z.DX]}),n})(),mn=(()=>{class n{constructor(t,i,o,a,c){this.publicity=t,this.dashboardPublicityService=i,this.router=o,this.snackbar=a,this.dialogService=c}ngOnInit(){this.publicity.getPublicityTopList().subscribe(t=>{t.length>0&&(this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F.U),e.Y36(D.E),e.Y36(u.F0),e.Y36(h.o),e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicity"]],decls:17,vars:8,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","green-primary"],["title","Editar Publicidad Superior","styledPadding",".5rem .2rem","routerLink","/dashboard/juego/publicidad/top"],["routerLink","/dashboard/juego/publicidad/bottom","title","Editar Publicidad Inferior","styledPadding",".5rem .2rem"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Publicidad"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"p",4),e._uU(7,"Publicidad Superior:"),e.qZA(),e._UZ(8,"app-button-primary",5),e.TgZ(9,"p",4),e._uU(10,"Publicidad Inferior:"),e.qZA(),e._UZ(11,"app-button-primary",6),e.qZA(),e.TgZ(12,"div",7)(13,"div",8),e._UZ(14,"app-banner-publicity",9)(15,"div",10)(16,"app-banner-publicity",9),e.qZA()()()),2&t&&(e.xp6(8),e.Udp("margin-left","1rem"),e.xp6(3),e.Udp("margin-left","1rem"),e.xp6(3),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[f.Ye,u.rH,N,H],styles:[".view-container[_ngcontent-%COMP%]{position:relative;border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.view-menu[_ngcontent-%COMP%]{background-color:gray;height:20rem}"]}),n})();const pn=["takeInput"];let he=(()=>{class n{constructor(t,i,o){this.imageSrv=t,this.snackbar=i,this.dashboardPublicity=o,this.img_upload="assets/img/upload.png",this.previsulizacion=this.img_upload,this.title="",this.isTop=!0,this.cambioPrevisualizacion=new e.vpe,this.isGamePublicity=!1}ngOnInit(){}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base,this.isTop?(this.dashboardPublicity.setPreviewTopImage(this.previsulizacion),this.dashboardPublicity.setTopImageFileToUpload(this.fileToUpload)):(this.dashboardPublicity.setPreviewBottomImage(this.previsulizacion),this.dashboardPublicity.setBottomImageFileToUpload(this.fileToUpload))})):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J),e.Y36(h.o),e.Y36(D.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-publicity"]],viewQuery:function(t,i){if(1&t&&e.Gf(pn,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},inputs:{title:"title",isTop:"isTop",isGamePublicity:"isGamePublicity"},outputs:{cambioPrevisualizacion:"cambioPrevisualizacion"},decls:9,vars:1,consts:[[1,"color-white","publicity-container"],[1,"publicity__title","green-primary"],[1,"publicity-info__container"],[1,""],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"p",3),e._uU(5,"Imagen"),e.qZA(),e.TgZ(6,"div",4)(7,"input",5,6),e.NdJ("change",function(a){return i.capturarFile(a)}),e.qZA()()()()),2&t&&(e.xp6(2),e.Oqu(i.title))},styles:['.publicity-info__container[_ngcontent-%COMP%]{padding:0 .5rem}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png, jpg, jpeg)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}']}),n})(),be=(()=>{class n{constructor(t,i,o,a){this.publicity=t,this.dialog=i,this.snackBar=o,this.dashPublicity=a,this.imageUrl="",this.id=0,this.isTop=!0}ngOnInit(){}delete(){0==this.id?console.log("error"):(this.dialog.open({title:"ELIMINAR PUBLICIDAD",message:"\xbfEST\xc1 SEGURO QUE QUIERE ELIMINAR ESTA PUBLICIDAD?",cancelText:"CANCELAR",confirmText:"ELIMINAR"}),this.dialog.confirmed().subscribe(i=>{i&&(this.isTop?this.publicity.deleteTopPublicity(this.id).subscribe(o=>{this.chargeTopPublicity()}):this.publicity.deleteBottomPublicity(this.id).subscribe(o=>{this.chargeBottomPublicity()}),this.snackBar.mensaje("Publicidad Eliminada exitosamente"))}))}chargeTopPublicity(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashPublicity.loadTopData(t)})}chargeBottomPublicity(){this.publicity.getPublicityBottomList().subscribe(t=>{this.dashPublicity.loadBottomData(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F.U),e.Y36(b),e.Y36(h.o),e.Y36(D.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-box-publicity"]],inputs:{imageUrl:"imageUrl",id:"id",isTop:"isTop"},decls:4,vars:1,consts:[[1,"box-container"],[1,"image-container"],["alt","",3,"src"],["title","Eliminar","backgroundColor","#red",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"figure",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"app-button-primary",3),e.NdJ("click",function(){return i.delete()}),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("src",i.imageUrl,e.LSH))},dependencies:[N],styles:[".box-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:1.5rem;align-items:center;border:1px solid #00ffc5;padding:1rem 1rem .5rem}.image-container[_ngcontent-%COMP%]{width:13rem;height:5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),n})();function un(n,r){if(1&n&&e._UZ(0,"img",20),2&n){const t=e.oxw();e.Q6J("src",t.dashPublicity.previewTopImage,e.LSH)}}function dn(n,r){if(1&n&&e._UZ(0,"app-box-publicity",21),2&n){const t=r.$implicit;e.Q6J("imageUrl",t.image)("id",t.id)}}let gn=(()=>{class n{constructor(t,i,o,a,c,l){this.dashPublicity=t,this.publicity=i,this.router=o,this.fb=a,this.dialog=c,this.snackBar=l,this.transitionTime=0,this.form=this.fb.group({transition:["",[s.kI.required]]})}ngOnInit(){this.chargePublicity()}regresar(){this.router.navigate(["/dashboard/juego/publicidad"])}guardarPublicidad(){const t={title:"CAMBIAR CONFIGURACION PROBABILIDADES JUEGO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CAMBIAR LA CONFIGURACION DE PROBABILIDADES?",cancelText:"CANCELAR",confirmText:"CREAR"};this.dashPublicity.getTopImageFileToUpload()||this.form.valid?this.dashPublicity.getTopImageFileToUpload()&&this.form.valid?(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData,a=new FormData;o.append("image",this.dashPublicity.getTopImageFileToUpload(),this.dashPublicity.getTopImageFileToUpload().name),a.append("time_display",this.form.get("transition")?.value),this.publicity.postTopPublicity(o).subscribe(c=>{this.publicity.updatePublicityConfigTop(1,a).subscribe(l=>{this.chargePublicity(),this.cleanData()})}),this.snackBar.mensaje("Publicidad Superior Agregada exitosamente")}})):this.dashPublicity.getTopImageFileToUpload()?(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("image",this.dashPublicity.getTopImageFileToUpload(),this.dashPublicity.getTopImageFileToUpload().name),o.append("time_display",this.form.get("transition")?.value),this.publicity.postTopPublicity(o).subscribe(a=>{this.chargePublicity()}),this.cleanData(),this.snackBar.mensaje("Publicidad Superior Agregada exitosamente")}})):this.form.valid&&(console.log("INgresa condicion solo form"),this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("time_display",this.form.get("transition")?.value),this.publicity.updatePublicityConfigTop(1,o).subscribe(a=>{this.cleanData(),this.chargePublicity()}),this.snackBar.mensaje("Publicidad Superior Agregada exitosamente")}})):this.snackBar.mensaje("Agregue cambios antes de guardar")}cleanData(){this.dashPublicity.setPreviewTopImage(""),this.form.controls.transition.setValue("")}chargePublicity(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashPublicity.loadTopData(t),this.publicity.getPublicityConfigTop().subscribe(i=>{this.transitionTime=i.time_display})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D.E),e.Y36(F.U),e.Y36(u.F0),e.Y36(s.qu),e.Y36(b),e.Y36(h.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-top-publicity"]],decls:29,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"container"],[1,"container-publicity"],[1,"container-add-publicity"],[1,"publicity__title","green-primary"],[3,"isTop"],[1,"preview-container"],["alt","",3,"src",4,"ngIf"],["action","",1,"container-transition",3,"formGroup"],["type","number","id","transition-seconds","formControlName","transition",1,"input-global"],[1,"green-primary","mt-2"],[1,"container-dimensions"],[1,"dimensions-instructions","color-white"],[1,"container-buttons"],["title","Regresar","backgroundColor","#d4d4d4",3,"click"],["title","Guardar",3,"click"],[1,"images-sections"],[1,"images-container"],[3,"imageUrl","id",4,"ngFor","ngForOf"],["alt","",3,"src"],[3,"imageUrl","id"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Publicidad Superior"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"p",5),e._uU(8,"Agregar Publicidad"),e.qZA(),e._UZ(9,"app-add-publicity",6),e.qZA(),e.TgZ(10,"figure",7),e.YNc(11,un,1,1,"img",8),e.qZA()(),e.TgZ(12,"form",9)(13,"p",5),e._uU(14,"Segundos de transici\xf3n"),e.qZA(),e._UZ(15,"input",10),e.TgZ(16,"p",11),e._uU(17),e.qZA()(),e.TgZ(18,"div",12)(19,"p",13),e._uU(20," Agregar imagenes en formato jpg "),e.qZA()(),e.TgZ(21,"div",14)(22,"app-button-primary",15),e.NdJ("click",function(){return i.regresar()}),e.qZA(),e.TgZ(23,"app-button-primary",16),e.NdJ("click",function(){return i.guardarPublicidad()}),e.qZA()(),e.TgZ(24,"div",17)(25,"p",5),e._uU(26,"Im\xe1genes"),e.qZA(),e.TgZ(27,"div",18),e.YNc(28,dn,1,2,"app-box-publicity",19),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("isTop",!0),e.xp6(2),e.Q6J("ngIf",""!=i.dashPublicity.previewTopImage),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(3),e.Udp("margin-left",".5rem"),e.xp6(2),e.hij(" Configuracion actual de transici\xf3n: ",i.transitionTime," "),e.xp6(11),e.Q6J("ngForOf",i.dashPublicity.getTopPublicityList()))},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,f.Ye,N,he,be],styles:[".container-publicity[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:1.5rem}.container-add-publicity[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.preview-container[_ngcontent-%COMP%]{width:9rem;height:5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}.container-transition[_ngcontent-%COMP%]{margin-top:1.5rem}.container-dimensions[_ngcontent-%COMP%]{margin-top:1rem;display:flex}.dimensions-instructions[_ngcontent-%COMP%]{display:flex;width:50%;flex-wrap:wrap}.container-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.images-container[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}"]}),n})();function _n(n,r){if(1&n&&e._UZ(0,"img",19),2&n){const t=e.oxw();e.Q6J("src",t.dashPublicity.previewBottomImage,e.LSH)}}function fn(n,r){if(1&n&&e._UZ(0,"app-box-publicity",20),2&n){const t=r.$implicit;e.Q6J("imageUrl",t.image)("id",t.id)("isTop",!1)}}let hn=(()=>{class n{constructor(t,i,o,a,c,l){this.dashPublicity=t,this.publicity=i,this.router=o,this.fb=a,this.dialog=c,this.snackBar=l,this.transitionTime=0,this.form=this.fb.group({transition:[""]})}ngOnInit(){this.chargePublicity()}regresar(){this.router.navigate(["/dashboard/juego/publicidad"])}guardarPublicidad(){const t={title:"CAMBIAR CONFIGURACION PROBABILIDADES JUEGO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CAMBIAR LA CONFIGURACION DE PROBABILIDADES?",cancelText:"CANCELAR",confirmText:"CREAR"};this.dashPublicity.getBottomImageFileToUpload()||this.form.valid?this.dashPublicity.getBottomImageFileToUpload()&&this.form.valid?(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData,a=new FormData;o.append("image",this.dashPublicity.getBottomImageFileToUpload(),this.dashPublicity.getBottomImageFileToUpload().name),a.append("time_display",this.form.get("transition")?.value),this.publicity.postBottomPublicity(o).subscribe(c=>{this.publicity.updatePublicityConfigBottom(a).subscribe(l=>{this.chargePublicity(),this.cleanData()})}),this.snackBar.mensaje("Publicidad Inferior Agregada exitosamente")}})):this.dashPublicity.getBottomImageFileToUpload()?(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("image",this.dashPublicity.getBottomImageFileToUpload(),this.dashPublicity.getBottomImageFileToUpload().name),this.publicity.postBottomPublicity(o).subscribe(a=>{this.chargePublicity()}),this.cleanData(),this.snackBar.mensaje("Publicidad Inferior Agregada exitosamente")}})):this.form.valid&&(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("time_display",this.form.get("transition")?.value),this.publicity.updatePublicityConfigBottom(o).subscribe(a=>{this.cleanData(),this.chargePublicity()}),this.snackBar.mensaje("Publicidad Inferior Actualizada exitosamente")}})):this.snackBar.mensaje("Agregue cambios antes de guardar")}cleanData(){this.dashPublicity.setPreviewBottomImage(""),this.form.controls.transition.setValue("")}chargePublicity(){this.publicity.getPublicityBottomList().subscribe(t=>{this.dashPublicity.loadBottomData(t),this.publicity.getPublicityConfigTop().subscribe(i=>{this.transitionTime=i.time_display})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D.E),e.Y36(F.U),e.Y36(u.F0),e.Y36(s.qu),e.Y36(b),e.Y36(h.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-bottom-publicity"]],decls:27,vars:6,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"container"],[1,"container-publicity"],[1,"container-add-publicity"],[1,"publicity__title","green-primary"],[3,"isTop"],[1,"preview-container"],["alt","",3,"src",4,"ngIf"],["action","",1,"container-transition",3,"formGroup"],["type","number","id","transition-seconds","formControlName","transition",1,"input-global"],[1,"container-dimensions"],[1,"dimensions-instructions","color-white"],[1,"container-buttons"],["title","Regresar","backgroundColor","#d4d4d4",3,"click"],["title","Guardar",3,"click"],[1,"images-sections"],[1,"images-container"],[3,"imageUrl","id","isTop",4,"ngFor","ngForOf"],["alt","",3,"src"],[3,"imageUrl","id","isTop"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Publicidad Inferior"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"p",5),e._uU(8,"Agregar Publicidad"),e.qZA(),e._UZ(9,"app-add-publicity",6),e.qZA(),e.TgZ(10,"figure",7),e.YNc(11,_n,1,1,"img",8),e.qZA()(),e.TgZ(12,"form",9)(13,"p",5),e._uU(14,"Segundos de transici\xf3n"),e.qZA(),e._UZ(15,"input",10),e.qZA(),e.TgZ(16,"div",11)(17,"p",12),e._uU(18," Agregar imagenes en formato jpg "),e.qZA()(),e.TgZ(19,"div",13)(20,"app-button-primary",14),e.NdJ("click",function(){return i.regresar()}),e.qZA(),e.TgZ(21,"app-button-primary",15),e.NdJ("click",function(){return i.guardarPublicidad()}),e.qZA()(),e.TgZ(22,"div",16)(23,"p",5),e._uU(24,"Im\xe1genes"),e.qZA(),e.TgZ(25,"div",17),e.YNc(26,fn,1,3,"app-box-publicity",18),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("isTop",!1),e.xp6(2),e.Q6J("ngIf",""!=i.dashPublicity.previewBottomImage),e.xp6(1),e.Q6J("formGroup",i.form),e.xp6(3),e.Udp("margin-left",".5rem"),e.xp6(11),e.Q6J("ngForOf",i.dashPublicity.getBottomPublicityList()))},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,f.Ye,N,he,be],styles:[".container-publicity[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:1.5rem}.container-add-publicity[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.preview-container[_ngcontent-%COMP%]{width:9rem;height:5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}.container-transition[_ngcontent-%COMP%]{margin-top:1.5rem}.container-dimensions[_ngcontent-%COMP%]{margin-top:1rem;display:flex}.dimensions-instructions[_ngcontent-%COMP%]{display:flex;width:50%;flex-wrap:wrap}.container-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.images-container[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}"]}),n})();function bn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Cn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Zn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let vn=(()=>{class n{constructor(t,i,o,a,c,l){this.api=t,this.router=i,this.fb=o,this.dialog=a,this.snackBar=c,this.dialogService=l,this.ocultar=!0,this.ocultar2=!0,this.ocultar3=!0,this.mensaje_error_lista=[],this.form=this.fb.group({old_password:["",s.kI.required],new_password:["",s.kI.required],confirm_password:["",s.kI.required]})}ngOnInit(){}regresarInicio(){this.router.navigate(["/dashboard"])}mensajes_errores(t){this.dialog.open(_e.o,{width:"50%",data:t})}cambiarContrasenia(){if(this.form.valid){let t=Number(localStorage.getItem("user_id")),i=new FormData;i.append("old_password",this.form.get("old_password")?.value),i.append("new_password",this.form.get("new_password")?.value),i.append("confirm_password",this.form.get("confirm_password")?.value),this.dialogService.open({title:"CAMBIAR CONTRASE\xd1A",message:"ESTA SEGURO QUE QUIERE CAMBIAR SU CONTRASE\xd1A?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(a=>{this.api.postCambiarContrase\u00f1a(t,i).subscribe(c=>{this.snackBar.mensaje("Contrase\xf1a cambiada correctamente"),this.router.navigate(["/dashboard"])},c=>{for(let l in c.error)this.mensaje_error_lista.push(c.error[l]);this.mensajes_errores(this.mensaje_error_lista),this.mensaje_error_lista=[]})})}else this.snackBar.mensaje("Por favor, complete todos los campos")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G),e.Y36(u.F0),e.Y36(s.qu),e.Y36(O.uw),e.Y36(h.o),e.Y36(b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cambiar-contrasenia"]],decls:49,vars:12,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"ancho"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","old_password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["matInput","","minlength","8","autocomplete","off","formControlName","new_password",3,"type"],["input_new",""],["align","end"],["matInput","","minlength","8","autocomplete","off","formControlName","confirm_password",3,"type"],["input_new_confirm",""],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Cambiar Contrase\xf1a"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"mat-card")(6,"form",2)(7,"mat-form-field",3)(8,"label"),e._uU(9,"Contase\xf1a Actual"),e.qZA(),e.TgZ(10,"div",4),e._UZ(11,"input",5),e.TgZ(12,"button",6),e.NdJ("click",function(){return i.ocultar=!i.ocultar}),e.TgZ(13,"mat-icon"),e._uU(14),e.qZA()()(),e.YNc(15,bn,2,0,"mat-error",7),e.qZA(),e.TgZ(16,"mat-form-field",3)(17,"label"),e._uU(18,"Nueva Contase\xf1a"),e.qZA(),e.TgZ(19,"div",4),e._UZ(20,"input",8,9),e.TgZ(22,"button",6),e.NdJ("click",function(){return i.ocultar2=!i.ocultar2}),e.TgZ(23,"mat-icon"),e._uU(24),e.qZA()()(),e.TgZ(25,"mat-hint",10),e._uU(26),e.qZA(),e.YNc(27,Cn,2,0,"mat-error",7),e.qZA(),e.TgZ(28,"mat-form-field",3)(29,"label"),e._uU(30,"Confirmar Nueva Contase\xf1a"),e.qZA(),e.TgZ(31,"div",4),e._UZ(32,"input",11,12),e.TgZ(34,"button",6),e.NdJ("click",function(){return i.ocultar3=!i.ocultar3}),e.TgZ(35,"mat-icon"),e._uU(36),e.qZA()()(),e.TgZ(37,"mat-hint",10),e._uU(38),e.qZA(),e.YNc(39,Zn,2,0,"mat-error",7),e.qZA()(),e.TgZ(40,"div",13)(41,"button",14),e.NdJ("click",function(){return i.regresarInicio()}),e.TgZ(42,"mat-icon"),e._uU(43,"close"),e.qZA(),e._uU(44," Cancelar "),e.qZA(),e.TgZ(45,"button",15),e.NdJ("click",function(){return i.cambiarContrasenia()}),e.TgZ(46,"mat-icon"),e._uU(47,"done"),e.qZA(),e._uU(48," Guardar "),e.qZA()()()()),2&t){const o=e.MAs(21),a=e.MAs(33);e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(5),e.Q6J("type",i.ocultar?"password":"text"),e.xp6(3),e.Oqu(i.ocultar?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",i.form.controls.old_password.hasError("required")),e.xp6(5),e.Q6J("type",i.ocultar2?"password":"text"),e.xp6(4),e.Oqu(i.ocultar2?"visibility_off":"visibility"),e.xp6(2),e.hij(" Minimo 8 caracteres ",o.value.length||0,"/8 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.new_password.hasError("required")),e.xp6(5),e.Q6J("type",i.ocultar3?"password":"text"),e.xp6(4),e.Oqu(i.ocultar3?"visibility_off":"visibility"),e.xp6(2),e.hij(" Minimo 8 caracteres ",a.value.length||0,"/8 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.confirm_password.hasError("required"))}},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.wO,s.sg,s.u,g.TO,g.KE,g.bx,g.R9,U.Nt,Z.Hw,C.lW,f.Ye,P.a8],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%], .mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}mat-card[_ngcontent-%COMP%]{background-color:var(--color-fondo-principal)}"]}),n})();function Tn(n,r){if(1&n&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function An(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1,"C\xe9dula"),e.qZA())}function yn(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.cedula)}}function xn(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Nombres"),e.qZA())}function qn(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.names)}}function Un(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Apellidos"),e.qZA())}function wn(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.surnames)}}function Pn(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1," Correo Electr\xf3nico "),e.qZA())}function On(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.email)}}function kn(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Sexo"),e.qZA())}function Mn(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.sex)}}function In(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Estado"),e.qZA())}function Nn(n,r){if(1&n&&(e.TgZ(0,"td",32)(1,"div",13),e._uU(2),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.state)}}function Sn(n,r){1&n&&e._UZ(0,"th",33)}function En(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"td",32)(1,"div")(2,"button",34),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.view(a.id))}),e.TgZ(3,"mat-icon",35),e._uU(4," remove_red_eye "),e.qZA()(),e.TgZ(5,"button",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.edit(a.id))}),e.TgZ(6,"mat-icon",35),e._uU(7," edit "),e.qZA()(),e.TgZ(8,"button",37),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.delete(a.id))}),e.TgZ(9,"mat-icon",13),e._uU(10," delete "),e.qZA()()()()}}function Dn(n,r){1&n&&e._UZ(0,"tr",38)}function Fn(n,r){1&n&&e._UZ(0,"tr",39)}function Yn(n,r){if(1&n&&(e.TgZ(0,"tr",40)(1,"td",41),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(18);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const Rn=function(){return[5,10,25,100]};let Jn=(()=>{class n{constructor(t,i,o,a,c){this.router=t,this.clientAPI=i,this.permissionAPI=o,this.confirmDialog=a,this.snackBar=c,this.Filters=[{id:"?state=Activo",name:"Clientes Activos"},{id:"?state=Inactivo",name:"Clientes Inactivos"},{id:"?ordering=-created",name:"Ultimos Clientes Creados"},{id:"?ordering=created",name:"Primeros Clientes Creados"}],this.filter_default="?ordering=-created",this.singularName="cliente",this.pluralName="clientes",this.actionName="eliminar",this.permissions=[],this.displayedColumns=["cedula","names","surnames","email","state","actions"]}ngOnInit(){this.loadAll(this.filter_default)}loadAll(t){this.clientAPI.getFilter(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLocaleLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}view(t){this.router.navigate(["/dashboard/"+this.pluralName+"/vizualizar/"+t])}edit(t){this.router.navigate(["/dashboard/"+this.pluralName+"/editar/"+t])}delete(t){var i=this;return A(function*(){yield i.canDelete(),i.permissions.length>0?(i.showDeleteDialog(),i.confirmDialog.confirmed().subscribe(o=>{o&&i.clientAPI.delete(t).subscribe(a=>{i.snackBar.mensaje(i.singularName+" eliminado exitosamente"),i.loadAll(i.filter_default)})})):i.snackBar.mensaje("No tienes permiso para Eliminar "+i.singularName)})()}showDeleteDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el "+this.singularName+"?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t)}canDelete(){var t=this;return A(function*(){let i=Number(localStorage.getItem("rol_id")),o=yield R(t.permissionAPI.getPermisosbyName("Eliminar Cliente")),a=Number(o[0].id);const c=yield R(t.permissionAPI.getPermisosbyRolandPermission(i,a));t.permissions=c})()}toCreation(){this.router.navigate(["dashboard/"+this.pluralName+"/crear"])}toList(){this.router.navigate(["dashboard/"+this.pluralName])}filter(t){this.loadAll(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(B),e.Y36(j),e.Y36(b),e.Y36(h.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-clients"]],viewQuery:function(t,i){if(1&t&&(e.Gf(k.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:48,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","cedula"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","names"],["matColumnDef","surnames"],["matColumnDef","email"],["matColumnDef","sex"],["matColumnDef","state"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Clientes"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.toCreation()}),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-icon"),e._uU(9,"add"),e.qZA()(),e.TgZ(10,"span"),e._uU(11),e.qZA()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"mat-select",8),e.NdJ("selectionChange",function(a){return i.filter(a.value)}),e.YNc(15,Tn,2,2,"mat-option",9),e.qZA()(),e.TgZ(16,"div",10)(17,"input",11,12),e.NdJ("keyup",function(a){return i.applyFilter(a)}),e.qZA(),e.TgZ(19,"mat-icon",13),e._uU(20," search "),e.qZA()()(),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,An,2,0,"th",17),e.YNc(25,yn,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,xn,2,0,"th",17),e.YNc(28,qn,2,1,"td",18),e.BQk(),e.ynx(29,20),e.YNc(30,Un,2,0,"th",17),e.YNc(31,wn,2,1,"td",18),e.BQk(),e.ynx(32,21),e.YNc(33,Pn,2,0,"th",17),e.YNc(34,On,2,1,"td",18),e.BQk(),e.ynx(35,22),e.YNc(36,kn,2,0,"th",17),e.YNc(37,Mn,2,1,"td",18),e.BQk(),e.ynx(38,23),e.YNc(39,In,2,0,"th",17),e.YNc(40,Nn,3,1,"td",18),e.BQk(),e.ynx(41,24),e.YNc(42,Sn,1,0,"th",25),e.YNc(43,En,11,0,"td",18),e.BQk(),e.YNc(44,Dn,1,0,"tr",26),e.YNc(45,Fn,1,0,"tr",27),e.YNc(46,Yn,3,1,"tr",28),e.qZA(),e._UZ(47,"mat-paginator",29),e.qZA()),2&t&&(e.xp6(11),e.hij("Agregar ",i.singularName,""),e.xp6(4),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,Rn)))},dependencies:[p.sg,U.Nt,Z.Hw,C.lW,f.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,L.gM,k.NW,q.YE,q.nU,y.gD,x.ey],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function Qn(n,r){if(1&n&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Gn(n,r){1&n&&(e.TgZ(0,"th",34),e._uU(1,"ID"),e.qZA())}function jn(n,r){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.id)}}function Ln(n,r){1&n&&(e.TgZ(0,"th",34),e._uU(1,"Nombre"),e.qZA())}function Bn(n,r){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.name)}}function zn(n,r){1&n&&(e.TgZ(0,"th",34),e._uU(1,"Descripci\xf3n"),e.qZA())}function Hn(n,r){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.description)}}function Vn(n,r){1&n&&(e.TgZ(0,"th",34),e._uU(1,"P. Disponible"),e.qZA())}function $n(n,r){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.initial_stock)}}function Wn(n,r){1&n&&(e.TgZ(0,"th",34),e._uU(1,"P. Condicionados"),e.qZA())}function Xn(n,r){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.condition_stock)}}function Kn(n,r){1&n&&(e.TgZ(0,"th",34),e._uU(1,"Total Premios"),e.qZA())}function eo(n,r){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.total_awards)}}function to(n,r){1&n&&(e.TgZ(0,"th",34),e._uU(1," Fecha de Creaci\xf3n "),e.qZA())}function io(n,r){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.created)}}function no(n,r){1&n&&(e.TgZ(0,"th",34),e._uU(1,"Juego"),e.qZA())}function oo(n,r){if(1&n&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.game)}}function ro(n,r){1&n&&(e.TgZ(0,"th",34),e._uU(1,"Estado"),e.qZA())}function ao(n,r){1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2,"Activo"),e.qZA()())}function so(n,r){1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2,"Inactivo"),e.qZA()())}function co(n,r){if(1&n&&(e.TgZ(0,"td",35),e.YNc(1,ao,3,0,"div",36),e.YNc(2,so,3,0,"ng-template",null,37,e.W1O),e.qZA()),2&n){const t=r.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.is_active)("ngIfElse",i)}}function lo(n,r){1&n&&e._UZ(0,"th",38)}function mo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"td",35)(1,"div")(2,"button",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.verPremios(a.id))}),e.TgZ(3,"mat-icon",40),e._uU(4,"remove_red_eye"),e.qZA()(),e.TgZ(5,"button",41),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editarPremios(a.id))}),e.TgZ(6,"mat-icon",40),e._uU(7,"edit"),e.qZA()(),e.TgZ(8,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.eliminarPremios(a.id))}),e.TgZ(9,"mat-icon",13),e._uU(10,"delete"),e.qZA()()()()}}function po(n,r){1&n&&e._UZ(0,"tr",43)}function uo(n,r){1&n&&e._UZ(0,"tr",44)}function go(n,r){if(1&n&&(e.TgZ(0,"tr",45)(1,"td",46),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(18);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const _o=function(){return[5,10,25,100]};let fo=(()=>{class n{constructor(t,i,o,a,c,l){this.router=t,this.dialog=i,this.snackbar=o,this.premiosSrv=a,this.dialogService=c,this.permisos_api=l,this.Filters=[{id:"?is_active=true",name:"Premios Activos"},{id:"?is_active=false",name:"Premios Inactivos"},{id:"?ordering=-created",name:"Ultimos Premios Creados"},{id:"?ordering=created",name:"Primeros Premios Creados"}],this.filter_default="?ordering=-created",this.Titulo="Premios",this.displayedColumns=["id","name","description","initial_stock","condition_stock","total_awards","created","juego","is_active","Acciones"],this.permisos=[]}ngOnInit(){this.cargarPremios(this.filter_default)}agregarPremios(){this.router.navigate(["/dashboard/premios/crear"])}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}cargarPremios(t){this.premiosSrv.getFilterAward(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}verPremios(t){this.router.navigate(["/dashboard/premios/visualizar/"+t])}editarPremios(t){this.router.navigate(["/dashboard/premios/editar/"+t])}eliminarPremios(t){var i=this;return A(function*(){yield i.Permisoeliminar(),i.permisos.length>0?(i.dialogService.open({title:"ELIMINAR PREMIO",message:"ESTA SEGURO QUE QUIERE ELIMINAR EL PREMIO?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),i.dialogService.confirmed().subscribe(a=>{a&&i.premiosSrv.deleteAward(t).subscribe(c=>{i.snackbar.mensaje("Premio Eliminado Existosamente"),i.cargarPremios(i.filter_default)},c=>{i.dialogService.error(c.error),i.cargarPremios(i.filter_default)})})):i.snackbar.mensaje("No tienes permisos para Eliminar Premios")})()}Permisoeliminar(){var t=this;return A(function*(){let i=Number(localStorage.getItem("rol_id")),o=yield R(t.permisos_api.getPermisosbyName("Eliminar Premio")),a=Number(o[0].id);const c=yield R(t.permisos_api.getPermisosbyRolandPermission(i,a));t.permisos=c})()}filter(t){this.cargarPremios(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(O.uw),e.Y36(h.o),e.Y36(S),e.Y36(b),e.Y36(j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-awards"]],viewQuery:function(t,i){if(1&t&&(e.Gf(k.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:57,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","initial_stock"],["matColumnDef","condition_stock"],["matColumnDef","total_awards"],["matColumnDef","created"],["matColumnDef","juego"],["matColumnDef","is_active"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.agregarPremios()}),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-icon"),e._uU(9,"add"),e.qZA()(),e.TgZ(10,"span"),e._uU(11,"Agregar Premio"),e.qZA()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"mat-select",8),e.NdJ("selectionChange",function(a){return i.filter(a.value)}),e.YNc(15,Qn,2,2,"mat-option",9),e.qZA()(),e.TgZ(16,"div",10)(17,"input",11,12),e.NdJ("keyup",function(a){return i.aplicarFiltro(a)}),e.qZA(),e.TgZ(19,"mat-icon",13),e._uU(20," search "),e.qZA()()(),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,Gn,2,0,"th",17),e.YNc(25,jn,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,Ln,2,0,"th",17),e.YNc(28,Bn,2,1,"td",18),e.BQk(),e.ynx(29,20),e.YNc(30,zn,2,0,"th",17),e.YNc(31,Hn,2,1,"td",18),e.BQk(),e.ynx(32,21),e.YNc(33,Vn,2,0,"th",17),e.YNc(34,$n,2,1,"td",18),e.BQk(),e.ynx(35,22),e.YNc(36,Wn,2,0,"th",17),e.YNc(37,Xn,2,1,"td",18),e.BQk(),e.ynx(38,23),e.YNc(39,Kn,2,0,"th",17),e.YNc(40,eo,2,1,"td",18),e.BQk(),e.ynx(41,24),e.YNc(42,to,2,0,"th",17),e.YNc(43,io,2,1,"td",18),e.BQk(),e.ynx(44,25),e.YNc(45,no,2,0,"th",17),e.YNc(46,oo,2,1,"td",18),e.BQk(),e.ynx(47,26),e.YNc(48,ro,2,0,"th",17),e.YNc(49,co,4,2,"td",18),e.BQk(),e.ynx(50,27),e.YNc(51,lo,1,0,"th",28),e.YNc(52,mo,11,0,"td",18),e.BQk(),e.YNc(53,po,1,0,"tr",29),e.YNc(54,uo,1,0,"tr",30),e.YNc(55,go,3,1,"tr",31),e.qZA(),e._UZ(56,"mat-paginator",32),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(31),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,_o)))},dependencies:[p.sg,p.O5,U.Nt,Z.Hw,C.lW,f.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,L.gM,k.NW,q.YE,q.nU,y.gD,x.ey],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function ho(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function bo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Co(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Zo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function vo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function To(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Ao(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function yo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function xo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let qo=(()=>{class n{constructor(t,i,o,a,c){this.router=t,this.formBuilder=i,this.snackBar=o,this.confirmDialog=a,this.api=c,this.singularName="cliente",this.pluralName="clientes",this.actionName="Crear",this.formGroup=this.formBuilder.group({cedula:["",s.kI.required],names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),phone:["",s.kI.required],sex:["",s.kI.required],address:["",s.kI.required],state:["",s.kI.required]})}toList(){this.router.navigate(["dashboard/"+this.pluralName])}create(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el nuevo "+this.singularName+"?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){this.confirmDialog.confirmed().subscribe(t=>{if(t){let i=this.fillForm();this.api.post(i).subscribe({next:o=>{this.snackBar.mensaje(this.singularName+" creado exitosamente"),this.toList()},error:o=>{this.confirmDialog.error(o.error)}})}})}fillForm(){let t=localStorage.getItem("user_id"),i=new FormData;return i.append("cedula",this.formGroup.get("cedula")?.value),i.append("names",this.formGroup.get("names")?.value),i.append("surnames",this.formGroup.get("surnames")?.value),i.append("email",this.formGroup.get("email")?.value),i.append("phone",this.formGroup.get("phone")?.value),i.append("address",this.formGroup.get("address")?.value),i.append("sex",this.formGroup.get("sex")?.value),i.append("state",this.formGroup.get("state")?.value),i.append("user_client_register",t),i.append("user_client_modify",t),i}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(s.qu),e.Y36(h.o),e.Y36(b),e.Y36(B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-client"]],decls:87,vars:13,consts:[[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["formControlName","sex","mat-select",""],["value","Femenino"],["value","Masculino"],["autocomplete","off","formControlName","address","type","text","matInput",""],["formControlName","state","mat-select",""],["value","Activo"],["value","Inactivo"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Nuevo Cliente"),e.qZA()(),e.TgZ(3,"div",0)(4,"form",1)(5,"mat-form-field")(6,"label"),e._uU(7,"C\xe9dula"),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"input",3,4),e.qZA(),e.TgZ(11,"mat-hint",5),e._uU(12),e.qZA(),e.YNc(13,ho,2,0,"mat-error",6),e.qZA(),e.TgZ(14,"mat-form-field")(15,"label"),e._uU(16,"Nombres"),e.qZA(),e.TgZ(17,"div",2),e._UZ(18,"input",7),e.qZA(),e.TgZ(19,"mat-hint"),e._uU(20,"Nombre del Cliente"),e.qZA(),e.YNc(21,bo,2,0,"mat-error",6),e.qZA(),e.TgZ(22,"mat-form-field")(23,"label"),e._uU(24,"Apellidos"),e.qZA(),e.TgZ(25,"div",2),e._UZ(26,"input",8),e.qZA(),e.TgZ(27,"mat-hint"),e._uU(28,"Apellido paterno y materno"),e.qZA(),e.YNc(29,Co,2,0,"mat-error",6),e.qZA(),e.TgZ(30,"mat-form-field")(31,"label"),e._uU(32,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(33,"div",2),e._UZ(34,"input",9),e.qZA(),e.TgZ(35,"mat-hint"),e._uU(36,"Correo electr\xf3nico"),e.qZA(),e.YNc(37,Zo,2,0,"mat-error",6),e.YNc(38,vo,2,0,"mat-error",6),e.qZA(),e.TgZ(39,"mat-form-field")(40,"label"),e._uU(41,"Tel\xe9fono"),e.qZA(),e.TgZ(42,"div",2),e._UZ(43,"input",10,11),e.qZA(),e.TgZ(45,"mat-hint",5),e._uU(46),e.qZA(),e.YNc(47,To,2,0,"mat-error",6),e.qZA(),e.TgZ(48,"mat-form-field")(49,"label"),e._uU(50,"Sexo"),e.qZA(),e.TgZ(51,"mat-select",12)(52,"mat-option",13),e._uU(53,"Femenino"),e.qZA(),e.TgZ(54,"mat-option",14),e._uU(55,"Masculino"),e.qZA()(),e.TgZ(56,"mat-hint"),e._uU(57,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(58,Ao,2,0,"mat-error",6),e.qZA(),e.TgZ(59,"mat-form-field")(60,"label"),e._uU(61,"Direcci\xf3n"),e.qZA(),e.TgZ(62,"div",2),e._UZ(63,"input",15),e.qZA(),e.TgZ(64,"mat-hint"),e._uU(65,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(66,yo,2,0,"mat-error",6),e.qZA(),e.TgZ(67,"mat-form-field")(68,"label"),e._uU(69,"Estado"),e.qZA(),e.TgZ(70,"mat-select",16)(71,"mat-option",17),e._uU(72,"Activo"),e.qZA(),e.TgZ(73,"mat-option",18),e._uU(74,"Inactivo"),e.qZA()(),e.TgZ(75,"mat-hint"),e._uU(76,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(77,xo,2,0,"mat-error",6),e.qZA()(),e.TgZ(78,"div",19)(79,"button",20),e.NdJ("click",function(){return i.toList()}),e.TgZ(80,"mat-icon"),e._uU(81,"close"),e.qZA(),e._uU(82," Cancelar "),e.qZA(),e.TgZ(83,"button",21),e.NdJ("click",function(){return i.create()}),e.TgZ(84,"mat-icon"),e._uU(85,"done"),e.qZA(),e._uU(86),e.qZA()()()),2&t){const o=e.MAs(10),a=e.MAs(44);e.xp6(4),e.Q6J("formGroup",i.formGroup),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.cedula.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.email.hasError("email")),e.xp6(8),e.hij(" ",a.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.address.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.state.hasError("required")),e.xp6(9),e.hij(" ",i.actionName," ")}},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,g.TO,g.KE,g.bx,U.Nt,Z.Hw,C.lW,f.Ye,y.gD,x.ey],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();const Uo=["takeInput"];function wo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Po(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Oo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function ko(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Mo(n,r){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Io(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function No(n,r){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function So(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let Eo=(()=>{class n{constructor(t,i,o,a,c,l){this.router=t,this.fb=i,this.awardSrv=o,this.snackbar=a,this.dialogService=c,this.imageSrv=l,this.img_upload="assets/img/upload.png",this.previsulizacion=this.img_upload,this.Categorias=[{id:"L",name:"Legendaria"},{id:"E",name:"Epica"},{id:"R",name:"Rara"},{id:"C",name:"Com\xfan"}],this.Juegos=[{id:"1",name:"Tragamonedas"}],this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],initial_stock:["",s.kI.required],is_active:["",s.kI.required],category:["",s.kI.required],juego:["",s.kI.required]})}ngOnInit(){}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base}):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}deleteImage(){this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.fileToUpload=null}createAwards(){this.form.valid&&this.fileToUpload?(this.imagen=this.fileToUpload,this.dialogService.open({title:"CREAR PREMIO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO PREMIO?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData,a=localStorage.getItem("user_id");o.append("name",this.form.get("name")?.value),o.append("description",this.form.get("description")?.value),o.append("initial_stock",this.form.get("initial_stock")?.value),o.append("is_active",this.form.get("is_active")?.value),o.append("category",this.form.get("category")?.value),o.append("game",this.form.get("juego")?.value),o.append("imagen",this.imagen,this.imagen.name),o.append("user_register",a),o.append("user_modify",a),this.awardSrv.postAward(o).subscribe(c=>{this.snackbar.mensaje("Premio Creado Exitosamente"),this.router.navigate(["dashboard/premios"])},c=>{this.dialogService.error(c.error)})}})):this.snackbar.mensaje("Complete todos los campos")}backAwards(){this.router.navigate(["dashboard/premios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(s.qu),e.Y36(S),e.Y36(h.o),e.Y36(b),e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-awards"]],viewQuery:function(t,i){if(1&t&&e.Gf(Uo,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:79,vars:10,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["autocomplete","off","formControlName","initial_stock","onpaste","return false","type","number","onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],["formControlName","category","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","juego","mat-select",""],[1,"file_container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",3,"change"],["takeInput",""],["mat-icon-button","",1,"green-primary",3,"click"],[1,"container_img"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary","color","primary",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Nuevo Premio"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"mat-card",2)(6,"div",3)(7,"div")(8,"form",4)(9,"mat-form-field")(10,"label"),e._uU(11,"Nombre"),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"input",6),e.qZA(),e.TgZ(14,"mat-hint"),e._uU(15,"Nombre del Premio"),e.qZA(),e.YNc(16,wo,2,0,"mat-error",7),e.qZA(),e.TgZ(17,"mat-form-field")(18,"label"),e._uU(19,"Descripci\xf3n"),e.qZA(),e.TgZ(20,"div",5),e._UZ(21,"input",8),e.qZA(),e.TgZ(22,"mat-hint"),e._uU(23,"Descripci\xf3n del Premio"),e.qZA(),e.YNc(24,Po,2,0,"mat-error",7),e.qZA(),e.TgZ(25,"mat-form-field")(26,"label"),e._uU(27,"Stock Inicial"),e.qZA(),e.TgZ(28,"div",5),e._UZ(29,"input",9),e.qZA(),e.TgZ(30,"mat-hint"),e._uU(31,"Stock Inicial del Premio"),e.qZA(),e.YNc(32,Oo,2,0,"mat-error",7),e.qZA(),e.TgZ(33,"mat-form-field")(34,"label"),e._uU(35,"Estado"),e.qZA(),e.TgZ(36,"mat-select",10)(37,"mat-option",11),e._uU(38,"Activo"),e.qZA(),e.TgZ(39,"mat-option",12),e._uU(40,"Inactivo"),e.qZA()(),e.TgZ(41,"mat-hint"),e._uU(42,"Estado del Premio"),e.qZA(),e.YNc(43,ko,2,0,"mat-error",7),e.qZA(),e.TgZ(44,"mat-form-field")(45,"label"),e._uU(46,"Categotr\xeda"),e.qZA(),e.TgZ(47,"mat-select",13),e.YNc(48,Mo,2,2,"mat-option",14),e.qZA(),e.TgZ(49,"mat-hint"),e._uU(50,"Categoria del Premio"),e.qZA(),e.YNc(51,Io,2,0,"mat-error",7),e.qZA(),e.TgZ(52,"mat-form-field")(53,"label"),e._uU(54,"Juego"),e.qZA(),e.TgZ(55,"mat-select",15),e.YNc(56,No,2,2,"mat-option",14),e.qZA(),e.TgZ(57,"mat-hint"),e._uU(58,"Juego del Premio"),e.qZA(),e.YNc(59,So,2,0,"mat-error",7),e.qZA()()(),e.TgZ(60,"div")(61,"div",16)(62,"div",17)(63,"input",18,19),e.NdJ("change",function(a){return i.capturarFile(a)}),e.qZA()(),e.TgZ(65,"button",20),e.NdJ("click",function(){return i.deleteImage()}),e.TgZ(66,"mat-icon"),e._uU(67,"close"),e.qZA()()(),e.TgZ(68,"div",21),e._UZ(69,"img",22),e.qZA()()(),e.TgZ(70,"div",23)(71,"button",24),e.NdJ("click",function(){return i.backAwards()}),e.TgZ(72,"mat-icon"),e._uU(73,"close"),e.qZA(),e._uU(74," Cancelar "),e.qZA(),e.TgZ(75,"button",25),e.NdJ("click",function(){return i.createAwards()}),e.TgZ(76,"mat-icon"),e._uU(77,"done"),e.qZA(),e._uU(78," Crear "),e.qZA()()()()),2&t&&(e.xp6(8),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.initial_stock.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Categorias),e.xp6(3),e.Q6J("ngIf",i.form.controls.category.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Juegos),e.xp6(3),e.Q6J("ngIf",i.form.controls.juego.hasError("required")),e.xp6(10),e.Q6J("src",i.previsulizacion,e.LSH))},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,g.TO,g.KE,g.bx,U.Nt,Z.Hw,C.lW,f.Ye,y.gD,x.ey,P.a8],styles:['mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_img[_ngcontent-%COMP%]{width:400px;height:250px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:300px;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Selecciona una imagen (png, jpg, jpeg)"}.file_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}']}),n})();const Do=["takeInput"];function Fo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Yo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Ro(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Jo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Qo(n,r){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Go(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function jo(n,r){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Lo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let Bo=(()=>{class n{constructor(t,i,o,a,c,l,d,T,w){this.router=t,this.fb=i,this.dialog=o,this.sanitizer=a,this.awardSrv=c,this.snackbar=l,this.dialogService=d,this.activerouter=T,this.imageSrv=w,this.img_upload="assets/img/upload.png",this.previsulizacion=this.img_upload,this.Categorias=[{id:"L",name:"Legendaria"},{id:"E",name:"Epica"},{id:"R",name:"Rara"},{id:"C",name:"Com\xfan"}],this.Juegos=[{id:"1",name:"Tragamonedas"}],this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],initial_stock:["",s.kI.required],is_active:["",s.kI.required],category:["",s.kI.required],juego:["",s.kI.required]})}ngOnInit(){let t=this.activerouter.snapshot.paramMap.get("id");this.awardSrv.getAwardbyId(Number(t)).subscribe(i=>{this.getPremio=i,this.form.patchValue({name:this.getPremio.name,description:this.getPremio.description,initial_stock:this.getPremio.initial_stock,is_active:this.getPremio.is_active.toString(),category:this.getPremio.category,juego:this.getPremio.game.toString()}),this.previsulizacion=this.getPremio.imagen},i=>{console.log(i)})}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base}):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}deleteImage(){this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.fileToUpload=null}editAwards(){if(this.form.valid){let t=this.activerouter.snapshot.paramMap.get("id");const i={title:"EDITAR PREMIO",message:"\xbfEST\xc1 SEGURO QUE QUIERE EDITAR EL PREMIO "+this.form.get("name")?.value+"?",cancelText:"CANCELAR",confirmText:"EDITAR"};this.dialogService.open(i),this.dialogService.confirmed().subscribe(o=>{if(o){let a=new FormData,c=localStorage.getItem("user_id");a.append("name",this.form.get("name")?.value),a.append("description",this.form.get("description")?.value),a.append("initial_stock",this.form.get("initial_stock")?.value),a.append("is_active",this.form.get("is_active")?.value),a.append("category",this.form.get("category")?.value),a.append("game",this.form.get("juego")?.value),this.fileToUpload&&(this.imagen=this.fileToUpload,a.append("imagen",this.imagen,this.imagen.name)),a.append("user_modify",c),this.awardSrv.putAward(Number(t),a).subscribe(l=>{this.snackbar.mensaje("Premio Actualizado Exitosamente"),this.router.navigate(["/dashboard/premios"])},l=>{this.dialogService.error(l.error)})}})}}backAwards(){this.router.navigate(["/dashboard/premios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(s.qu),e.Y36(O.uw),e.Y36(de.H7),e.Y36(S),e.Y36(h.o),e.Y36(b),e.Y36(u.gz),e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-awards"]],viewQuery:function(t,i){if(1&t&&e.Gf(Do,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:79,vars:12,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["autocomplete","off","formControlName","initial_stock","onpaste","return false","type","number","onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],["formControlName","category","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","juego","mat-select","",3,"disabled"],[1,"file_container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",3,"change"],["takeInput",""],["mat-icon-button","",1,"green-primary",3,"click"],[1,"container_img"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary","color","primary",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"mat-card",2)(6,"div",3)(7,"div")(8,"form",4)(9,"mat-form-field")(10,"label"),e._uU(11,"Nombre"),e.qZA(),e.TgZ(12,"div",5),e._UZ(13,"input",6),e.qZA(),e.TgZ(14,"mat-hint"),e._uU(15,"Nombre del Premio"),e.qZA(),e.YNc(16,Fo,2,0,"mat-error",7),e.qZA(),e.TgZ(17,"mat-form-field")(18,"label"),e._uU(19,"Descripci\xf3n"),e.qZA(),e.TgZ(20,"div",5),e._UZ(21,"input",8),e.qZA(),e.TgZ(22,"mat-hint"),e._uU(23,"Descripci\xf3n del Premio"),e.qZA(),e.YNc(24,Yo,2,0,"mat-error",7),e.qZA(),e.TgZ(25,"mat-form-field")(26,"label"),e._uU(27,"Stock Inicial"),e.qZA(),e.TgZ(28,"div",5),e._UZ(29,"input",9),e.qZA(),e.TgZ(30,"mat-hint"),e._uU(31,"Stock Inicial del Premio"),e.qZA(),e.YNc(32,Ro,2,0,"mat-error",7),e.qZA(),e.TgZ(33,"mat-form-field")(34,"label"),e._uU(35,"Estado"),e.qZA(),e.TgZ(36,"mat-select",10)(37,"mat-option",11),e._uU(38,"Activo"),e.qZA(),e.TgZ(39,"mat-option",12),e._uU(40,"Inactivo"),e.qZA()(),e.TgZ(41,"mat-hint"),e._uU(42,"Estado del Premio"),e.qZA(),e.YNc(43,Jo,2,0,"mat-error",7),e.qZA(),e.TgZ(44,"mat-form-field")(45,"label"),e._uU(46,"Categotr\xeda"),e.qZA(),e.TgZ(47,"mat-select",13),e.YNc(48,Qo,2,2,"mat-option",14),e.qZA(),e.TgZ(49,"mat-hint"),e._uU(50,"Categoria del Premio"),e.qZA(),e.YNc(51,Go,2,0,"mat-error",7),e.qZA(),e.TgZ(52,"mat-form-field")(53,"label"),e._uU(54,"Juego"),e.qZA(),e.TgZ(55,"mat-select",15),e.YNc(56,jo,2,2,"mat-option",14),e.qZA(),e.TgZ(57,"mat-hint"),e._uU(58,"Juego del Premio"),e.qZA(),e.YNc(59,Lo,2,0,"mat-error",7),e.qZA()()(),e.TgZ(60,"div")(61,"div",16)(62,"div",17)(63,"input",18,19),e.NdJ("change",function(a){return i.capturarFile(a)}),e.qZA()(),e.TgZ(65,"button",20),e.NdJ("click",function(){return i.deleteImage()}),e.TgZ(66,"mat-icon"),e._uU(67,"close"),e.qZA()()(),e.TgZ(68,"div",21),e._UZ(69,"img",22),e.qZA()()(),e.TgZ(70,"div",23)(71,"button",24),e.NdJ("click",function(){return i.backAwards()}),e.TgZ(72,"mat-icon"),e._uU(73,"close"),e.qZA(),e._uU(74," Cancelar "),e.qZA(),e.TgZ(75,"button",25),e.NdJ("click",function(){return i.editAwards()}),e.TgZ(76,"mat-icon"),e._uU(77,"done"),e.qZA(),e._uU(78," Guardar "),e.qZA()()()()),2&t&&(e.xp6(2),e.hij("Editar Premio : ",i.getPremio.name,""),e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.initial_stock.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Categorias),e.xp6(3),e.Q6J("ngIf",i.form.controls.category.hasError("required")),e.xp6(4),e.Q6J("disabled",!0),e.xp6(1),e.Q6J("ngForOf",i.Juegos),e.xp6(3),e.Q6J("ngIf",i.form.controls.juego.hasError("required")),e.xp6(10),e.Q6J("src",i.previsulizacion,e.LSH))},dependencies:[p.sg,p.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,g.TO,g.KE,g.bx,U.Nt,Z.Hw,C.lW,f.Ye,y.gD,x.ey,P.a8],styles:['mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.container_img[_ngcontent-%COMP%]{width:400px;height:250px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:300px;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Selecciona una imagen (png, jpg, jpeg)"}.file_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}']}),n})();function zo(n,r){1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2,"Activo"),e.qZA()())}function Ho(n,r){1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1,"Inactivo"),e.qZA())}function Vo(n,r){if(1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.premioget.user_modify)}}function $o(n,r){if(1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.premioget.user_register)}}let Wo=(()=>{class n{constructor(t,i,o){this.award=t,this.router=i,this.activerouter=o}ngOnInit(){let t=this.activerouter.snapshot.paramMap.get("id");this.award.getAwardbyIdVisualizer(Number(t)).subscribe(i=>{this.premioget=i,console.log(this.premioget)})}regresarPremios(){this.router.navigate(["/dashboard/premios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S),e.Y36(u.F0),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-awards"]],decls:95,vars:15,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[1,"container"],[1,"datos"],["role","listitem"],[4,"ngIf","ngIfElse"],["inactivo",""],["sinmodificar",""],[1,"container_img"],["alt","",3,"src"],[1,"container_botones"],["mat-raised-button","",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Visualizar premio"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"mat-card",2)(6,"div",3)(7,"div")(8,"div",4)(9,"div",5)(10,"mat-label"),e._uU(11,"Nombre"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"mat-list-item",6),e._uU(14),e.qZA()(),e.TgZ(15,"div",5)(16,"mat-label"),e._uU(17,"Descripci\xf3n"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"mat-list-item",6),e._uU(20),e.qZA()()(),e.TgZ(21,"div",4)(22,"div",5)(23,"mat-label"),e._uU(24,"Premios Disponibles"),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"mat-list-item",6),e._uU(27),e.qZA()(),e.TgZ(28,"div",5)(29,"mat-label"),e._uU(30,"Premios Condicionados"),e.qZA(),e._UZ(31,"br"),e.TgZ(32,"mat-list-item",6),e._uU(33),e.qZA()()(),e.TgZ(34,"div",4)(35,"div",5)(36,"mat-label"),e._uU(37,"Premios Entregados"),e.qZA(),e._UZ(38,"br"),e.TgZ(39,"mat-list-item",6),e._uU(40),e.qZA()(),e.TgZ(41,"div",5)(42,"mat-label"),e._uU(43,"Estado"),e.qZA(),e._UZ(44,"br"),e.YNc(45,zo,3,0,"div",7),e.YNc(46,Ho,2,0,"ng-template",null,8,e.W1O),e.qZA()(),e.TgZ(48,"div",4)(49,"div",5)(50,"mat-label"),e._uU(51,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(52,"br"),e.TgZ(53,"mat-list-item",6),e._uU(54),e.qZA()(),e.TgZ(55,"div",5)(56,"mat-label"),e._uU(57,"\xdaltima Modificaci\xf3n"),e.qZA(),e._UZ(58,"br"),e.TgZ(59,"mat-list-item",6),e._uU(60),e.qZA()()(),e.TgZ(61,"div",4)(62,"div",5)(63,"mat-label"),e._uU(64,"Usuario que registro el premio"),e.qZA(),e._UZ(65,"br"),e.TgZ(66,"mat-list-item",6),e._uU(67),e.qZA()(),e.TgZ(68,"div",5)(69,"mat-label"),e._uU(70,"\xdaltimo usuario en modificar el premio"),e.qZA(),e._UZ(71,"br"),e.YNc(72,Vo,3,1,"div",7),e.YNc(73,$o,2,1,"ng-template",null,9,e.W1O),e.qZA()(),e.TgZ(75,"div",4)(76,"div",5)(77,"mat-label"),e._uU(78,"Categor\xeda"),e.qZA(),e._UZ(79,"br"),e.TgZ(80,"mat-list-item",6),e._uU(81),e.qZA()(),e.TgZ(82,"div",5)(83,"mat-label"),e._uU(84,"EL premio pertenece al juego"),e.qZA(),e._UZ(85,"br"),e.TgZ(86,"mat-list-item",6),e._uU(87),e.qZA()()()(),e.TgZ(88,"div",10),e._UZ(89,"img",11),e.qZA()(),e.TgZ(90,"div",12)(91,"button",13),e.NdJ("click",function(){return i.regresarPremios()}),e.TgZ(92,"mat-icon"),e._uU(93,"close"),e.qZA(),e._uU(94," Salir "),e.qZA()()()()),2&t){const o=e.MAs(47),a=e.MAs(74);e.xp6(14),e.Oqu(i.premioget.name),e.xp6(6),e.Oqu(i.premioget.description),e.xp6(7),e.Oqu(i.premioget.initial_stock),e.xp6(6),e.Oqu(i.premioget.condition_stock),e.xp6(7),e.Oqu(i.premioget.prizes_awarded),e.xp6(5),e.Q6J("ngIf",i.premioget.is_active)("ngIfElse",o),e.xp6(9),e.Oqu(i.premioget.created),e.xp6(6),e.Oqu(i.premioget.modified),e.xp6(7),e.Oqu(i.premioget.user_register),e.xp6(5),e.Q6J("ngIf",i.premioget.user_modify)("ngIfElse",a),e.xp6(9),e.Oqu(i.premioget.category),e.xp6(6),e.Oqu(i.premioget.game),e.xp6(2),e.s9C("src",i.premioget.imagen,e.LSH)}},dependencies:[p.O5,g.hX,Z.Hw,C.lW,f.Ye,Y.Tg,P.a8],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:20px}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background-color:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.container_img[_ngcontent-%COMP%]{width:500px;height:350px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.mat-list-item[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}button[_ngcontent-%COMP%]{margin-top:25px;background:var(--color-cafe);color:var(--color-letras)}button[_ngcontent-%COMP%]:hover{background:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})();var ae=_(3398);let se=(()=>{class n{constructor(t,i){this.probability=t,this.awards=i,this.id_game="1",this.gameName="Tragamonedas",this.newAwards=[],this.awardsGame=[],this.legendary_box=[1],this.epic_box=[1,2],this.common_box=[1,2,4]}addItemToCategory(t,i){let o={game_id:this.id_game,premio_id:String(t.id)};this.probability.postItemToCategory(o).subscribe(a=>{this.awards.getAward().subscribe(c=>{c.map(l=>{this.probability.getAwardsListGame().subscribe(d=>{d.forEach(T=>{l.category==i&&T.premio_id==l.id&&this.newAwards.push(l)})})})})})}setAwardsGame(t){this.awardsGame=t}getAwardsGame(){return this.awardsGame}getIdGame(){return this.id_game}getGameName(){return this.gameName}addProbabilityConfig(t){}getNewAwards(){return this.newAwards}getLegendaryBoxes(){return this.legendary_box}getEpicBoxes(){return this.epic_box}getCommonBoxes(){return this.common_box}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ae.g),e.LFG(S))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xo(n,r){if(1&n&&(e.TgZ(0,"figure",10),e._UZ(1,"img",11),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.s9C("src",t.imagen,e.LSH)}}function Ko(n,r){if(1&n&&(e.TgZ(0,"figure",10),e._UZ(1,"img",11),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.s9C("src",t.image,e.LSH)}}function er(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ko,2,1,"figure",6),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.publicityList)}}function tr(n,r){1&n&&e._UZ(0,"div",12)}let ir=(()=>{class n{constructor(t,i,o){this.probability=t,this.controller=i,this.publicity=o,this.isModalOpen=!1,this.propagar=new e.vpe,this.awards=[],this.publicityList=[],this.title="",this.color="",this.box_number=1,this.boxes=[]}ngOnInit(){}reload(){this.awards=this.controller.getNewAwards()}openModal(){this.isModalOpen=!0,this.propagar.emit({isModalOpen:this.isModalOpen,category:this.title,awards:this.awards,publicity:this.publicityList})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ae.g),e.Y36(se),e.Y36(F.U))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-categorie"]],inputs:{awards:"awards",title:"title",color:"color",box_number:"box_number",boxes:"boxes"},outputs:{propagar:"propagar"},decls:12,vars:4,consts:[[1,"container-category"],[1,"categorie","background-light-blue-primary"],[1,"background-navy-primary","btn-container","green-primary"],[1,"add-container",3,"click"],[1,"styled-icon"],[1,"category-title","m-0","me-3"],["class","award-container",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"container-box"],["class","box",4,"ngFor","ngForOf"],[1,"award-container"],["alt","award-image",3,"src"],[1,"box"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.NdJ("click",function(){return i.openModal()}),e.TgZ(4,"mat-icon",4),e._uU(5,"add"),e.qZA()(),e.TgZ(6,"p",5),e._uU(7),e.qZA()(),e.YNc(8,Xo,2,1,"figure",6),e.YNc(9,er,2,1,"div",7),e.qZA(),e.TgZ(10,"div",8),e.YNc(11,tr,1,0,"div",9),e.qZA()()),2&t&&(e.xp6(7),e.Oqu(i.title),e.xp6(1),e.Q6J("ngForOf",i.awards),e.xp6(1),e.Q6J("ngIf","publicity"==i.title),e.xp6(2),e.Q6J("ngForOf",i.boxes))},dependencies:[p.sg,p.O5,Z.Hw],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%}.container-category[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;margin-bottom:3rem}.categorie[_ngcontent-%COMP%]{display:flex;gap:.2rem;align-items:center;justify-content:flex-start;width:80%;flex-wrap:wrap;padding:.5rem 0;border-radius:6px}.category-title[_ngcontent-%COMP%]{font-size:1rem}.add-container[_ngcontent-%COMP%]{border-radius:15px;width:3rem;height:1rem;display:flex;justify-content:center;align-items:center;border:1px solid #00ffc5;padding:.3rem 0}.styled-icon[_ngcontent-%COMP%]{font-size:17px;width:17px;height:17px}.btn-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center;border-radius:6px;padding:.3rem 1rem;margin-left:.3rem;background-color:#002130}.award-container[_ngcontent-%COMP%]{width:5rem;height:5rem;margin:0}.container-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.4rem}.box[_ngcontent-%COMP%]{width:5rem;height:5rem;border:1px solid #00ffc5}"]}),n})(),nr=(()=>{class n{constructor(t){this.controller=t,this.name="product name",this.stock="-",this.imgUrl="",this.newAwardList=[],this.propagar=new e.vpe}ngOnInit(){}addItem(){this.controller.addItemToCategory(this.award,this.award.category),this.newAwardList=this.controller.getNewAwards(),this.propagar.emit(this.newAwardList)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(se))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal-item"]],inputs:{name:"name",stock:"stock",imgUrl:"imgUrl",award:"award"},outputs:{propagar:"propagar"},decls:9,vars:3,consts:[[1,"container-item"],[1,"item-nombre"],[1,"item__img-container"],["alt","award-img",3,"src"],[1,"item-stock"],["type","button",1,"",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"figure",2),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"p",4),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return i.addItem()}),e._uU(8,"Anadir"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(i.name),e.xp6(2),e.s9C("src",i.imgUrl,e.LSH),e.xp6(2),e.hij("stock: ",i.stock,""))},styles:[".container-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.item__img-container[_ngcontent-%COMP%]{width:5rem;height:5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}.modal-item__btn[_ngcontent-%COMP%]{outline:none;padding:1.5rem}"]}),n})();function or(n,r){if(1&n&&e._UZ(0,"app-modal-item",8),2&n){const t=r.$implicit;e.s9C("name",t.name),e.s9C("imgUrl",t.imagen),e.s9C("stock",t.current_stock),e.Q6J("award",t)}}function rr(n,r){1&n&&e._UZ(0,"div")}let ar=(()=>{class n{constructor(t){this.awards=t,this.category="",this.publicity=[],this.modalAwards=[],this.isOpenModal=!0,this.propagar=new e.vpe}ngOnInit(){this.awards.getAward().subscribe(t=>{t.map(i=>{this.category==i.category&&this.modalAwards.push(i)})})}closeModalOutsideModal(t){t.target.classList.contains("row")&&(this.isOpenModal=!1,this.propagar.emit(this.isOpenModal))}closeModal(){this.isOpenModal=!1,this.propagar.emit(this.isOpenModal)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal"]],inputs:{category:"category",publicity:"publicity"},outputs:{propagar:"propagar"},decls:11,vars:3,consts:[[1,"container-modal",3,"click"],[1,"row","align-items-center","justify-content-center","w-100","h-100"],[1,"container-modal-awards"],[1,"cancel-icon",3,"click"],[1,"row","text-align-center"],[1,"awards-container"],[3,"award","name","imgUrl","stock",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"award","name","imgUrl","stock"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(a){return i.closeModalOutsideModal(a)}),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-icon",3),e.NdJ("click",function(){return i.closeModal()}),e._uU(4,"cancel"),e.qZA(),e.TgZ(5,"div",4)(6,"p"),e._uU(7),e.qZA()(),e.TgZ(8,"div",5),e.YNc(9,or,1,4,"app-modal-item",6),e.YNc(10,rr,1,0,"div",7),e.qZA()()()()),2&t&&(e.xp6(7),e.hij("Anadir premio a la categoria ",i.category,""),e.xp6(2),e.Q6J("ngForOf",i.modalAwards),e.xp6(1),e.Q6J("ngIf","publicity"==i.category))},dependencies:[p.sg,p.O5,Z.Hw,nr],styles:[".container-modal[_ngcontent-%COMP%]{width:100%;height:100vh;position:absolute;background-color:#808080a3;z-index:0}.container-modal-awards[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:gray;height:20rem;width:90%;padding:2rem}.awards-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;gap:.5rem;flex-wrap:wrap}.cancel-icon[_ngcontent-%COMP%]{position:absolute;top:7px;right:15px;width:2rem;height:2rem;font-size:2rem}"]}),n})();function sr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-modal",24),e.NdJ("propagar",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.manageCloseModal(o))}),e.qZA()}if(2&n){const t=e.oxw();e.s9C("category",t.categoryModal),e.Q6J("publicity",t.publicityList)}}let cr=(()=>{class n{constructor(t,i,o,a,c,l,d){this.awards=t,this.controller=i,this.probability=o,this.fb=a,this.dialog=c,this.snackBar=l,this.permisos_api=d,this.isModalOpen=!1,this.awardsGame=[],this.legendary=[],this.legendary_box=this.controller.getLegendaryBoxes(),this.epic=[],this.epic_box=this.controller.getEpicBoxes(),this.rare=[],this.common=[],this.common_box=this.controller.getCommonBoxes(),this.modalAwards=[],this.publicityList=[],this.categoryModal="",this.totalSquares=0,this.limitWinners=0,this.limitAttempts=0,this.percentage=0,this.limitMessage="",this.form=this.fb.group({percent_win:[""],limit_winners:[""],limit_attempts:[""]})}ngOnInit(){this.awards.getAward().subscribe(t=>{this.probability.getAwardsListGame().subscribe(i=>{this.getAwardsPerCategory(t,i)}),this.probability.getProbabilites().subscribe(i=>{i.length>0&&(console.log(i),this.probabilityData=i[i.length-1],console.log(this.probabilityData),this.limitWinners=this.probabilityData.winners_limit,this.percentage=this.probabilityData.percent_win,this.limitAttempts=this.probabilityData.attempts_limit,this.limitMessage=`limite actual Intentos ${this.limitWinners}`)})})}getAwardsPerCategory(t,i){t.forEach(o=>{i.forEach(a=>{"Legendaria"==o.category&&a.premio_id==o.id?this.legendary.push(o):"Epica"==o.category&&a.premio_id==o.id?this.epic.push(o):"Rara"==o.category&&a.premio_id==o.id?this.rare.push(o):a.premio_id==o.id&&this.common.push(o)})})}addProbabilityConfig(){if(this.form.valid&&this.validateData()){const t={title:"CAMBIAR CONFIGURACION PROBABILIDADES JUEGO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CAMBIAR LA CONFIGURACION DE PROBABILIDADES?",cancelText:"CANCELAR",confirmText:"CREAR"};let i={percent_win:this.form.get("percent_win")?.value,winners_limit:this.form.get("limit_winners")?.value,attempts_limit:this.form.get("limit_attempts")?.value,is_active:!0,game_id:"1"};this.dialog.open(t),this.dialog.confirmed().subscribe(o=>{o&&this.probability.postProbabilityConfig(i).subscribe(a=>{console.log(a),this.snackBar.mensaje("Configuracion Cambiada con exito"),this.limitWinners=i.winners_limit,this.limitMessage=`Todavia no ha pasado el limite actual ${this.limitWinners}`,this.percentage=i.percent_win,this.limitAttempts=i.attempts_limit})})}else this.snackBar.mensaje("Debe llenar todos los campos de probabilidad antes de poder guardar cambios")}padreOpenModal(t){this.isModalOpen=t.isModalOpen,this.modalAwards=t.awards,this.categoryModal=t.category,this.publicityList=t.publicity}manageCloseModal(t){this.isModalOpen=t}validateData(){let t=this.form.get("percent_win")?.value,i=this.form.get("limit_winners")?.value,o=this.form.get("limit_attempts")?.value;return t>100?(this.snackBar.mensaje("El porcentaje de ganar no puede ser mayor a 100"),!1):t<1?(this.snackBar.mensaje("El porcentaje de ganar no puede ser menor a 1"),!1):i<1?(this.snackBar.mensaje("El limite de ganadores no puede ser menor a 1"),!1):!(o<1&&(this.snackBar.mensaje("El limite de Intentos no puede ser menor a 1"),1))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S),e.Y36(se),e.Y36(ae.g),e.Y36(s.qu),e.Y36(b),e.Y36(h.o),e.Y36(j))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-probabilidades"]],decls:39,vars:13,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[3,"category","publicity","propagar",4,"ngIf"],[1,"container-premios","background-black-primary"],[1,"container-categories"],[1,"categories-caption","green-primary"],["mat-lib-title",""],["color","legendary","title","Legendaria",3,"awards","boxes","propagar"],["color","epic","title","Epica",3,"awards","boxes","propagar"],["color","rare","title","Rara",3,"awards","boxes","propagar"],["color","common","title","Comun",3,"awards","boxes","propagar"],[1,"container-set-categories","green-primary"],["mat-lib-title","",1,"set-categories__title"],[1,"container-set-squares"],[1,"container-total"],["action","",1,"row","align-items-center","justify-content-start","me-2","form",3,"formGroup"],["for","percent_win",1,"total","col-8"],["type","number","id","percent_win","formControlName","percent_win","required","",1,"input-global","col-4","ms-4"],[1,"ganadores__limit-message","no-pass-limit","ms-3"],["for","limit_winners",1,"total","col-8","mt-4"],["type","number","id","limit_winners","formControlName","limit_winners","required","",1,"input-global","col-4","ms-4"],["for","limit_attempts",1,"total","col-8","mt-4"],["type","number","id","limit_attempts","formControlName","limit_attempts","required","",1,"input-global","col-4","ms-4"],["title","Guardar",1,"mt-4","ms-3","btn-save",3,"click"],[3,"category","publicity","propagar"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Probabilidad"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.YNc(4,sr,1,2,"app-modal",2),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"h3",6),e._uU(9,"Categorias y Premios"),e.qZA(),e.TgZ(10,"h3",6),e._uU(11,"Casillas Disponibles"),e.qZA()(),e.TgZ(12,"app-categorie",7),e.NdJ("propagar",function(a){return i.padreOpenModal(a)}),e.qZA(),e.TgZ(13,"app-categorie",8),e.NdJ("propagar",function(a){return i.padreOpenModal(a)}),e.qZA(),e.TgZ(14,"app-categorie",9),e.NdJ("propagar",function(a){return i.padreOpenModal(a)}),e.qZA(),e.TgZ(15,"app-categorie",10),e.NdJ("propagar",function(a){return i.padreOpenModal(a)}),e.qZA()(),e.TgZ(16,"div",11)(17,"h3",12),e._uU(18,"Editar Probabilidades"),e.qZA(),e.TgZ(19,"div",13)(20,"div",14)(21,"form",15)(22,"label",16),e._uU(23,"Porcentaje de ganar un premio"),e.qZA(),e._UZ(24,"input",17),e._uU(25," % "),e.TgZ(26,"p",18),e._uU(27),e.qZA(),e.TgZ(28,"label",19),e._uU(29,"Limitar ganadores por dia"),e.qZA(),e._UZ(30,"input",20),e.TgZ(31,"p",18),e._uU(32),e.qZA(),e.TgZ(33,"label",21),e._uU(34,"Numero de intentos"),e.qZA(),e._UZ(35,"input",22),e.TgZ(36,"p",18),e._uU(37),e.qZA()(),e.TgZ(38,"app-button-primary",23),e.NdJ("click",function(){return i.addProbabilityConfig()}),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",i.isModalOpen),e.xp6(8),e.Q6J("awards",i.legendary)("boxes",i.legendary_box),e.xp6(1),e.Q6J("awards",i.epic)("boxes",i.epic_box),e.xp6(1),e.Q6J("awards",i.rare)("boxes",i.epic_box),e.xp6(1),e.Q6J("awards",i.common)("boxes",i.common_box),e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(6),e.hij(" Porcentaje actual de ganar ",i.percentage,"% "),e.xp6(5),e.hij(" ",i.limitMessage," "),e.xp6(5),e.hij(" Numero actual de Intentos ",i.limitAttempts," "))},dependencies:[p.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.sg,s.u,f.Ye,N,ir,ar],styles:["p[_ngcontent-%COMP%]{margin:0}.container-premios[_ngcontent-%COMP%]{display:flex;align-items:top}.container-categories[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6rem;width:65%;margin-right:1rem;padding:.5rem .8rem}.container-set-categories[_ngcontent-%COMP%]{width:35%}img[_ngcontent-%COMP%]{width:100%;height:100%}.categories-caption[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.set-categories__title[_ngcontent-%COMP%]{margin-top:.5rem}.container-set-squares[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem;padding-right:.5rem}.line[_ngcontent-%COMP%]{border-top:1px solid black;width:57%;align-self:center}.container-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;align-items:center}.total-squares__number[_ngcontent-%COMP%]{margin-right:5rem}.form[_ngcontent-%COMP%]{gap:.2rem}.form__input[_ngcontent-%COMP%]{width:4rem;height:2rem}.container-ganadores[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem}.ganadores__limit-message[_ngcontent-%COMP%]{align-self:center}.no-pass-limit[_ngcontent-%COMP%]{color:green}.pass-limit[_ngcontent-%COMP%]{color:red}.btn-save[_ngcontent-%COMP%]{align-self:flex-start}"]}),n})(),M=(()=>{class n{constructor(t,i){this.permisos_api=t,this.snackbar=i}canActivate(t,i){var o=this;return A(function*(){let a=t.data.Permiso_nombre;const c=yield R(o.permisos_api.getPermisosbyName(a));let l=Number(c[0].id),d=Number(localStorage.getItem("rol_id"));return(yield R(o.permisos_api.getPermisosbyRolandPermission(d,l))).length>0||(o.snackbar.mensaje("No tienes permiso para: "+a),!1)})()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(j),e.LFG(h.o))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var v=_(3068);function lr(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function mr(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function pr(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ur(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function dr(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function gr(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function _r(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function fr(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function hr(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let br=(()=>{class n{constructor(t,i,o,a,c,l){this.router=t,this.formBuilder=i,this.snackBar=o,this.confirmDialog=a,this.clientAPI=c,this.activatedRoute=l,this.singularName="cliente",this.pluralName="Clientes",this.actionName="editar",this.formGroup=this.formBuilder.group({cedula:["",s.kI.required],names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),phone:["",s.kI.required],sex:["",s.kI.required],address:["",s.kI.required],state:["",s.kI.required]})}toList(){this.router.navigate(["dashboard/"+this.pluralName.toLocaleLowerCase()])}editClient(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el "+this.singularName+" "+this.formGroup.get("names")?.value+" ?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){let t=this.activatedRoute.snapshot.paramMap.get("id");this.confirmDialog.confirmed().subscribe(i=>{if(i){let o=this.fillForm();this.clientAPI.put(Number(t),o).subscribe({next:a=>{this.snackBar.mensaje(this.singularName+" Actualizado Exitosamente"),this.toList()},error:a=>{this.confirmDialog.error(a.error)}})}})}fillForm(){let t=localStorage.getItem("user_id"),i=new FormData;return i.append("cedula",this.formGroup.get("cedula")?.value),i.append("names",this.formGroup.get("names")?.value),i.append("surnames",this.formGroup.get("surnames")?.value),i.append("email",this.formGroup.get("email")?.value),i.append("phone",this.formGroup.get("phone")?.value),i.append("address",this.formGroup.get("address")?.value),i.append("sex",this.formGroup.get("sex")?.value),i.append("state",this.formGroup.get("state")?.value),i.append("user_client_modify",t),i}ngOnInit(){let t=this.activatedRoute.snapshot.paramMap.get("id");this.clientAPI.getById(Number(t)).subscribe(i=>{this.currentClient=i,this.getInfo()},i=>{})}getInfo(){this.formGroup.patchValue({cedula:this.currentClient.cedula,names:this.currentClient.names,surnames:this.currentClient.surnames,email:this.currentClient.email,phone:this.currentClient.phone,address:this.currentClient.address,sex:this.currentClient.sex,state:this.currentClient.state})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(s.qu),e.Y36(h.o),e.Y36(b),e.Y36(B),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-client"]],decls:87,vars:14,consts:[[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["formControlName","sex","mat-select",""],["value","Femenino"],["value","Masculino"],["autocomplete","off","formControlName","address","type","text","matInput",""],["formControlName","state","mat-select",""],["value","Activo"],["value","Inactivo"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA()(),e.TgZ(3,"div",0)(4,"form",1)(5,"mat-form-field")(6,"label"),e._uU(7,"C\xe9dula"),e.qZA(),e.TgZ(8,"div",2),e._UZ(9,"input",3,4),e.qZA(),e.TgZ(11,"mat-hint",5),e._uU(12),e.qZA(),e.YNc(13,lr,2,0,"mat-error",6),e.qZA(),e.TgZ(14,"mat-form-field")(15,"label"),e._uU(16,"Nombres"),e.qZA(),e.TgZ(17,"div",2),e._UZ(18,"input",7),e.qZA(),e.TgZ(19,"mat-hint"),e._uU(20,"Nombre del Cliente"),e.qZA(),e.YNc(21,mr,2,0,"mat-error",6),e.qZA(),e.TgZ(22,"mat-form-field")(23,"label"),e._uU(24,"Apellidos"),e.qZA(),e.TgZ(25,"div",2),e._UZ(26,"input",8),e.qZA(),e.TgZ(27,"mat-hint"),e._uU(28,"Apellido paterno y materno"),e.qZA(),e.YNc(29,pr,2,0,"mat-error",6),e.qZA(),e.TgZ(30,"mat-form-field")(31,"label"),e._uU(32,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(33,"div",2),e._UZ(34,"input",9),e.qZA(),e.TgZ(35,"mat-hint"),e._uU(36,"Correo electr\xf3nico"),e.qZA(),e.YNc(37,ur,2,0,"mat-error",6),e.YNc(38,dr,2,0,"mat-error",6),e.qZA(),e.TgZ(39,"mat-form-field")(40,"label"),e._uU(41,"Tel\xe9fono"),e.qZA(),e.TgZ(42,"div",2),e._UZ(43,"input",10,11),e.qZA(),e.TgZ(45,"mat-hint",5),e._uU(46),e.qZA(),e.YNc(47,gr,2,0,"mat-error",6),e.qZA(),e.TgZ(48,"mat-form-field")(49,"label"),e._uU(50,"Sexo"),e.qZA(),e.TgZ(51,"mat-select",12)(52,"mat-option",13),e._uU(53,"Femenino"),e.qZA(),e.TgZ(54,"mat-option",14),e._uU(55,"Masculino"),e.qZA()(),e.TgZ(56,"mat-hint"),e._uU(57,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(58,_r,2,0,"mat-error",6),e.qZA(),e.TgZ(59,"mat-form-field")(60,"label"),e._uU(61,"Direcci\xf3n"),e.qZA(),e.TgZ(62,"div",2),e._UZ(63,"input",15),e.qZA(),e.TgZ(64,"mat-hint"),e._uU(65,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(66,fr,2,0,"mat-error",6),e.qZA(),e.TgZ(67,"mat-form-field")(68,"label"),e._uU(69,"Estado"),e.qZA(),e.TgZ(70,"mat-select",16)(71,"mat-option",17),e._uU(72,"Activo"),e.qZA(),e.TgZ(73,"mat-option",18),e._uU(74,"Inactivo"),e.qZA()(),e.TgZ(75,"mat-hint"),e._uU(76,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(77,hr,2,0,"mat-error",6),e.qZA()(),e.TgZ(78,"div",19)(79,"button",20),e.NdJ("click",function(){return i.toList()}),e.TgZ(80,"mat-icon"),e._uU(81,"close"),e.qZA(),e._uU(82," Cancelar "),e.qZA(),e.TgZ(83,"button",21),e.NdJ("click",function(){return i.editClient()}),e.TgZ(84,"mat-icon"),e._uU(85,"done"),e.qZA(),e._uU(86," Guardar "),e.qZA()()()),2&t){const o=e.MAs(10),a=e.MAs(44);e.xp6(2),e.AsE("Editar Cliente : ",i.currentClient.names," #",i.currentClient.cedula," "),e.xp6(2),e.Q6J("formGroup",i.formGroup),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.cedula.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.email.hasError("email")),e.xp6(8),e.hij(" ",a.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.address.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.state.hasError("required"))}},dependencies:[p.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,g.TO,g.KE,g.bx,U.Nt,Z.Hw,C.lW,f.Ye,y.gD,x.ey],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})(),Cr=(()=>{class n{constructor(t,i,o){this.router=t,this.activedRoute=i,this.clientAPI=o,this.singularName="cliente",this.pluralName="clientes",this.actionName="visualizar",this.client={id:"",cedula:"",names:"",surnames:"",email:"",phone:"",sex:"",address:"",state:"",user_client_register:"",user_client_modify:"",created:"",modified:""}}toList(){this.router.navigate(["dashboard/"+this.pluralName])}ngOnInit(){let t=this.activedRoute.snapshot.paramMap.get("id");this.clientAPI.getById(Number(t)).subscribe(i=>{this.client=i})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(u.gz),e.Y36(B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-client"]],decls:62,vars:15,consts:[["cols","3","rowHeight","50rem"],["mat-raised-button","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2),e.qZA()(),e.TgZ(3,"mat-grid-list",0)(4,"mat-grid-tile")(5,"mat-list")(6,"mat-label"),e._uU(7,"C\xe9dula"),e.qZA(),e.TgZ(8,"mat-list-item"),e._uU(9),e.qZA(),e.TgZ(10,"mat-label"),e._uU(11,"Nombres"),e.qZA(),e.TgZ(12,"mat-list-item"),e._uU(13),e.qZA(),e.TgZ(14,"mat-label"),e._uU(15,"Apellidos"),e.qZA(),e.TgZ(16,"mat-list-item"),e._uU(17),e.qZA(),e.TgZ(18,"mat-label"),e._uU(19,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(20,"mat-list-item"),e._uU(21),e.qZA(),e.TgZ(22,"mat-label"),e._uU(23,"Tel\xe9fono"),e.qZA(),e.TgZ(24,"mat-list-item"),e._uU(25),e.qZA(),e.TgZ(26,"mat-label"),e._uU(27,"Sexo"),e.qZA(),e.TgZ(28,"mat-list-item"),e._uU(29),e.qZA(),e.TgZ(30,"mat-label"),e._uU(31,"Direcci\xf3n"),e.qZA(),e.TgZ(32,"mat-list-item"),e._uU(33),e.qZA(),e.TgZ(34,"mat-label"),e._uU(35,"Fecha de registro"),e.qZA(),e.TgZ(36,"mat-list-item"),e._uU(37),e.qZA(),e.TgZ(38,"mat-label"),e._uU(39,"Usuario de registro"),e.qZA(),e.TgZ(40,"mat-list-item"),e._uU(41),e.qZA(),e.TgZ(42,"mat-label"),e._uU(43,"Fecha de \xfaltima modificaci\xf3n"),e.qZA(),e.TgZ(44,"mat-list-item"),e._uU(45),e.qZA(),e.TgZ(46,"mat-label"),e._uU(47,"\xdaltima usuario que modific\xf3"),e.qZA(),e.TgZ(48,"mat-list-item"),e._uU(49),e.qZA()()(),e.TgZ(50,"mat-grid-tile")(51,"mat-list")(52,"mat-label"),e._uU(53,"Historial de partida"),e.qZA()()(),e.TgZ(54,"mat-grid-tile")(55,"mat-list")(56,"mat-label"),e._uU(57,"Resumen"),e.qZA()()()(),e.TgZ(58,"button",1),e.NdJ("click",function(){return i.toList()}),e.TgZ(59,"mat-icon"),e._uU(60,"close"),e.qZA(),e._uU(61," Salir\n"),e.qZA()),2&t&&(e.xp6(2),e.HOy(" ",i.actionName," ",i.singularName," ",i.client.names," ",i.client.cedula," "),e.xp6(7),e.Oqu(i.client.cedula),e.xp6(4),e.Oqu(i.client.names),e.xp6(4),e.Oqu(i.client.surnames),e.xp6(4),e.Oqu(i.client.email),e.xp6(4),e.Oqu(i.client.phone),e.xp6(4),e.Oqu(i.client.sex),e.xp6(4),e.Oqu(i.client.address),e.xp6(4),e.Oqu(i.client.created),e.xp6(4),e.Oqu(i.client.user_client_register),e.xp6(4),e.Oqu(i.client.modified),e.xp6(4),e.Oqu(i.client.user_client_modify))},dependencies:[g.hX,Z.Hw,C.lW,f.Ye,Y.i$,Y.Tg,z.Il,z.DX],styles:[".container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.mat-list-item[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}button[_ngcontent-%COMP%]{margin-left:50%;margin-bottom:25px;margin-top:25px;background:var(--color-cafe);color:var(--color-letras)}button[_ngcontent-%COMP%]:hover{background:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})(),Zr=(()=>{class n{constructor(t,i){this.snackbar=t,this.game=i,this.beginDate=new Date(2015,10,30),this.finishDate=new Date}ngOnInit(){}saveNewDateGame(){if(this.validateDates()){let t={id:"1",start_date:this.beginDate.toISOString(),end_date:this.finishDate.toISOString(),modification_date:(new Date).toISOString(),game:"T",is_active:"true"};console.log(t),this.game.putGame(1,t).subscribe(i=>{console.log(i)}),this.snackbar.mensaje("Se a actualizado la fecha de disponibilidad del juego")}}validateDates(){let t=new Date(2015,10,30);return t.setHours(0,0,0,0),this.beginDate.setHours(0,0,0,0),this.finishDate.setHours(0,0,0,0),this.beginDate.getTime()==t.getTime()?(this.snackbar.mensaje("Seleccione un rango de fechas"),!1):!(this.beginDate>this.finishDate&&(this.snackbar.mensaje("La fecha de inicio no puede ser mayor a la fecha final"),1))}cancel(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.o),e.Y36(te))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-date"]],decls:24,vars:3,consts:[[1,"green-primary","background-navy-primary"],[1,"example-spacer"],[1,"container-fluid","background-black-primary","root-container"],[1,"row"],[1,"col","align-self-center","text-center"],[1,"date-title","green-primary"],[1,"calendar-container"],[1,"calendar"],[1,"input-date","green-primary"],[1,"calendar__card"],[1,"demo-inline-calendar-card","background-navy-primary","green-primary"],[1,"green-primary",3,"selected","selectedChange"],["title","Guardar",1,"save-button",3,"click"],[3,"selected","selectedChange"],["title","Cancelar",1,"cancel-button",3,"backgroundColor","click"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Fecha"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"div",4)(7,"h2",5),e._uU(8,"JUEGO DISPONIBLE"),e.qZA()()(),e.TgZ(9,"div",6)(10,"div",7)(11,"p",8),e._uU(12,"Inicio"),e.qZA(),e.TgZ(13,"div",9)(14,"mat-card",10)(15,"mat-calendar",11),e.NdJ("selectedChange",function(a){return i.beginDate=a}),e.qZA()()(),e.TgZ(16,"app-button-primary",12),e.NdJ("click",function(){return i.saveNewDateGame()}),e.qZA()(),e.TgZ(17,"div",7)(18,"p",8),e._uU(19,"Fin"),e.qZA(),e.TgZ(20,"div",9)(21,"mat-card",10)(22,"mat-calendar",13),e.NdJ("selectedChange",function(a){return i.finishDate=a}),e.qZA()()(),e.TgZ(23,"app-button-primary",14),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()()),2&t&&(e.xp6(15),e.Q6J("selected",i.beginDate),e.xp6(7),e.Q6J("selected",i.finishDate),e.xp6(1),e.Q6J("backgroundColor","#d4d4d4"))},dependencies:[f.Ye,P.a8,oe._H,N],styles:["p[_ngcontent-%COMP%]{margin:0}.exit-icon[_ngcontent-%COMP%]{width:3.5rem;height:2rem}.exit-container[_ngcontent-%COMP%]{margin-top:1rem;padding-bottom:1rem}.date-title[_ngcontent-%COMP%]{margin:1.5rem 0}.calendar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:40%}.calendar__card[_ngcontent-%COMP%]{padding:0 1rem}.input-date[_ngcontent-%COMP%]{margin:1rem 0;padding:.5rem 1.5rem;border:1px solid #00ffc5;border-radius:15px;font-weight:500}.date-container[_ngcontent-%COMP%]{height:100%}.save-button[_ngcontent-%COMP%]{align-self:flex-end;margin-right:2rem;margin-bottom:2rem}.cancel-button[_ngcontent-%COMP%]{align-self:flex-start;margin-left:2rem}"]}),n})();function vr(n,r){if(1&n&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Tr(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1,"ID"),e.qZA())}function Ar(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.id)}}function yr(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Nombre"),e.qZA())}function xr(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.award)}}function qr(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Juego"),e.qZA())}function Ur(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.game)}}function wr(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Fecha de Inicio"),e.qZA())}function Pr(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.start_date)}}function Or(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1," Fecha de Fin "),e.qZA())}function kr(n,r){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.Oqu(t.end_date)}}function Mr(n,r){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Estado"),e.qZA())}function Ir(n,r){1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2,"Procesado"),e.qZA()())}function Nr(n,r){1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2,"Sin procesar"),e.qZA()())}function Sr(n,r){if(1&n&&(e.TgZ(0,"td",32),e.YNc(1,Ir,3,0,"div",33),e.YNc(2,Nr,3,0,"ng-template",null,34,e.W1O),e.qZA()),2&n){const t=r.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.is_active)("ngIfElse",i)}}function Er(n,r){1&n&&e._UZ(0,"th",35)}function Dr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"td",32)(1,"div")(2,"button",36),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.verPremios(a.id))}),e.TgZ(3,"mat-icon",37),e._uU(4,"remove_red_eye"),e.qZA()(),e.TgZ(5,"button",38),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editarPremios(a.id))}),e.TgZ(6,"mat-icon",37),e._uU(7,"edit"),e.qZA()(),e.TgZ(8,"button",39),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.eliminarPremios(a.id))}),e.TgZ(9,"mat-icon",13),e._uU(10,"delete"),e.qZA()()()()}}function Fr(n,r){1&n&&e._UZ(0,"tr",40)}function Yr(n,r){1&n&&e._UZ(0,"tr",41)}function Rr(n,r){if(1&n&&(e.TgZ(0,"tr",42)(1,"td",43),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(18);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const Jr=function(){return[5,10,25,100]};function Gr(n,r){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function jr(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Br(n,r){1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2,"Procesado"),e.qZA()())}function zr(n,r){1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1,"Sin Procesar"),e.qZA())}const Vr=["takeInput"];function $r(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"input",22,23),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.capturarFile(o))}),e.qZA()()}}function Wr(n,r){1&n&&(e.TgZ(0,"div",24)(1,"label",25),e._uU(2," Url del video: "),e.qZA(),e._UZ(3,"input",26),e.qZA())}const Xr=function(){return{"video-option-active":!1}},ta=["takeInput"],ia=["takeInputLogo"],na=function(n,r){return{"font-family":n,color:r}},ra=[{path:"",component:lt,children:[{path:"",component:ot},{path:"cambiar-contrase\xf1a",component:vn},{path:"usuarios",component:Nt,canActivate:[v.c,Q]},{path:"usuarios/crear",component:zt,canActivate:[v.c,Q]},{path:"usuarios/visualizar/:id",component:$t,canActivate:[v.c,Q]},{path:"usuarios/editar/:id",component:nt,canActivate:[v.c,Q]},{path:"roles",component:hi,canActivate:[v.c,Q]},{path:"roles/crear",component:vi,canActivate:[v.c,Q]},{path:"roles/permisos/:id",component:Re,canActivate:[v.c,Q]},{path:"roles/editar/:id",component:je,canActivate:[v.c,Q]},{path:"clientes",component:Jn,canActivate:[v.c]},{path:"clientes/crear",component:qo,canActivate:[M,v.c],data:{Permiso_nombre:"Crear Cliente"}},{path:"clientes/vizualizar/:id",component:Cr,canActivate:[M,v.c],data:{Permiso_nombre:"Ver Cliente"}},{path:"clientes/editar/:id",component:br,canActivate:[M,v.c],data:{Permiso_nombre:"Editar Cliente"}},{path:"tickets",component:Ri,canActivate:[v.c]},{path:"tickets/crear",component:$i,canActivate:[M,v.c],data:{Permiso_nombre:"Crear Ticket"}},{path:"tickets/vizualizar/:id",component:Xi,canActivate:[M,v.c],data:{Permiso_nombre:"Ver Ticket"}},{path:"tickets/editar/:id",component:sn,canActivate:[M,v.c],data:{Permiso_nombre:"Editar Ticket"}},{path:"premios",component:fo,canActivate:[v.c]},{path:"premios/crear",component:Eo,canActivate:[M,v.c],data:{Permiso_nombre:"Crear Premio"}},{path:"premios/visualizar/:id",component:Wo,canActivate:[M,v.c],data:{Permiso_nombre:"Ver Premio"}},{path:"premios/editar/:id",component:Bo,canActivate:[M,v.c],data:{Permiso_nombre:"Editar Premio"}},{path:"probabilidades",component:cr,canActivate:[v.c]},{path:"premios/condicion",component:(()=>{class n{constructor(t,i,o,a,c,l,d){this.router=t,this.dialog=i,this.snackbar=o,this.premiosSrv=a,this.dialogService=c,this.permisos_api=l,this.premiosCondicionSrv=d,this.Filters=[{id:"?is_approved=false",name:"Premios Condicionados Pendientes"},{id:"?is_approved=true",name:"Premios Condicionados Finalizados"},{id:"?ordering=start_date",name:"Premios Condicionados por Fecha de Inicio"},{id:"?ordering=end_date",name:"Premios Condicionados por Fecha de Finalizaci\xf3n"}],this.filter_default="?ordering=start_date",this.Titulo="Premios Condicionados",this.displayedColumns=["id","award","game","start_date","end_date","is_approved","Acciones"],this.permisos=[]}ngOnInit(){this.cargarPremios(this.filter_default)}cargarPremios(t){this.premiosCondicionSrv.getAwardConditionFilter(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}filter(t){this.cargarPremios(t)}agregarPremios(){this.router.navigate(["dashboard/premios/condicion/crear"])}verPremios(t){this.router.navigate(["dashboard/premios/condicion/visualizar",t])}editarPremios(t){this.router.navigate(["dashboard/premios/condicion/editar",t])}eliminarPremios(t){var i=this;return A(function*(){yield i.Permisoeliminar(),console.log(i.permisos.length),i.permisos.length>0?(i.dialogService.open({title:"ELIMINAR PREMIO",message:"ESTA SEGURO QUE QUIERE ELIMINAR EL PREMIO?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),i.dialogService.confirmed().subscribe(a=>{a&&i.premiosCondicionSrv.deleteAwardCondition(t).subscribe(c=>{i.snackbar.mensaje("Premio Condicionado Eliminado Existosamente"),i.cargarPremios(i.filter_default)},c=>{i.dialogService.error(c.error),i.cargarPremios(i.filter_default)})})):i.snackbar.mensaje("No tienes permisos para Eliminar Premios Condicionados")})()}Permisoeliminar(){var t=this;return A(function*(){let i=Number(localStorage.getItem("rol_id")),o=yield R(t.permisos_api.getPermisosbyName("Eliminar Condicion de Premio")),a=Number(o[0].id);const c=yield R(t.permisos_api.getPermisosbyRolandPermission(i,a));t.permisos=c})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.F0),e.Y36(O.uw),e.Y36(h.o),e.Y36(S),e.Y36(b),e.Y36(j),e.Y36(X))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-awards-condition"]],viewQuery:function(t,i){if(1&t&&(e.Gf(k.NW,5),e.Gf(q.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:48,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","award"],["matColumnDef","game"],["matColumnDef","start_date"],["matColumnDef","end_date"],["matColumnDef","is_approved"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"button",3),e.NdJ("click",function(){return i.agregarPremios()}),e.TgZ(6,"div",4)(7,"div",5)(8,"mat-icon"),e._uU(9,"add"),e.qZA()(),e.TgZ(10,"span"),e._uU(11,"Agregar Premio Condicionado"),e.qZA()()()(),e.TgZ(12,"div",6)(13,"div",7)(14,"mat-select",8),e.NdJ("selectionChange",function(a){return i.filter(a.value)}),e.YNc(15,vr,2,2,"mat-option",9),e.qZA()(),e.TgZ(16,"div",10)(17,"input",11,12),e.NdJ("keyup",function(a){return i.aplicarFiltro(a)}),e.qZA(),e.TgZ(19,"mat-icon",13),e._uU(20," search "),e.qZA()()(),e.TgZ(21,"div",14)(22,"table",15),e.ynx(23,16),e.YNc(24,Tr,2,0,"th",17),e.YNc(25,Ar,2,1,"td",18),e.BQk(),e.ynx(26,19),e.YNc(27,yr,2,0,"th",17),e.YNc(28,xr,2,1,"td",18),e.BQk(),e.ynx(29,20),e.YNc(30,qr,2,0,"th",17),e.YNc(31,Ur,2,1,"td",18),e.BQk(),e.ynx(32,21),e.YNc(33,wr,2,0,"th",17),e.YNc(34,Pr,2,1,"td",18),e.BQk(),e.ynx(35,22),e.YNc(36,Or,2,0,"th",17),e.YNc(37,kr,2,1,"td",18),e.BQk(),e.ynx(38,23),e.YNc(39,Mr,2,0,"th",17),e.YNc(40,Sr,4,2,"td",18),e.BQk(),e.ynx(41,24),e.YNc(42,Er,1,0,"th",25),e.YNc(43,Dr,11,0,"td",18),e.BQk(),e.YNc(44,Fr,1,0,"tr",26),e.YNc(45,Yr,1,0,"tr",27),e.YNc(46,Rr,3,1,"tr",28),e.qZA(),e._UZ(47,"mat-paginator",29),e.qZA()),2&t&&(e.xp6(2),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,Jr)))},dependencies:[p.sg,p.O5,U.Nt,Z.Hw,C.lW,f.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,L.gM,k.NW,q.YE,q.nU,y.gD,x.ey],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})(),canActivate:[v.c]},{path:"premios/condicion/crear",component:(()=>{class n{constructor(t,i,o,a,c,l){this.fb=t,this.awardConditionSrv=i,this.awardSrv=o,this.snackbar=a,this.dialogService=c,this.router=l,this.minDate=new Date,this.minDatefin=new Date,this.img_upload="assets/img/regalo.png",this.previsulizacion=this.img_upload,this.stock_actual=0,this.award_name="",this.startDate=new Date,this.endDate=new Date,this.beginDate=new Date,this.finishDate=new Date,this.award_condition=[],this.form=this.fb.group({startTime:["",s.kI.required],endTime:["",s.kI.required],award:["",s.kI.required]})}ngOnInit(){this.getAward();let t=(new Date).getFullYear(),i=(new Date).getMonth(),o=(new Date).getDate();this.minDate=new Date(t,i,o),this.minDatefin=new Date(t,i,o),this.finishDate=new Date(t,i,o)}changetime(){var t=this;return A(function*(){let i=t.form.value.startTime.hour,o=t.form.value.startTime.minute,a=t.form.value.endTime.hour,c=t.form.value.endTime.minute,l=t.beginDate.toISOString().split("T")[0];const[d,T,w]=l.split("-");let ie=t.finishDate.toISOString().split("T")[0];const[ce,le,me]=ie.split("-");t.startDate=new Date(parseInt(d),parseInt(T)-1,parseInt(w),parseInt(i),parseInt(o)),t.endDate=new Date(parseInt(ce),parseInt(le)-1,parseInt(me),parseInt(a),parseInt(c))})()}create(){var t=this;return A(function*(){t.form.valid?(yield t.changetime(),t.dialogService.open({title:"CREAR PREMIO CONDICIONADO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO PREMIO CONDICIONADO?",cancelText:"CANCELAR",confirmText:"CREAR"}),t.dialogService.confirmed().subscribe(o=>{if(o){let a=new FormData,c=1,l=localStorage.getItem("user_id");a.append("start_date",t.startDate.toISOString().split(".")[0]),a.append("end_date",t.endDate.toISOString().split(".")[0]),a.append("award",t.form.get("award")?.value),a.append("game",c.toString()),a.append("user_register",l),a.append("user_modify",l),t.awardConditionSrv.postAwardCondition(a).subscribe(d=>{t.snackbar.mensaje("Premio Condicionado Creado Exitosamente"),t.router.navigate(["dashboard/premios/condicion"])},d=>{t.dialogService.error(d.error)})}})):t.snackbar.mensaje("Complete todos los campos")})()}getAward(){this.awardConditionSrv.getAward().subscribe(t=>{this.award_condition=t})}imgAward(t){this.awardSrv.getAwardbyId(t).subscribe(i=>{this.previsulizacion=i.imagen,this.stock_actual=i.current_stock,this.award_name=i.name})}cancel(){this.router.navigate(["dashboard/premios/condicion"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(X),e.Y36(S),e.Y36(h.o),e.Y36(b),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-awards-condition"]],decls:48,vars:12,consts:[[1,"example-spacer"],[3,"formGroup"],[1,"condition_container"],[1,"container"],[1,"register_container"],[1,"form_container"],["formControlName","award","mat-select","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"img_container"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"date_container"],[1,"calendar"],[1,"input-date","green-primary"],[1,"calendar__card"],[1,"demo-inline-calendar-card","background-navy-primary","green-primary"],[1,"green-primary",3,"selected","minDate","selectedChange"],[1,"time_container"],["formControlName","startTime",1,"time",3,"meridian"],["formControlName","endTime",3,"meridian"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Nueva Condici\xf3n"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"form",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"div",5)(9,"mat-form-field")(10,"label"),e._uU(11,"Premios"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"label"),e._uU(14),e.qZA(),e.TgZ(15,"mat-select",6),e.NdJ("selectionChange",function(a){return i.imgAward(a.value)}),e.YNc(16,Gr,2,2,"mat-option",7),e.qZA(),e.TgZ(17,"mat-hint"),e._uU(18,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(19,jr,2,0,"mat-error",8),e.qZA()(),e.TgZ(20,"div",9),e._UZ(21,"img",10),e.qZA()(),e.TgZ(22,"div",11)(23,"button",12),e.NdJ("click",function(){return i.cancel()}),e.TgZ(24,"mat-icon"),e._uU(25,"close"),e.qZA(),e._uU(26," Cancelar "),e.qZA(),e.TgZ(27,"button",13),e.NdJ("click",function(){return i.create()}),e.TgZ(28,"mat-icon"),e._uU(29,"done"),e.qZA(),e._uU(30," Crear "),e.qZA()()(),e.TgZ(31,"div",14)(32,"div",15)(33,"p",16),e._uU(34,"Fecha Inicio"),e.qZA(),e.TgZ(35,"div",17)(36,"mat-card",18)(37,"mat-calendar",19),e.NdJ("selectedChange",function(a){return i.beginDate=a}),e.qZA()()(),e.TgZ(38,"div",20),e._UZ(39,"ngb-timepicker",21),e.qZA()(),e.TgZ(40,"div",15)(41,"p",16),e._uU(42,"Fecha Fin"),e.qZA(),e.TgZ(43,"div",17)(44,"mat-card",18)(45,"mat-calendar",19),e.NdJ("selectedChange",function(a){return i.finishDate=a}),e.qZA()()(),e.TgZ(46,"div",20),e._UZ(47,"ngb-timepicker",22),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(10),e.AsE("Hay ",i.stock_actual," del premio: ",i.award_name,""),e.xp6(2),e.Q6J("ngForOf",i.award_condition),e.xp6(3),e.Q6J("ngIf",i.form.controls.award.hasError("required")),e.xp6(2),e.Q6J("src",i.previsulizacion,e.LSH),e.xp6(16),e.Q6J("selected",i.beginDate)("minDate",i.minDate),e.xp6(2),e.Q6J("meridian",!0),e.xp6(6),e.Q6J("selected",i.finishDate)("minDate",i.minDatefin),e.xp6(2),e.Q6J("meridian",!0))},dependencies:[p.sg,p.O5,s._Y,s.JJ,s.JL,s.sg,s.u,g.TO,g.KE,g.bx,Z.Hw,C.lW,f.Ye,y.gD,x.ey,P.a8,oe._H,fe.Pm],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.condition_container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row}.date_container[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:row;justify-content:space-around}.container[_ngcontent-%COMP%]{margin-top:20px;width:60%;display:flex;flex-direction:column}.register_container[_ngcontent-%COMP%]{margin-top:20px;width:100%;display:flex;flex-direction:row}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:45%}.input-date[_ngcontent-%COMP%]{margin-top:20px;padding:.5rem 1.5rem;border:1px solid var(--color-principal);border-radius:15px;text-align:center}.calendar__card[_ngcontent-%COMP%]{padding:0 1rem}.time_container[_ngcontent-%COMP%]{display:flex;justify-content:center}.time[_ngcontent-%COMP%]{color:var(--color-principal)}.mat-form-field[_ngcontent-%COMP%]{width:95%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.form_container[_ngcontent-%COMP%]{width:40%}.img_container[_ngcontent-%COMP%]{display:flex;width:60%;height:250px}.img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% auto auto;width:85%;height:100%;border-radius:10px;object-fit:fill}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:10% 15px 15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})(),canActivate:[M,v.c],data:{Permiso_nombre:"Crear Condicion de Premio"}},{path:"premios/condicion/visualizar/:id",component:(()=>{class n{constructor(t,i,o,a,c,l,d){this.fb=t,this.awardConditionSrv=i,this.awardSrv=o,this.snackbar=a,this.dialogService=c,this.router=l,this.activerouter=d,this.award_name="",this.award_condition_id=Number(this.activerouter.snapshot.paramMap.get("id")),this.award_image=""}ngOnInit(){var t=this;return A(function*(){yield t.getAwardConditionId(t.award_condition_id)})()}getAwardConditionId(t){var i=this;return A(function*(){i.awardConditionSrv.getAwardConditionbyId(t).subscribe(o=>{i.getAward(o.award),i.award_condition=o},o=>{i.dialogService.error(o.error)})})()}getAward(t){this.awardSrv.getAwardbyId(t).subscribe(i=>{this.award_image=i.imagen,this.award_name=i.name})}backAwardCondition(){this.router.navigate(["/dashboard/premios/condicion"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(X),e.Y36(S),e.Y36(h.o),e.Y36(b),e.Y36(u.F0),e.Y36(u.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-awards-condition"]],decls:81,vars:12,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[1,"container"],[1,"datos"],["role","listitem"],[4,"ngIf","ngIfElse"],["sinmodificar",""],[1,"container_img"],["alt","",3,"src"],[1,"container_botones"],["mat-raised-button","",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"mat-toolbar")(1,"span"),e._uU(2,"Visualizar Premio Condicionado"),e.qZA(),e._UZ(3,"span",0),e.qZA(),e.TgZ(4,"div",1)(5,"mat-card",2)(6,"div",3)(7,"div")(8,"div",4)(9,"div",5)(10,"mat-label"),e._uU(11,"Nombre"),e.qZA(),e._UZ(12,"br"),e.TgZ(13,"mat-list-item",6),e._uU(14),e.qZA()(),e.TgZ(15,"div",5)(16,"mat-label"),e._uU(17,"Juego"),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"mat-list-item",6),e._uU(20),e.qZA()()(),e.TgZ(21,"div",4)(22,"div",5)(23,"mat-label"),e._uU(24,"Fecha de Inicio"),e.qZA(),e._UZ(25,"br"),e.TgZ(26,"mat-list-item",6),e._uU(27),e.qZA()(),e.TgZ(28,"div",5)(29,"mat-label"),e._uU(30,"Fecha de Fin"),e.qZA(),e._UZ(31,"br"),e.TgZ(32,"mat-list-item",6),e._uU(33),e.qZA()()(),e.TgZ(34,"div",4)(35,"div",5)(36,"mat-label"),e._uU(37,"Usuario que registr\xf3 la condici\xf3n"),e.qZA(),e._UZ(38,"br"),e.TgZ(39,"mat-list-item",6),e._uU(40),e.qZA()(),e.TgZ(41,"div",5)(42,"mat-label"),e._uU(43,"\xdaltimo usuario que modific\xf3 la condici\xf3n"),e.qZA(),e._UZ(44,"br"),e.TgZ(45,"mat-list-item",6),e._uU(46),e.qZA()()(),e.TgZ(47,"div",4)(48,"div",5)(49,"mat-label"),e._uU(50,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(51,"br"),e.TgZ(52,"mat-list-item",6),e._uU(53),e.qZA()(),e.TgZ(54,"div",5)(55,"mat-label"),e._uU(56,"\xdaltima Modificaci\xf3n"),e.qZA(),e._UZ(57,"br"),e.TgZ(58,"mat-list-item",6),e._uU(59),e.qZA()()(),e.TgZ(60,"div",4)(61,"div",5)(62,"mat-label"),e._uU(63,"Duraci\xf3n"),e.qZA(),e._UZ(64,"br"),e.TgZ(65,"mat-list-item",6),e._uU(66),e.qZA()(),e.TgZ(67,"div",5)(68,"mat-label"),e._uU(69,"Estado"),e.qZA(),e._UZ(70,"br"),e.YNc(71,Br,3,0,"div",7),e.YNc(72,zr,2,0,"ng-template",null,8,e.W1O),e.qZA()()(),e.TgZ(74,"div",9),e._UZ(75,"img",10),e.qZA()(),e.TgZ(76,"div",11)(77,"button",12),e.NdJ("click",function(){return i.backAwardCondition()}),e.TgZ(78,"mat-icon"),e._uU(79,"close"),e.qZA(),e._uU(80," Salir "),e.qZA()()()()),2&t){const o=e.MAs(73);e.xp6(14),e.Oqu(i.award_name),e.xp6(6),e.Oqu(i.award_condition.game),e.xp6(7),e.Oqu(i.award_condition.start_date),e.xp6(6),e.Oqu(i.award_condition.end_date),e.xp6(7),e.Oqu(i.award_condition.user_register),e.xp6(6),e.Oqu(i.award_condition.user_modify),e.xp6(7),e.Oqu(i.award_condition.created),e.xp6(6),e.Oqu(i.award_condition.modified),e.xp6(7),e.hij("",i.award_condition.duration," d\xedas"),e.xp6(5),e.Q6J("ngIf",i.award_condition.is_approved)("ngIfElse",o),e.xp6(4),e.Q6J("src",i.award_image,e.LSH)}},dependencies:[p.O5,g.hX,Z.Hw,C.lW,f.Ye,Y.Tg,P.a8],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:20px}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background-color:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.container_img[_ngcontent-%COMP%]{width:500px;height:350px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.mat-list-item[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}button[_ngcontent-%COMP%]{margin-top:25px;background:var(--color-cafe);color:var(--color-letras)}button[_ngcontent-%COMP%]:hover{background:var(--color-principal);color:var(--color-fondo-secundario)}"]}),n})(),canActivate:[M,v.c],data:{Permiso_nombre:"Ver Condicion de Premio"}},{path:"premios/condicion/editar/:id",component:Fe,canActivate:[M,v.c],data:{Permiso_nombre:"Editar Condicion de Premio"}},{path:"juego/fecha",component:Zr},{path:"juego/seleccion",component:ln},{path:"juego/publicidad",component:mn},{path:"juego/publicidad/top",component:gn},{path:"juego/publicidad/bottom",component:hn},{path:"juego/salvapantallas",component:(()=>{class n{constructor(t,i,o,a,c,l,d){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=o,this.dialogService=a,this.theme=c,this.dashStyle=l,this.imageSrv=d,this.isUpload=!0,this.buttonTitle="",this.previsulizacion=""}ngOnInit(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.buttonTitle=this.dashStyle.get_title_button_screensaver(),this.previsulizacion=this.dashStyle.get_video_screensaver()})})}updateSaveScreen(){this.dialogService.open({title:"ACTUALIZAR Salvapantallas",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL SALVAPANTALLAS?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i&&this.fileToUpload){let o=new FormData;o.append("id","1"),o.append("video_screensaver",this.dashStyle.getVideoScreensaverFile(),this.dashStyle.getVideoScreensaverFile().name),o.append("title_button_screensaver",this.buttonTitle),o.append("color_background_game",this.dashStyle.get_color_background_game()),o.append("color_text",this.dashStyle.get_color_text()),o.append("title_winner",this.dashStyle.get_title_winner()),o.append("description_winner",this.dashStyle.get_description_winner()),o.append("date_modified",(new Date).toISOString()),o.append("is_active","true"),o.append("game_id","1"),this.theme.updateDesgin(1,o),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}else if(i&&!this.fileToUpload){let o=new FormData;o.append("id","1"),o.append("title_button_screensaver",this.buttonTitle),o.append("color_background_game",this.dashStyle.get_color_background_game()),o.append("color_text",this.dashStyle.get_color_text()),o.append("title_winner",this.dashStyle.get_title_winner()),o.append("description_winner",this.dashStyle.get_description_winner()),o.append("date_modified",(new Date).toISOString()),o.append("is_active","true"),o.append("game_id","1"),this.theme.updateDesgin(1,o),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}})}capturarFile(t){this.fileToUpload=this.imageSrv.captureVideoFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base,this.dashStyle.setVideoScreensaverFile(this.fileToUpload)})):(this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten videos"))}toggleUpload(){this.isUpload=!this.isUpload}onChangeNameButton(t){this.buttonTitle=t.target.value}cancel(){this.previsulizacion=this.dashStyle.get_video_screensaver(),this.buttonTitle=this.dashStyle.get_title_button_screensaver()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D.E),e.Y36(F.U),e.Y36(h.o),e.Y36(b),e.Y36(V),e.Y36($.T),e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-save-screen"]],viewQuery:function(t,i){if(1&t&&e.Gf(Vr,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:29,vars:12,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","white-color"],[1,"savescreen-info__container"],[1,"savescreen-info__video-option"],[1,"green-primary","video-option",3,"ngClass","click"],["class","file-select","id","src-file1",4,"ngIf"],["class","url-select",4,"ngIf"],["type","text","placeholder","Nombre del boton",1,"input-global",3,"ngModel","ngModelChange"],["buttonInput","ngModel"],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#d4d4d4",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"],["autoplay","true","muted","",1,"video",3,"loop","src"],["styledPadding",".5rem .5rem","fontSize","1rem",1,"menu-btn",3,"title"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],[1,"url-select"],["for","url",1,"color-white"],["type","text","name","url","placeholder","url video",1,"input-global"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"SALVAPANTALLAS"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"p",4),e._uU(7,"Video:"),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"p",7),e.NdJ("click",function(){return i.toggleUpload()}),e._uU(11," Subir video "),e.qZA()(),e.YNc(12,$r,3,0,"div",8),e.YNc(13,Wr,4,0,"div",9),e.qZA(),e.TgZ(14,"p",4),e._uU(15,"Nombre del Boton:"),e.qZA(),e.TgZ(16,"div",5)(17,"input",10,11),e.NdJ("ngModelChange",function(a){return i.buttonTitle=a}),e.qZA(),e.TgZ(19,"div",12)(20,"app-button-primary",13),e.NdJ("click",function(){return i.updateSaveScreen()}),e.qZA(),e.TgZ(21,"app-button-primary",14),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(22,"div",15)(23,"div",16),e._UZ(24,"app-banner-publicity",17),e.TgZ(25,"div",18),e._UZ(26,"video",19)(27,"app-button-game",20),e.qZA(),e._UZ(28,"app-banner-publicity",17),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("ngClass",e.DdM(11,Xr)),e.xp6(2),e.Q6J("ngIf",i.isUpload),e.xp6(1),e.Q6J("ngIf",!i.isUpload),e.xp6(4),e.Q6J("ngModel",i.buttonTitle),e.xp6(7),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("loop",!0)("src",i.previsulizacion,e.LSH),e.xp6(1),e.Q6J("title",i.buttonTitle),e.xp6(1),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[p.mk,p.O5,s.Fj,s.JJ,f.Ye,s.On,N,W,H],styles:['.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:1.5rem;padding-left:.5rem}.video-option[_ngcontent-%COMP%]:hover{cursor:pointer}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;background-color:gray;height:20rem}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona un Video(Mp4)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.video[_ngcontent-%COMP%]{width:100%;height:100%}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 62px);bottom:25px}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:1rem}']}),n})()},{path:"juego/scan",component:(()=>{class n{constructor(t,i,o,a,c,l,d){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=o,this.dialogService=a,this.theme=c,this.dashStyle=l,this.imageSrv=d,this.title="",this.description=""}ngOnInit(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.title=this.dashStyle.get_scan_code_title(),this.description=this.dashStyle.get_scan_code_description(),console.log(i[0])})})}updateScanScreen(){this.dialogService.open({title:"ACTUALIZAR SCANNER",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR INFORMACION DE ESCANER",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("id","1"),o.append("scan_code_title",this.title),o.append("scan_code_description",this.description),o.append("date_modified",(new Date).toISOString()),o.append("game_id","1"),this.theme.updateDesgin(1,o),this.snackbar.mensaje("Informacion Escaner Actualizada exitosamente")}})}cancel(){this.title=this.dashStyle.get_scan_code_title(),this.description=this.dashStyle.get_scan_code_description()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D.E),e.Y36(F.U),e.Y36(h.o),e.Y36(b),e.Y36(V),e.Y36($.T),e.Y36(J))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-scan-code"]],decls:34,vars:11,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","green-primary"],[1,"savescreen-info__container"],[1,"url-select"],["type","text","name","titulo",1,"input-global",3,"ngModel","ngModelChange"],["type","text","placeholder","Nombre del boton",1,"input-global","description-input",3,"ngModel","ngModelChange"],["buttonInput","ngModel"],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#d4d4d4",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"],["height","1.5rem",1,"logo-container",3,"isHome","isBackground","urlImage"],[1,"menu-info","color-white"],[1,"scan_title"],[1,"explication-text"],[1,"menu-container_scan-img-container"],["src","../../../../assets//img//codigoQR.png","alt","scan-logo",1,"menu-container_scan-img"],["type","text","placeholder","Ingresar codigo...","disabled","",1,"btn","menu__input"],["title","continuar","fontSize","1rem","styledPadding",".5rem 1rem"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Escaneo C\xf3digo"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"p",4),e._uU(7,"T\xedtulo:"),e.qZA(),e.TgZ(8,"div",5)(9,"div",6)(10,"input",7),e.NdJ("ngModelChange",function(a){return i.title=a}),e.qZA()()(),e.TgZ(11,"p",4),e._uU(12,"Descripci\xf3n:"),e.qZA(),e.TgZ(13,"div",5)(14,"input",8,9),e.NdJ("ngModelChange",function(a){return i.description=a}),e.qZA(),e.TgZ(16,"div",10)(17,"app-button-primary",11),e.NdJ("click",function(){return i.updateScanScreen()}),e.qZA(),e.TgZ(18,"app-button-primary",12),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(19,"div",13)(20,"div",14),e._UZ(21,"app-banner-publicity",15),e.TgZ(22,"div",16),e._UZ(23,"app-logo",17),e.TgZ(24,"div",18)(25,"h2",19),e._uU(26),e.qZA(),e.TgZ(27,"p",20),e._uU(28),e.qZA()(),e.TgZ(29,"figure",21),e._UZ(30,"img",22),e.qZA(),e._UZ(31,"input",23)(32,"app-button-game",24),e.qZA(),e._UZ(33,"app-banner-publicity",15),e.qZA()()()),2&t&&(e.xp6(10),e.Q6J("ngModel",i.title),e.xp6(4),e.Q6J("ngModel",i.description),e.xp6(7),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("isHome",!1)("isBackground",!1)("urlImage",i.dashStyle.get_image_logo_game()),e.xp6(3),e.Oqu(i.title),e.xp6(2),e.hij(" ",i.description," "),e.xp6(5),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[s.Fj,s.JJ,f.Ye,s.On,N,W,ne,H],styles:[".publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:1.5rem;padding-left:.5rem}.video-option[_ngcontent-%COMP%]:hover{cursor:pointer}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:15px;align-items:center;height:20rem}.logo-container[_ngcontent-%COMP%]{margin-right:3rem;height:2.5rem}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:14rem}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 62px);bottom:25px}.menu-container_scan-img-container[_ngcontent-%COMP%]{height:3rem;width:3rem}.menu__input[_ngcontent-%COMP%]{border:3px solid red;outline:none;border-radius:13px;background-color:#000;color:#fff;padding:.2rem .5rem}.menu__input[_ngcontent-%COMP%]::placeholder{color:#fff}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}"]}),n})()},{path:"juego/diseno",component:(()=>{class n{constructor(t,i,o,a,c,l,d,T,w){this.dashboardPublicityService=t,this.publicity=i,this.router=o,this.snackbar=a,this.dialogService=c,this.theme=l,this.dashStyle=d,this.imageSrv=T,this.publicityGame=w,this.availableSpin="Disponible 1 Giro m\xe1s!",this.fontFamily="",this.colorText="",this.previsulizacionMachine="",this.previsulizacionLogo="",this.urlLogo1="",this.urlLogo2="",this.urlLogo3=""}ngOnInit(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.previsulizacionMachine=this.dashStyle.get_image_machine_game(),this.previsulizacionLogo=this.dashStyle.get_image_logo_game(),this.fontFamily=this.dashStyle.get_font_letter(),this.colorText=this.dashStyle.get_color_text(),this.publicityGame.getPublicityGame("1").subscribe(o=>{this.urlLogo1=o.image}),this.publicityGame.getPublicityGame("2").subscribe(o=>{this.urlLogo2=o.image}),this.publicityGame.getPublicityGame("3").subscribe(o=>{this.urlLogo3=o.image})})})}goEditGamePublicity(){}capturarFile(t){this.fileToUploadMachine=this.imageSrv.captureFile(t),this.fileToUploadMachine?(this.imagenMachine=this.fileToUploadMachine,this.imageSrv.extraerBase64(this.fileToUploadMachine).then(i=>{this.previsulizacionMachine=i.base,this.dashStyle.setImageMchineGameFile(this.fileToUploadMachine)})):(this.InputVar.nativeElement.value="",this.InputVarLogo.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}capturarFileLogo(t){this.fileToUploadLogo=this.imageSrv.captureFile(t),this.fileToUploadLogo?(this.imagenLogo=this.fileToUploadLogo,this.imageSrv.extraerBase64(this.fileToUploadLogo).then(i=>{this.previsulizacionLogo=i.base,this.dashStyle.setImageLogoFile(this.fileToUploadLogo)})):(this.InputVarLogo.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}updateDesign(){this.dialogService.open({title:"ACTUALIZAR Salvapantallas",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL SALVAPANTALLAS?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i)if(this.fileToUploadMachine&&this.fileToUploadLogo){console.log("entra a la doble condicion");let o=this.updateMachineImage();o.append("image_logo_game",this.dashStyle.getImageLogoFile(),this.dashStyle.getImageLogoFile().name),this.theme.updateDesgin(1,o),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}else if(this.fileToUploadMachine){console.log("ACTUALIZACION SOLO CON LA IMAGEN MACHINE");let o=this.updateMachineImage();this.theme.updateDesgin(1,o),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}else if(this.fileToUploadLogo)console.log("ACTUALIZACION SOLO CON LA IMAGEN LOGO"),this.updateLogoImage(),console.log("SE EJECUTO LA ACTUALIZACION SOLO CON LA IMAGEN LOGO");else if(!this.fileToUploadMachine&&!this.fileToUploadLogo){let o=new FormData;o.append("id","1"),o.append("color_text",this.colorText),o.append("font_letter",this.fontFamily),o.append("date_modified",(new Date).toISOString()),o.append("is_active","true"),o.append("game_id","1"),this.theme.updateDesgin(1,o),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}})}updateMachineImage(){let t=new FormData;return t.append("id","1"),t.append("image_machine_game",this.dashStyle.getImageMachineGameFile(),this.dashStyle.getImageMachineGameFile().name),t.append("color_text",this.colorText),t.append("font_letter",this.fontFamily),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateLogoImage(){console.log("updateLogoImage");let t=new FormData;t.append("id","1"),t.append("image_logo_game",this.dashStyle.getImageLogoFile(),this.dashStyle.getImageLogoFile().name),t.append("color_text",this.colorText),t.append("font_letter",this.fontFamily),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),console.log(` en LOGO ${t}`),this.theme.updateDesgin(1,t),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}previewChangeFontLetter(t){this.fontFamily=t.target.value}previewChangeColorLetter(t){this.colorText=t.target.value,console.log(this.colorText)}cancel(){this.fontFamily=this.dashStyle.get_font_letter(),this.colorText=this.dashStyle.get_color_text()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(D.E),e.Y36(F.U),e.Y36(u.F0),e.Y36(h.o),e.Y36(b),e.Y36(V),e.Y36($.T),e.Y36(J),e.Y36(ge))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-design"]],viewQuery:function(t,i){if(1&t&&(e.Gf(ta,5),e.Gf(ia,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first),e.iGM(o=e.CRH())&&(i.InputVarLogo=o.first)}},decls:103,vars:16,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","white-color"],[1,"savescreen-info__container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],["id","src-file2",1,"file-select"],["type","file","name","src-file2","aria-label","Archivo",1,"file-input",3,"change"],["takeInputLogo",""],["title","Editar logos casillas","styledPadding",".5rem .5rem","routerLink","/dashboard/juego/diseno/publicity"],["name","fuentes","placeholder","seleccione fuente de letra",1,"input-global",3,"change"],["default","","value","---"],["value","Arial"],["value","Times New Roman"],["value","Helvetica"],["value","Cambria"],["value","Century Gothic"],["value","Didot"],["value","Bodoni"],["value","Candara"],["value","Optima"],["value","Quicksand"],["value","Courier New"],["value","Rockwel"],["value","Copperplate"],["name","colores","placeholder","seleccione color letras",1,"input-global",3,"change"],["value","Black"],["value","White"],["value","Blue"],["value","Brown"],["value","Grey"],["value","Green"],["value","Purple"],["value","Red"],["value","Yellow"],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#d4d4d4",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"],["height","1.5rem",1,"logo-container",3,"isHome","isBackground","urlImage"],[1,"information-game-container"],[1,"info-game__text"],[1,"info-game__text",3,"ngStyle"],[1,"spinner__container"],[1,"award-box-container"],["alt","cajon-premios",1,"awards-box",3,"src"],[1,"awards-container"],[1,"awards-column"],[1,"award-image-container"],["alt","",3,"src"],["title","Girar","styledPadding",".5rem 1rem","fontSize","1rem",1,"menu-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"mat-toolbar",0)(1,"span"),e._uU(2,"Dise\xf1o"),e.qZA(),e._UZ(3,"span",1),e.qZA(),e.TgZ(4,"div",2)(5,"div",3)(6,"p",4),e._uU(7,"Dise\xf1o:"),e.qZA(),e.TgZ(8,"div",5)(9,"p",4),e._uU(10,"Imagen M\xe1quina:"),e.qZA(),e.TgZ(11,"div",6)(12,"input",7,8),e.NdJ("change",function(a){return i.capturarFile(a)}),e.qZA()(),e.TgZ(14,"p",4),e._uU(15,"Imagen Logo:"),e.qZA(),e.TgZ(16,"div",9)(17,"input",10,11),e.NdJ("change",function(a){return i.capturarFileLogo(a)}),e.qZA()(),e.TgZ(19,"p",4),e._uU(20,"Logos casillas:"),e.qZA(),e._UZ(21,"app-button-primary",12),e.TgZ(22,"p",4),e._uU(23,"Fuente Letra:"),e.qZA(),e.TgZ(24,"select",13),e.NdJ("change",function(a){return i.previewChangeFontLetter(a)}),e.TgZ(25,"option",14),e._uU(26,"Seleccione fuente de letra"),e.qZA(),e.TgZ(27,"option",15),e._uU(28,"Arial"),e.qZA(),e.TgZ(29,"option",16),e._uU(30,"Times New Roman"),e.qZA(),e.TgZ(31,"option",17),e._uU(32,"Helvetica"),e.qZA(),e.TgZ(33,"option",18),e._uU(34,"Cambria"),e.qZA(),e.TgZ(35,"option",19),e._uU(36,"Century Gothic"),e.qZA(),e.TgZ(37,"option",20),e._uU(38,"Didot"),e.qZA(),e.TgZ(39,"option",21),e._uU(40,"Bodoni"),e.qZA(),e.TgZ(41,"option",22),e._uU(42,"Candara"),e.qZA(),e.TgZ(43,"option",23),e._uU(44,"Optima"),e.qZA(),e.TgZ(45,"option",24),e._uU(46,"Quicksand"),e.qZA(),e.TgZ(47,"option",25),e._uU(48,"Courier New"),e.qZA(),e.TgZ(49,"option",26),e._uU(50,"Rockwel"),e.qZA(),e.TgZ(51,"option",27),e._uU(52,"Copperplate"),e.qZA()(),e.TgZ(53,"p",4),e._uU(54,"Color Texto:"),e.qZA(),e.TgZ(55,"select",28),e.NdJ("change",function(a){return i.previewChangeColorLetter(a)}),e.TgZ(56,"option",14),e._uU(57,"Seleccione color de letra"),e.qZA(),e.TgZ(58,"option",29),e._uU(59,"Black"),e.qZA(),e.TgZ(60,"option",30),e._uU(61,"White"),e.qZA(),e.TgZ(62,"option",31),e._uU(63,"Blue"),e.qZA(),e.TgZ(64,"option",32),e._uU(65,"Brown"),e.qZA(),e.TgZ(66,"option",33),e._uU(67,"Grey"),e.qZA(),e.TgZ(68,"option",34),e._uU(69,"Green"),e.qZA(),e.TgZ(70,"option",35),e._uU(71,"Purple"),e.qZA(),e.TgZ(72,"option",36),e._uU(73,"Red"),e.qZA(),e.TgZ(74,"option",37),e._uU(75,"Yellow"),e.qZA()(),e.TgZ(76,"div",38)(77,"app-button-primary",39),e.NdJ("click",function(){return i.updateDesign()}),e.qZA(),e.TgZ(78,"app-button-primary",40),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(79,"div",41)(80,"div",42),e._UZ(81,"app-banner-publicity",43),e.TgZ(82,"div",44),e._UZ(83,"app-logo",45),e.TgZ(84,"div",46)(85,"div",47)(86,"p",48),e._uU(87),e.qZA()()(),e.TgZ(88,"div",49)(89,"figure",50),e._UZ(90,"img",51),e.qZA(),e.TgZ(91,"div",52)(92,"div",53)(93,"figure",54),e._UZ(94,"img",55),e.qZA()(),e.TgZ(95,"div",53)(96,"figure",54),e._UZ(97,"img",55),e.qZA()(),e.TgZ(98,"div",53)(99,"figure",54),e._UZ(100,"img",55),e.qZA()()()(),e._UZ(101,"app-button-game",56),e.qZA(),e._UZ(102,"app-banner-publicity",43),e.qZA()()()),2&t&&(e.xp6(81),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("isHome",!1)("isBackground",!1)("urlImage",i.previsulizacionLogo),e.xp6(3),e.Q6J("ngStyle",e.WLB(13,na,i.fontFamily,i.colorText)),e.xp6(1),e.hij(" ",i.availableSpin," "),e.xp6(3),e.Q6J("src",i.previsulizacionMachine,e.LSH),e.xp6(4),e.Q6J("src",i.urlLogo1,e.LSH),e.xp6(3),e.Q6J("src",i.urlLogo2,e.LSH),e.xp6(3),e.Q6J("src",i.urlLogo3,e.LSH),e.xp6(2),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[p.PC,s.YN,s.Kr,f.Ye,u.rH,N,W,ne,H],styles:['.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:.5rem;padding-left:.5rem}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:15px;align-items:center;height:20rem}.logo-container[_ngcontent-%COMP%]{margin-right:3rem;height:2.5rem}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:14rem}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 23px);bottom:25px}.menu-container_scan-img-container[_ngcontent-%COMP%]{height:3rem;width:3rem}.menu__input[_ngcontent-%COMP%]{border:3px solid red;outline:none;border-radius:13px;background-color:#000;color:#fff;padding:.2rem .5rem}.menu__input[_ngcontent-%COMP%]::placeholder{color:#fff}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}img[_ngcontent-%COMP%]{width:100%;height:100%}figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png, jpg, jpeg)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.information-game-container[_ngcontent-%COMP%]{background-color:#ffaf00;width:100%;display:flex;justify-content:center;height:2rem;align-items:center}.spinner__container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;height:47%;width:100%;max-height:202px}.awards-container[_ngcontent-%COMP%]{position:absolute;top:46px;left:calc(50% - 118px);display:flex;justify-content:center;gap:1.5rem;z-index:4;overflow:hidden}.awards-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;height:6rem;animation-duration:4s;animation-name:slidevertical;animation-iteration-count:infinite}.award-image-container[_ngcontent-%COMP%]{height:3rem;width:4rem}.award-box-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-width:766px}']}),n})()},{path:"juego/diseno/ganador",component:Se},{path:"juego/diseno/publicity",component:Pe}]}];let aa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(ra),u.Bz]}),n})(),sa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Ce.m,p.ez,aa,Ze.B]}),n})()}}]);