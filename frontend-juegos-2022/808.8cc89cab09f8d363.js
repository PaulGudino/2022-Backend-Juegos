"use strict";(self.webpackChunkFrontend_Juegos_2022=self.webpackChunkFrontend_Juegos_2022||[]).push([[808],{8310:(ie,b,a)=>{a.r(b),a.d(b,{JuegoModule:()=>K});var h=a(6895),e=a(4650),c=a(1390);let d=(()=>{class i{constructor(t){this.router=t}canActivate(t,o){return!!sessionStorage.getItem(t.data.Validate_game)||(this.router.navigate(["/juego"]),!1)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(c.F0))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var m=a(5861),f=a(3276),J=a(2990),_=a(4870),Z=a(8739),k=a(1782),C=a(3021),x=a(2215),v=a(7973),S=a(529),P=a(9406);let O=(()=>{class i{constructor(t,o){this.http=t,this.puente=o,this.url=this.puente.geturl()}setAudioFile(t){this.audioFile=t}getAudioFile(t){return this.audioFile}getAll(){return this.http.get(this.url+"api/audio/")}getById(t){return this.http.get(this.url+"api/audio/"+t+"/")}post(t){return this.http.post(this.url+"api/audio/",t)}put(t,o){return this.http.put(this.url+"api/audio/"+t+"/",o)}delete(t){return this.http.delete(this.url+"api/audio/"+t+"/")}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(S.eN),e.LFG(P.Q))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var T=a(1202),y=a(9298);let I=(()=>{class i{constructor(t,o,n,r,g,u,p,W,q,ee,te){this.dashPublicity=t,this.themeService=o,this.styles=n,this.publicity=r,this.router=g,this.AuthSrv=u,this.GameSrv=p,this.confirmDialog=W,this.Gamelogic=q,this.audioService=ee,this.puente=te,this.backgroundImgUrl="",this.buttonTitle="",this.logoImage="",this.logoImageGame="",this.videoUrl="",this.boxes_images=0,this.design_images=0,this.audio=new Audio,this.audioArray=[]}ngOnInit(){var t=this;return(0,m.Z)(function*(){yield t.auth(),t.validateSlot(),sessionStorage.removeItem("juego_scan"),sessionStorage.removeItem("selection_game"),sessionStorage.removeItem("juego_play"),sessionStorage.removeItem("juego_rolldice"),sessionStorage.removeItem("juego_precision"),sessionStorage.removeItem("juego_puertas"),t.publicity.getPublicityTopList().subscribe(o=>{o.length>0&&(t.dashPublicity.loadTopData(o),t.publicity.getPublicityBottomList().subscribe(n=>{t.dashPublicity.loadBottomData(n)})),t.themeService.getDesignInformation().subscribe(n=>{t.styles.loadData(n[0]),t.buttonTitle=t.styles.get_title_button_screensaver(),t.logoImage=t.styles.get_image_logo(),t.videoUrl=t.styles.get_video_screensaver()})})})()}goScan(){var t=this;return(0,m.Z)(function*(){yield t.validateSlot(),console.log("Valor de boxes_images despu\xe9s de getPublicityGame:",t.boxes_images),console.log("Valor de design_images despu\xe9s de getPublicityGame:",t.design_images),10==t.boxes_images&&21==t.design_images?(t.router.navigate(["/juego/scan"]),sessionStorage.setItem("juego_scan","juego_scan")):t.confirmDialog.error(["Revise que est\xe9n todas las im\xe1genes de las casillas","Revise que est\xe9 el contenedor del tragamonedas","Revise que est\xe9 el contenedor del reloj","Revise que est\xe9 el logo de todos los juegos","Revise que est\xe9 el fondo de todos los juegos","Revise que est\xe9n todas las caras del dado","Revise que est\xe9n todas las im\xe1genes de las puertas","Revise que est\xe9 la imagen al ganar"])})()}auth(){var t=this;return(0,m.Z)(function*(){let o=new FormData;o.append("username","root"),o.append("password","root"),t.AuthSrv.auth_token(o).subscribe(n=>{sessionStorage.setItem("token",n.access),sessionStorage.setItem("refresh",n.refresh)})})()}validateSlot(){var t=this;return(0,m.Z)(function*(){t.GameSrv.getPublicityGame().subscribe(o=>{for(let n of o)n.image&&(t.boxes_images+=1)}),t.GameSrv.getDesign().subscribe(o=>{for(let n of o)n.image_machine_game&&(t.design_images+=1),n.image_box_watch&&(t.design_images+=1),n.image_logo&&(t.design_images+=1),n.image_winner&&(t.design_images+=1),n.image_background_tragamonedas&&(t.design_images+=1),n.image_background_dados&&(t.design_images+=1),n.image_background_puertas&&(t.design_images+=1),n.image_background_precision&&(t.design_images+=1),n.image_logo_tragamonedas&&(t.design_images+=1),n.image_logo_dados&&(t.design_images+=1),n.image_logo_puertas&&(t.design_images+=1),n.image_logo_precision&&(t.design_images+=1),n.image_dice_face_one&&(t.design_images+=1),n.image_dice_face_two&&(t.design_images+=1),n.image_dice_face_three&&(t.design_images+=1),n.image_dice_face_four&&(t.design_images+=1),n.image_dice_face_five&&(t.design_images+=1),n.image_dice_face_six&&(t.design_images+=1),n.image_door_left&&(t.design_images+=1),n.image_door_center&&(t.design_images+=1),n.image_door_right&&(t.design_images+=1)})})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(f.E),e.Y36(J.f),e.Y36(_.T),e.Y36(Z.U),e.Y36(c.F0),e.Y36(k.e),e.Y36(C.h),e.Y36(x.D),e.Y36(v.g),e.Y36(O),e.Y36(P.Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-juego"]],decls:7,vars:10,consts:[[3,"publicityList"],[1,"container-fluid","home_container","p-0","m-0"],[1,"home-image_container",3,"autoplay","muted","loop","src"],[1,"home-btn_container"],[1,"home_btn",3,"title","fontSize","styledPadding","click"],[3,"publicityList","isTop"]],template:function(t,o){1&t&&(e.TgZ(0,"div"),e._UZ(1,"app-publicity",0),e.TgZ(2,"div",1),e._UZ(3,"video",2),e.TgZ(4,"div",3)(5,"app-generic-button",4),e.NdJ("click",function(){return o.goScan()}),e.qZA()()(),e._UZ(6,"app-publicity",5),e.qZA()),2&t&&(e.xp6(1),e.Q6J("publicityList",o.dashPublicity.getTopPublicityList()),e.xp6(2),e.Q6J("autoplay",!0)("muted","muted")("loop",!0)("src",o.videoUrl,e.LSH),e.xp6(2),e.Q6J("title",o.buttonTitle)("fontSize","2.8rem")("styledPadding","3.4rem 6.6rem"),e.xp6(1),e.Q6J("publicityList",o.dashPublicity.getBottomPublicityList())("isTop",!1))},dependencies:[T.x,y.R],styles:[".home_container[_ngcontent-%COMP%]{position:relative;width:100%;height:70vh;overflow-y:hidden;overflow-x:hidden}.home-image_container[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;background-color:#3b3b3b}.home-logo__container[_ngcontent-%COMP%]{position:absolute;min-width:20rem;height:15rem;left:calc(50% - 203px);z-index:2}img[_ngcontent-%COMP%]{width:100%;height:100%}.home_background[_ngcontent-%COMP%]{width:100%;height:100%;max-height:77.1rem}.home-shadow[_ngcontent-%COMP%]{background:#000000a1;height:100%;width:100%;position:absolute;top:0}.home-btn_container[_ngcontent-%COMP%]{width:100%;position:absolute;display:flex;justify-content:center;bottom:calc(10% + 10px)}"]}),i})();var A=a(9994),w=a(1172),l=a(4006),j=a(8814),M=a(7136);function L(i,s){if(1&i&&(e.TgZ(0,"div",16)(1,"h2",17),e._uU(2),e.qZA(),e.TgZ(3,"p",18),e._uU(4),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.styles.get_scan_code_title()),e.xp6(2),e.hij(" ",t.styles.get_scan_code_description()," ")}}function Y(i,s){1&i&&(e.TgZ(0,"div",16)(1,"h2",17),e._uU(2,"Ingrese el c\xf3digo"),e.qZA()())}function F(i,s){1&i&&(e.TgZ(0,"figure",19),e._UZ(1,"img",20),e.qZA())}const V=function(){return["1","2","3","4","5","6","7","8","9","0","delete"]};function G(i,s){1&i&&e._UZ(0,"app-keyboard",21),2&i&&e.Q6J("keys",e.DdM(1,V))}let Q=(()=>{class i{constructor(t,o,n,r,g,u,p){this.router=t,this.publicity=o,this.styles=n,this.keyController=r,this.gameLogic=g,this.confirmDialog=u,this.ticketService=p,this.selectedInputCode=!1,this.scanState=!0,this.explication="Puedes escanear el c\xf3digo QR de tu ticket",this.code=this.keyController.getCode()}ngOnInit(){this.keyController.clearCode()}changeView(){this.scanState=!1,this.keyController.setCode("")}continueToGame(){var t=this;return(0,m.Z)(function*(){t.keyController.getCode(),""!=t.keyController.getCode()&&(yield t.gameLogic.verifyTicket(t.keyController.getCode()))?(t.gameLogic.playGame(),sessionStorage.setItem("selection_game","selection_game"),t.router.navigate(["/juego/selection"])):t.confirmDialog.error(["El ticket que ingres\xf3 no existe o ya fu\xe9 reclamado, revise si la informacion ingresada es correcta","\xd3","La fecha disponible del ticket est\xe1 fuera del rango de disponibilidad del juego"])})()}doSomething(){sessionStorage.removeItem("juego_scan")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.F0),e.Y36(f.E),e.Y36(_.T),e.Y36(A.G),e.Y36(v.g),e.Y36(x.D),e.Y36(w.w))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-scan-view"]],decls:17,vars:15,consts:[[1,"scan_container","p-0","m-0",3,"beforeunload"],[3,"publicityList"],[1,"container-menu"],["height","25rem",3,"isBackground","urlImage"],[1,"scan-shadow"],[1,"scan_menu-container"],[1,"menu-container_img-container"],["height","22rem",3,"urlImage","isHome"],["class","menu-info",4,"ngIf"],["class","menu-container_scan-img-container",4,"ngIf"],[3,"keys",4,"ngIf"],["placeholder","Ingrese el c\xf3digo","type","text","onkeypress","return event.charCode >= 48 && event.charCode <= 57","pattern","[0-9]{6}","maxlength","6",1,"btn","menu__input","ng-pristine","ng-valid","ng-touched",3,"ngModel","click","ngModelChange"],["codeInput","ngModel"],["title","Continuar",1,"mb-2",3,"fontSize","styledPadding","click"],["autoplay","","loop","","controls","None","hidden","","src","./assets/audio/playing_music.mp3",3,"volume"],[3,"publicityList","isTop"],[1,"menu-info"],[1,"scan_title"],[1,"explication-text"],[1,"menu-container_scan-img-container"],["src","../../../assets/img/codigoQR.png","alt","scan-logo",1,"menu-container_scan-img"],[3,"keys"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("beforeunload",function(){return o.doSomething()},!1,e.Jf7),e._UZ(1,"app-publicity",1),e.TgZ(2,"div",2),e._UZ(3,"app-logo",3)(4,"div",4),e.TgZ(5,"div",5)(6,"div",6),e._UZ(7,"app-logo",7),e.qZA(),e.YNc(8,L,5,2,"div",8),e.YNc(9,Y,3,0,"div",8),e.YNc(10,F,2,0,"figure",9),e.YNc(11,G,1,2,"app-keyboard",10),e.TgZ(12,"input",11,12),e.NdJ("click",function(){return o.changeView()})("ngModelChange",function(r){return o.keyController.code=r}),e.qZA(),e.TgZ(14,"app-generic-button",13),e.NdJ("click",function(){return o.continueToGame()}),e.qZA()()(),e._UZ(15,"audio",14)(16,"app-publicity",15),e.qZA()),2&t&&(e.xp6(1),e.Q6J("publicityList",o.publicity.getTopPublicityList()),e.xp6(2),e.Q6J("isBackground",!0)("urlImage",o.styles.get_image_logo()),e.xp6(4),e.Q6J("urlImage",o.styles.get_image_logo())("isHome",!1),e.xp6(1),e.Q6J("ngIf",o.scanState),e.xp6(1),e.Q6J("ngIf",!o.scanState),e.xp6(1),e.Q6J("ngIf",o.scanState),e.xp6(1),e.Q6J("ngIf",!o.scanState),e.xp6(1),e.Q6J("ngModel",o.keyController.code),e.xp6(2),e.Q6J("fontSize","2.8rem")("styledPadding","2.4rem 6.6rem"),e.xp6(1),e.Q6J("volume",.05),e.xp6(1),e.Q6J("publicityList",o.publicity.getBottomPublicityList())("isTop",!1))},dependencies:[h.O5,l.Fj,l.JJ,l.nD,l.c5,l.On,T.x,j.c,y.R,M.R],styles:[".scan_container[_ngcontent-%COMP%]{position:relative;background-color:gray;width:100%}.container-menu[_ngcontent-%COMP%]{position:relative;height:71%;width:100%;background-color:#000}.scan-shadow[_ngcontent-%COMP%]{height:71%;width:100%;position:absolute;background-color:#000000d4;z-index:2}.scan_menu-container[_ngcontent-%COMP%]{position:relative;height:70vh;width:100%;display:flex;flex-direction:column;align-items:center;gap:3rem;z-index:3}.scan_title[_ngcontent-%COMP%]{margin:0;font-size:3.8rem}.menu-container_img-container[_ngcontent-%COMP%]{width:30%;height:20%;justify-content:center}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;color:#fff;font-size:3.8rem;gap:2.4rem;margin-top:25px}.menu-container_img[_ngcontent-%COMP%]{border-radius:25px}.explication-text[_ngcontent-%COMP%]{padding:0 2rem;line-height:initial;text-align:center;width:83%}.menu-container_scan-img-container[_ngcontent-%COMP%]{min-height:16rem;width:19rem}.menu__input[_ngcontent-%COMP%]{border:5px solid red;outline:none;border-radius:33px;background-color:#000;color:#fff;padding:1rem .5rem;width:37rem;font-size:2.8rem}p[_ngcontent-%COMP%], figure[_ngcontent-%COMP%]{margin:0}img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),i})();var U=a(5960),z=a(7274);function R(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",9)(1,"img",10),e.NdJ("click",function(){const r=e.CHM(t).$implicit,g=e.oxw();return e.KtG(g.navigateTo(r.name,r.id))}),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(1),e.Q6J("src","./assets/img/"+t.name+".png",e.LSH)("alt",t.name)}}let D=(()=>{class i{constructor(t,o,n,r,g,u,p){this.gameService=t,this.router=o,this.route=n,this.ticketService=r,this.gameLogicService=g,this.dashPublicity=u,this.styles=p,this.informationText="ELIGE UN JUEGO",this.allGames=[],this.gameRoutes={Dados:"rolldice",Tragamonedas:"play",Precision:"precision",Puertas:"puertas"}}ngOnInit(){this.gameService.getAll().subscribe(t=>{this.allGames=t})}navigateTo(t,o){const n=this.gameRoutes[t];n?this.router.navigate([`/${n}`],{queryParams:{gameId:o,reload:!0}}):console.error(`No se encontr\xf3 una ruta para el juego ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(C.h),e.Y36(c.F0),e.Y36(c.gz),e.Y36(w.w),e.Y36(v.g),e.Y36(f.E),e.Y36(_.T))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-selectiongame-view"]],decls:11,vars:6,consts:[[1,"container-fullscreen"],[3,"publicityList"],[1,"container-menu"],["height","25rem",3,"urlImage","isBackground"],[1,"scan-shadow"],[1,"scan_menu-container"],[1,"games"],["class","game",4,"ngFor","ngForOf"],[3,"publicityList","isTop"],[1,"game"],[3,"src","alt","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-publicity",1),e.TgZ(2,"div",2),e._UZ(3,"app-logo",3)(4,"div",4),e.TgZ(5,"div",5)(6,"h1"),e._uU(7,"\xa1Juegos disponibles!"),e.qZA(),e.TgZ(8,"div",6),e.YNc(9,R,2,2,"div",7),e.qZA()()(),e._UZ(10,"app-publicity",8),e.qZA()),2&t&&(e.xp6(1),e.Q6J("publicityList",o.dashPublicity.getTopPublicityList()),e.xp6(2),e.Q6J("urlImage",o.styles.get_image_logo())("isBackground",!0),e.xp6(6),e.Q6J("ngForOf",o.allGames),e.xp6(1),e.Q6J("publicityList",o.dashPublicity.getBottomPublicityList())("isTop",!1))},dependencies:[h.sg,y.R,M.R],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0;overflow:hidden;background-color:#0c1a32;font-family:Arial,sans-serif;color:#fff;text-align:center}.container-fullscreen[_ngcontent-%COMP%]{background-color:#0c1a32;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;width:100vw;margin:0;padding:0;box-sizing:border-box}.container-menu[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;background-color:#000}.scan-shadow[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;background-color:#000000d4;z-index:2}.scan_menu-container[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:3;box-sizing:border-box}h1[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:20px;color:#fff}p[_ngcontent-%COMP%]{font-size:1.5em;margin:10px 0;color:#fff}.games[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:50px}.game[_ngcontent-%COMP%]{background-color:#142850;border-radius:10px;padding:10px;box-shadow:0 4px 8px #0003;flex:1 1 45%;max-width:45%;display:flex;flex-direction:column;align-items:center}.game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:10px}button[_ngcontent-%COMP%]{background-color:#2d2d2db3;color:#fff;border:none;padding:10px 20px;border-radius:5px;margin-top:10px;font-size:1em;cursor:pointer;transition:background-color .3s,transform .3s}button[_ngcontent-%COMP%]:hover{background-color:#000000e6;transform:scale(1.05)}button[_ngcontent-%COMP%]:focus{outline:none;background-color:#00d084}@media (max-width: 768px){.game[_ngcontent-%COMP%]{flex:1 1 calc(100% - 20px);max-width:calc(100% - 20px)}}"]}),i})();var B=a(7150),N=a(9116);const E=[{path:"",component:I},{path:"scan",component:Q,canActivate:[d],data:{Validate_game:"juego_scan"}},{path:"selection",component:D,data:{Validate_game:"selection_game"}},{path:"play",component:U.N,canActivate:[d],data:{Validate_game:"juego_play"}},{path:"rolldice",component:z.s,canActivate:[d],data:{Validate_game:"juego_rolldice"}},{path:"precision",component:B.P,canActivate:[d],data:{Validate_game:"juego_precision"}},{path:"puertas",component:N.U,canActivate:[d],data:{Validate_game:"juego_puertas"}}];let H=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.Bz.forChild(E),c.Bz]}),i})();var $=a(5906),X=a(5412);let K=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.ez,H,$.m,S.JF,l.u5,X.Is]}),i})()}}]);