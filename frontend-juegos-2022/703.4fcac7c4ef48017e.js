"use strict";(self.webpackChunkFrontend_Juegos_2022=self.webpackChunkFrontend_Juegos_2022||[]).push([[703],{2703:(Ar,ge,_)=>{_.r(ge),_.d(ge,{DashboardModule:()=>vr});var Ae=_(3832),xe=_(8602),u=_(6895),e=_(4650),g=_(9406),b=_(3683),qe=_(7887),E=_(529);let Q=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getUsuarios(t){return this.http.get(this.url+"api/userfilter/"+t)}getUsuarioId(t){return this.http.get(this.url+"api/user/"+t+"/")}getRolbyName(t){return this.http.get(this.url+"api/rolfilter/?name="+t)}postUsuarios(t){return this.http.post(this.url+"api/user/",t)}putUsuario(t,i){return this.http.put(this.url+"api/user/"+t+"/",i)}deleteUsuario(t){return this.http.delete(this.url+"api/user/"+t+"/")}getRoles(){return this.http.get(this.url+"api/rol/")}getRolesFilter(t){return this.http.get(this.url+"api/rolfilter/"+t)}getfilteUsuariobyRol(t){return this.http.get(this.url+"api/userfilter/?rol="+t)}postCambiarContrase\u00f1a(t,i){return this.http.post(this.url+"api/user/"+t+"/change_password/",i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(g.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var d=_(1390),we=_(1782),M=_(7392),I=_(4859),ce=_(3267),j=_(4633);function Ue(n,a){if(1&n&&(e.TgZ(0,"a",17)(1,"mat-icon",18),e._uU(2),e.qZA(),e._uU(3),e.qZA()),2&n){const t=a.$implicit;e.Q6J("routerLink",t.ruta),e.xp6(2),e.Oqu(t.icono),e.xp6(1),e.hij(" ",t.nombre,"")}}const Oe=["*"];let C=(()=>{class n{constructor(t,i,o,r){this.api=t,this.router=i,this.staticData=o,this.auth=r,this.Titulo="Menu",this.Titulo2="App Juegos",this.menu=[]}ngOnInit(){this.cargarMenu()}cargarMenu(){this.staticData.getMenu().subscribe(t=>{if("1"!=localStorage.getItem("rol_id"))for(let i=0;i<t.length;i++)"Usuarios"!=t[i].nombre&&"Roles"!=t[i].nombre&&this.menu.push(t[i]);else this.menu=t})}logout(){let t;if(localStorage.getItem("token")){let i=new FormData;t=localStorage.getItem("refresh"),i.append("refresh",t),this.auth.Logout(i).subscribe(o=>{this.router.navigate(["/juego"]),localStorage.clear(),qe.s.accessToken=""},o=>console.log(o))}else this.router.navigate(["/juego"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q),e.Y36(d.F0),e.Y36(g.Q),e.Y36(we.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-menu"]],ngContentSelectors:Oe,decls:32,vars:3,consts:[[1,"example-container"],[1,"example-toolbar","background-black-primary","green-primary"],["mat-icon-button","",3,"click"],[1,"example-app-name"],[1,"example-spacer"],[1,"nav-container"],[1,"nav-items"],[1,"nav-item","nav-item-dropdown"],[1,"dropdown-menu"],[1,"dropdown-menu-item"],["routerLink","/dashboard/cambiar-contrase\xf1a"],[1,"example-sidenav-container","background-black-primary"],[1,"background-navy-primary"],["snav",""],["class","menu","mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],[1,"Logout"],["mat-raised-button","",3,"click"],["mat-list-item","",1,"menu",3,"routerLink"],[1,"icono"]],template:function(t,i){if(1&t){const o=e.EpF();e.F$t(),e.TgZ(0,"div",0)(1,"mat-toolbar",1)(2,"button",2),e.NdJ("click",function(){e.CHM(o);const c=e.MAs(22);return e.KtG(c.toggle())}),e.TgZ(3,"mat-icon"),e._uU(4,"menu"),e.qZA()(),e.TgZ(5,"h1",3),e._uU(6),e.qZA(),e._UZ(7,"span",4),e.TgZ(8,"h1",3),e._uU(9),e.qZA(),e._UZ(10,"span",4),e.TgZ(11,"div",5)(12,"ul",6)(13,"li",7)(14,"mat-icon"),e._uU(15,"settings"),e.qZA(),e.TgZ(16,"ul",8)(17,"li",9)(18,"a",10),e._uU(19,"Cambiar Contrase\xf1a"),e.qZA()()()()()()(),e.TgZ(20,"mat-sidenav-container",11)(21,"mat-sidenav",12,13)(23,"mat-nav-list"),e.YNc(24,Ue,4,3,"a",14),e.qZA(),e.TgZ(25,"div",15)(26,"button",16),e.NdJ("click",function(){return i.logout()}),e.TgZ(27,"mat-icon"),e._uU(28,"logout"),e.qZA(),e._uU(29," CERRAR SESI\xd3N "),e.qZA()()(),e.TgZ(30,"mat-sidenav-content"),e.Hsn(31),e.qZA()()()}2&t&&(e.xp6(6),e.Oqu(i.Titulo),e.xp6(3),e.Oqu(i.Titulo2),e.xp6(15),e.Q6J("ngForOf",i.menu))},dependencies:[u.sg,M.Hw,I.lW,b.Ye,ce.JX,ce.TM,ce.Rh,j.Hk,j.Tg,d.yS],styles:[".example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;inset:0}.example-is-mobile[_ngcontent-%COMP%]   .example-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:2}h1.example-app-name[_ngcontent-%COMP%]{margin-left:8px}.example-sidenav-container[_ngcontent-%COMP%]{flex:1}.mat-sidenav[_ngcontent-%COMP%]{width:15%}.icono[_ngcontent-%COMP%]{margin-right:10px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.menu[_ngcontent-%COMP%]{color:#fff}.Logout[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;text-align:center;margin-left:25px}.Logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px;padding-bottom:15px}a[_ngcontent-%COMP%]:hover{color:var(--color-principal)}mat-sidenav[_ngcontent-%COMP%]{padding-bottom:70px}.nav-container[_ngcontent-%COMP%]{background:var(--color-fondo-principal);border-radius:4px;padding:1em;border:none;display:block;max-width:200px;margin:0 auto;text-align:center}ul[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{list-style:none;-webkit-padding-start:0}a[_ngcontent-%COMP%]{text-decoration:none}.nav-item[_ngcontent-%COMP%]{padding:1em;display:inline}.nav-item-dropdown[_ngcontent-%COMP%]{position:relative;top:10px}.nav-item-dropdown[_ngcontent-%COMP%]:hover > .dropdown-menu[_ngcontent-%COMP%]{display:block;opacity:1}.dropdown-trigger[_ngcontent-%COMP%]{position:relative}.dropdown-trigger[_ngcontent-%COMP%]:focus + .dropdown-menu[_ngcontent-%COMP%]{display:block;opacity:1}.dropdown-menu[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);display:inline-block;text-align:right;position:absolute;top:4rem;right:-30px;display:none;opacity:0;transition:opacity .5s ease;width:180px}.dropdown-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.dropdown-menu-item[_ngcontent-%COMP%]{cursor:pointer;padding:5px;text-align:center}.dropdown-menu-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--color-principal)}"]}),n})();var Z=_(5861),Pe=_(1481);let R=(()=>{class n{constructor(t){var i=this;this.sanitizer=t,this.extraerBase64=function(){var o=(0,Z.Z)(function*(r){return new Promise((c,l)=>{try{const p=window.URL.createObjectURL(r),h=i.sanitizer.bypassSecurityTrustUrl(p),y=new FileReader;return y.readAsDataURL(r),y.onload=()=>{c({base:y.result})},y.onerror=k=>{c({base:null})},h}catch{return null}})});return function(r){return o.apply(this,arguments)}}()}captureFile(t){const i=t.target.files[0];let r=i.name.split(".").pop().toLowerCase();return"png"==r||"jpg"==r||"jpeg"==r||"gif"==r?i:null}captureFilePng(t){const i=t.target.files[0];return"png"==i.name.split(".").pop().toLowerCase()?i:null}captureVideoFile(t){const i=t.target.files[0];return"mp4"==i.name.split(".").pop().toLowerCase()?i:null}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Pe.H7))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var T=_(4570),_e=_(9661),N=_(5412);let ke=(()=>{class n{constructor(t,i){this.data=t,this.mdDialogRef=i}ngOnInit(){}cancel(){this.close(!1)}close(t){this.mdDialogRef.close(t)}confirm(){this.close(!0)}onEsc(){this.close(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N.WI),e.Y36(N.so))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-dialog"]],hostBindings:function(t,i){1&t&&e.NdJ("keydown.esc",function(){return i.onEsc()})},decls:12,vars:4,consts:[[1,"container_dialog"],[1,"header"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"dialog-message"],["mat-dialog-actions",""],["mat-button","",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3),e.qZA()(),e.TgZ(4,"div",3)(5,"p",4),e._uU(6),e.qZA()(),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return i.cancel()}),e._uU(9),e.qZA(),e.TgZ(10,"button",6),e.NdJ("click",function(){return i.confirm()}),e._uU(11),e.qZA()()()),2&t&&(e.xp6(3),e.Oqu(i.data.title),e.xp6(3),e.Oqu(i.data.message),e.xp6(3),e.Oqu(i.data.cancelText),e.xp6(2),e.Oqu(i.data.confirmText))},dependencies:[I.lW,N.uh,N.xY,N.H8],styles:["header[_ngcontent-%COMP%], .dialog-message[_ngcontent-%COMP%]{text-transform:lowercase;text-align:center}.header[_ngcontent-%COMP%]:first-letter, .dialog-message[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}.container_dialog[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:500px}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff;text-align:center}button[_ngcontent-%COMP%]{background:#3f3f43;color:#fff}button[_ngcontent-%COMP%]:hover{background:#00ffc5;color:#002130}"]}),n})();var Me=_(5698),$=_(4004),fe=_(5659);let A=(()=>{class n{constructor(t){this.dialog=t}open(t){this.dialogRef=this.dialog.open(ke,{data:{title:t.title,message:t.message,cancelText:t.cancelText,confirmText:t.confirmText}})}confirmed(){return this.dialogRef.afterClosed().pipe((0,Me.q)(1),(0,$.U)(t=>t))}error(t){let i=[];for(let r in t)i.push(t[r]);this.dialog.open(fe.o,{data:i})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.uw))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x=(()=>{class n{constructor(){this.title="",this.backgroundColor="#00ffc5",this.styledPadding="0.5rem 2rem",this.fontSize="14px"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-button-primary"]],inputs:{title:"title",backgroundColor:"backgroundColor",styledPadding:"styledPadding",fontSize:"fontSize"},decls:2,vars:7,consts:[[1,"btn-game__date"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e._uU(1),e.qZA()),2&t&&(e.Udp("font-size",i.fontSize)("padding",i.styledPadding)("background",i.backgroundColor),e.xp6(1),e.hij(" ",i.title,"\n"))},styles:[".btn-game__date[_ngcontent-%COMP%]{padding:.5rem 2rem;font-size:14px;width:8rem;outline:none;border:none;border-radius:6px;font-weight:500}.btn-game__date[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();const Ie=["takeInput"];let Ne=(()=>{class n{constructor(t,i,o,r){this.imageSrv=t,this.snackbar=i,this.publicityGame=o,this.dialogService=r,this.number="0",this.previsulizacion="",this.previsulizacionGet="",this.title="Casilla"}ngOnInit(){this.loadData()}capturarFile(t){this.fileToUpload=this.imageSrv.captureFilePng(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base})):(this.previsulizacion="",this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes png"))}updatePublicityGame(){return this.fileToUpload?(this.dialogService.open({title:"ACTUALIZAR LOGO CASILLA",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL lOGO?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){if(this.fileToUpload){let o=new FormData;return o.append("id",this.number),o.append("image",this.fileToUpload,this.fileToUpload.name),this.publicityGame.updatePublicityGame(this.number,o).subscribe(r=>{this.loadData()}),this.snackbar.mensaje("Publicidad Actualizada exitosamente"),this.fileToUpload=null,!0}return!1}return!1}),!1):(this.snackbar.mensaje("Seleccione un imagen"),!1)}cancel(){this.previsulizacion=this.previsulizacionGet,this.fileToUpload=null}loadData(){this.publicityGame.getPublicityGame(this.number).subscribe(t=>{this.previsulizacionGet=t.image,this.previsulizacion=t.image})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R),e.Y36(T.o),e.Y36(_e.D),e.Y36(A))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-box"]],viewQuery:function(t,i){if(1&t&&e.Gf(Ie,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},inputs:{number:"number"},decls:17,vars:2,consts:[[1,"box-container"],[1,"color-white","publicity-container"],[1,"publicity__title","green-primary"],[1,"publicity-info__container"],[1,""],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],[1,"box"],["alt","logo img",3,"src"],[1,"white-color"],[1,"container-buttons"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"p",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3)(5,"p",4),e._uU(6,"Imagen:"),e.qZA(),e.TgZ(7,"div",5)(8,"input",6,7),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()()()(),e.TgZ(10,"figure",8),e._UZ(11,"img",9),e.qZA(),e.TgZ(12,"p",10),e._uU(13,"Insertar imagenes png"),e.qZA(),e.TgZ(14,"div",11)(15,"app-button-primary",12),e.NdJ("click",function(){return i.updatePublicityGame()}),e.qZA(),e.TgZ(16,"app-button-primary",13),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",i.title+" "+i.number+":"," "),e.xp6(8),e.Q6J("src",i.previsulizacion,e.LSH))},dependencies:[x],styles:['.box[_ngcontent-%COMP%]{width:9rem;height:9rem;border:1px solid #00ffc5;align-self:center}.box-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;border:1px solid #00ffc5;padding:1rem;margin-bottom:1.5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}.publicity-info__container[_ngcontent-%COMP%]{padding:0 .5rem}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.container-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between}']}),n})();const De=["takeInput"];function Se(n,a){1&n&&e._UZ(0,"app-box",4),2&n&&e.Q6J("number",a.$implicit.toString())}const Ee=function(){return[1,2,3,4,5,6,7,8,9,10]};let Ye=(()=>{class n{constructor(t){this.staticData=t,this.previsulizacion=""}ngOnInit(){this.staticData.setMenuTragamonedas()}addPublicity(){}deletePublicity(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicity-game"]],viewQuery:function(t,i){if(1&t&&e.Gf(De,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:7,vars:2,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[3,"number",4,"ngFor","ngForOf"],[3,"number"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Dise\xf1o"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2),e.YNc(6,Se,1,1,"app-box",3),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngForOf",e.DdM(1,Ee)))},dependencies:[u.sg,b.Ye,C,Ne],styles:[".publicity-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%;gap:2rem;flex-wrap:wrap;margin:2rem 0}.btn-container[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}"]}),n})();var J=_(3276),L=_(7637);let K=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getDesignInformation(){return this.http.get(`${this.url}api/design/`)}updateDesgin(t,i){return this.http.put(this.url+"api/design/"+t+"/",i).subscribe(o=>{console.log(o)})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(g.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ee=_(4870);let te=(()=>{class n{constructor(){this.title="Empezar",this.fontSize="1.6rem",this.styledPadding="1rem 1.5rem",this.color="white",this.color_background="red"}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-button-game"]],inputs:{title:"title",fontSize:"fontSize",styledPadding:"styledPadding",color:"color",color_background:"color_background"},decls:2,vars:9,consts:[[1,"generic-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"button",0),e._uU(1),e.qZA()),2&t&&(e.Udp("font-size",i.fontSize)("padding",i.styledPadding)("color",i.color)("background",i.color_background),e.xp6(1),e.hij(" ",i.title,"\n"))},styles:[".generic-btn[_ngcontent-%COMP%]{padding:1rem 1.5rem;font-size:1.6rem;margin:0;text-align:center;border-radius:15px;outline:none;border:none}"]}),n})();const Fe=function(n,a,t){return{"home-logo__container":n,logo__container:a,"logo__container-background":t}};let le=(()=>{class n{constructor(){this.height="15rem",this.isHome=!0,this.isBackground=!1,this.urlImage=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-logo"]],inputs:{height:"height",isHome:"isHome",isBackground:"isBackground",urlImage:"urlImage"},decls:2,vars:8,consts:[[1,"p-0","m-0",3,"ngClass"],["alt","home-logo",1,"p-0","m-0",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"figure",0),e._UZ(1,"img",1),e.qZA()),2&t&&(e.Udp("height",i.height),e.Q6J("ngClass",e.kEZ(4,Fe,i.isHome,!i.isHome,i.isBackground)),e.xp6(1),e.Q6J("src",i.urlImage,e.LSH))},dependencies:[u.mk],styles:[".home-logo__container[_ngcontent-%COMP%]{position:absolute;height:15rem;left:calc(50% - 263px);top:calc(0% + 20px);z-index:2}.logo__container[_ngcontent-%COMP%]{position:absolute;height:15rem;top:calc(0% + 20px);z-index:2}.logo__container-background[_ngcontent-%COMP%]{position:absolute;height:15rem;top:calc(0% + 20px);left:calc(50% - 210px);z-index:2}img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),n})();function Re(n,a){if(1&n&&(e.TgZ(0,"figure",3),e._UZ(1,"img",4),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("src",t.image,e.LSH)}}const Je=function(n,a){return{"top-publicity":n,"bottom-publicity":a}};let W=(()=>{class n{constructor(){this.isTop=!0,this.publicityList=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-banner-publicity"]],inputs:{isTop:"isTop",publicityList:"publicityList"},decls:3,vars:5,consts:[[1,"container-fluid","publicity_container","p-0",3,"ngClass"],[1,"scroll-container"],["class","publicity_img-container",4,"ngFor","ngForOf"],[1,"publicity_img-container"],["alt","publicity-img",1,"publicity_img",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Re,2,1,"figure",2),e.qZA()()),2&t&&(e.Q6J("ngClass",e.WLB(2,Je,i.isTop,!i.isTop)),e.xp6(2),e.Q6J("ngForOf",i.publicityList))},dependencies:[u.mk,u.sg],styles:[".publicity_container[_ngcontent-%COMP%]{background-color:#0ff;position:relative;height:4rem;display:flex;overflow:hidden;scroll-behavior:smooth}.scroll-container[_ngcontent-%COMP%]{display:flex;width:100%;overflow:hidden;scroll-behavior:smooth;align-items:center}.publicity_img-container[_ngcontent-%COMP%], img[_ngcontent-%COMP%]{padding:0;margin:0}.publicity_img-container[_ngcontent-%COMP%]{min-width:100%;height:100%}.publicity_img[_ngcontent-%COMP%]{width:100%;height:100%}.top-publicity[_ngcontent-%COMP%]{border-top-left-radius:27px;border-top-right-radius:27px}.bottom-publicity[_ngcontent-%COMP%]{border-bottom-left-radius:27px;border-bottom-right-radius:27px}"]}),n})();const Qe=["takeInput"],je=function(n){return{color:n}};let Le=(()=>{class n{constructor(t,i,o,r,c,l,p,h){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=o,this.dialogService=r,this.theme=c,this.dashStyle=l,this.imageSrv=p,this.staticData=h,this.availableSpin="HAZ GANADO!!!",this.previsualizacion=""}ngOnInit(){this.staticData.setMenuTragamonedas(),this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.previsualizacion=this.dashStyle.get_image_winner(),console.log(i[0])})})}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsualizacion=i.base,this.dashStyle.setImageWinnerGameFile(this.fileToUpload)})):(this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}updateWinner(){this.dialogService.open({title:"ACTUALIZAR RESULTADO",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR LA INFORMACI\xd3N DE RESULTADO GANADOR?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i&&this.fileToUpload){let o=new FormData;o.append("id","1"),o.append("image_winner",this.dashStyle.getImageWinnerGameFile(),this.dashStyle.getImageWinnerGameFile().name),o.append("date_modified",(new Date).toISOString()),o.append("game_id","1"),this.theme.updateDesgin(1,o),this.snackbar.mensaje("Informacion Dise\xf1o Ganadores Actualizada Exitosamente")}})}cancel(){this.previsualizacion=this.dashStyle.get_image_winner()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(L.U),e.Y36(T.o),e.Y36(A),e.Y36(K),e.Y36(ee.T),e.Y36(R),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-winner-design"]],viewQuery:function(t,i){if(1&t&&e.Gf(Qe,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:44,vars:13,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"savescreen-info__container"],[1,"publicity__title","white-color"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"],["height","1.5rem",1,"logo-container",3,"isHome","isBackground","urlImage"],[1,"information-game-container"],[1,"info-game__text"],[1,"info-game__text",3,"ngStyle"],[1,"spinner__container"],[1,"award-box-container"],["alt","cajon-premios",1,"awards-box",3,"src"],[1,"awards-container"],[1,"awards-column"],[1,"award-image-container"],["src","../../../../../assets/img/logoejemplo.png","alt",""],[1,"award-box-container","congratulations-image"],["alt"," ' ",1,"awards-box",3,"src"],["title","Girar","styledPadding",".5rem 1rem","fontSize","1rem",1,"menu-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"p"),e._uU(2,"winner-design works!"),e.qZA(),e.TgZ(3,"mat-toolbar",0)(4,"span"),e._uU(5,"Dise\xf1o Ganadores"),e.qZA(),e._UZ(6,"span",1),e.qZA(),e.TgZ(7,"div",2)(8,"div",3)(9,"div",4)(10,"p",5),e._uU(11,"Imagen Ganador:"),e.qZA(),e.TgZ(12,"div",6)(13,"input",7,8),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()(),e.TgZ(15,"div",9)(16,"app-button-primary",10),e.NdJ("click",function(){return i.updateWinner()}),e.qZA(),e.TgZ(17,"app-button-primary",11),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(18,"div",12)(19,"div",13),e._UZ(20,"app-banner-publicity",14),e.TgZ(21,"div",15),e._UZ(22,"app-logo",16),e.TgZ(23,"div",17)(24,"div",18)(25,"p",19),e._uU(26),e.qZA()()(),e.TgZ(27,"div",20)(28,"figure",21),e._UZ(29,"img",22),e.qZA(),e.TgZ(30,"div",23)(31,"div",24)(32,"figure",25),e._UZ(33,"img",26),e.qZA()(),e.TgZ(34,"div",24)(35,"figure",25),e._UZ(36,"img",26),e.qZA()(),e.TgZ(37,"div",24)(38,"figure",25),e._UZ(39,"img",26),e.qZA()()(),e.TgZ(40,"figure",27),e._UZ(41,"img",28),e.qZA()(),e._UZ(42,"app-button-game",29),e.qZA(),e._UZ(43,"app-banner-publicity",14),e.qZA()()()()),2&t&&(e.xp6(20),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("isHome",!1)("isBackground",!1)("urlImage",i.dashStyle.get_image_logo_game()),e.xp6(3),e.Q6J("ngStyle",e.VKq(11,je,i.dashStyle.get_color_text())),e.xp6(1),e.hij(" ",i.availableSpin," "),e.xp6(3),e.Q6J("src",i.dashStyle.get_image_machine_game(),e.LSH),e.xp6(12),e.Q6J("src",i.previsualizacion,e.LSH),e.xp6(2),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[u.PC,b.Ye,x,te,le,C,W],styles:['.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:.5rem;padding-left:.5rem}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:15px;align-items:center;height:20rem}.logo-container[_ngcontent-%COMP%]{margin-right:3rem;height:2.5rem}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:14rem}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 23px);bottom:25px}.menu-container_scan-img-container[_ngcontent-%COMP%]{height:3rem;width:3rem}.menu__input[_ngcontent-%COMP%]{border:3px solid red;outline:none;border-radius:13px;background-color:#000;color:#fff;padding:.2rem .5rem}.menu__input[_ngcontent-%COMP%]::placeholder{color:#fff}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}img[_ngcontent-%COMP%]{width:100%;height:100%}figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png, jpg, jpeg)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.information-game-container[_ngcontent-%COMP%]{background-color:#ffaf00;width:100%;display:flex;justify-content:center;height:2rem;align-items:center}.spinner__container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;height:47%;width:100%;max-height:202px}.awards-container[_ngcontent-%COMP%]{position:absolute;top:46px;left:calc(50% - 118px);display:flex;justify-content:center;gap:1.5rem;z-index:4;overflow:hidden}.awards-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;height:6rem;animation-duration:4s;animation-name:slidevertical;animation-iteration-count:infinite}.award-image-container[_ngcontent-%COMP%]{height:3rem;width:4rem}.award-box-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-width:766px}.congratulations-image[_ngcontent-%COMP%]{position:absolute}']}),n})();var s=_(4006);let z=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAwardConditionFilter(t){return this.http.get(this.url+"api/awardconditionfilter/"+t)}getAward(){return this.http.get(this.url+"api/awardfilter/?is_active=true")}getAwardConditionbyId(t){return this.http.get(this.url+"api/awardcondition/"+t+"/")}postAwardCondition(t){return this.http.post(this.url+"api/awardcondition/",t)}putAwardCondition(t,i){return this.http.put(this.url+"api/awardcondition/"+t+"/",i)}deleteAwardCondition(t){return this.http.delete(this.url+"api/awardcondition/"+t+"/")}getAwardEdit(){return this.http.get(this.url+"api/awardlist/")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(g.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAward(){return this.http.get(this.url+"api/awardlist/")}getAwardbyId(t){return this.http.get(this.url+"api/award/"+t+"/")}getAwardbyIdVisualizer(t){return this.http.get(this.url+"api/awardlist/"+t+"/")}postAward(t){return this.http.post(this.url+"api/award/",t)}putAward(t,i){return this.http.put(this.url+"api/award/"+t+"/",i)}deleteAward(t){return this.http.delete(this.url+"api/award/"+t+"/")}getFilterAward(t){return this.http.get(this.url+"api/awardfilter/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(g.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ie=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}postGameDate(t){return this.http.post(this.url+"api/gamedate/",t)}DateFormat(t){let i=t.getTime(),o="";if(t.getTimezoneOffset()<=0){let r=i+Math.abs(6e4*t.getTimezoneOffset());o=new Date(r).toISOString()}else{let r=i+-Math.abs(6e4*t.getTimezoneOffset());o=new Date(r).toISOString()}return o.split(".")[0]}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(g.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var f=_(9549),P=_(4385),O=_(3238),Y=_(3546),me=_(9602),pe=_(1366);function Ge(n,a){if(1&n&&(e.TgZ(0,"mat-option",23),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Be(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let ze=(()=>{class n{constructor(t,i,o,r,c,l,p,h,y){this.fb=t,this.awardConditionSrv=i,this.awardSrv=o,this.snackbar=r,this.dialogService=c,this.router=l,this.activerouter=p,this.staticData=h,this.gameDataSrv=y,this.minDate=new Date,this.award_condition_id=Number(this.activerouter.snapshot.paramMap.get("id")),this.img_upload="assets/img/regalo.png",this.previsulizacion=this.img_upload,this.stock_actual=0,this.award_name="",this.startDate=new Date,this.endDate=new Date,this.beginDate=new Date,this.finishDate=new Date,this.award_condition=[],this.form=this.fb.group({startTime:["",s.kI.required],endTime:["",s.kI.required],award:["",s.kI.required]})}ngOnInit(){var t=this;return(0,Z.Z)(function*(){yield t.getAwardConditionId(t.award_condition_id),t.form.get("award")?.disable(),t.staticData.setMenuTragamonedas(),t.getAward();let i=(new Date).getFullYear(),o=(new Date).getMonth(),r=(new Date).getDate();t.minDate=new Date(i,o,r)})()}cancel(){this.router.navigate(["/dashboard/premios/condicion"])}getAward(){this.awardConditionSrv.getAwardEdit().subscribe(t=>{this.award_condition=t})}getAwardConditionId(t){var i=this;return(0,Z.Z)(function*(){i.awardConditionSrv.getAwardConditionbyId(t).subscribe(o=>{i.imgAward(o.award);let r=o.start_date.split(" ")[1].split(":")[0],c=o.start_date.split(" ")[1].split(":")[1],l=o.end_date.split(" ")[1].split(":")[0],p=o.end_date.split(" ")[1].split(":")[1];console.log(o.award.toString()),i.form.controls.award.setValue(o.award.toString()),i.form.controls.startTime.setValue({hour:Number(r),minute:Number(c)}),i.form.controls.endTime.setValue({hour:Number(l),minute:Number(p)}),i.beginDate=new Date(o.start_date_nf),i.finishDate=new Date(o.end_date_nf)},o=>{i.dialogService.error(o.error)})})()}changetime(){var t=this;return(0,Z.Z)(function*(){let i=t.form.value.startTime.hour,o=t.form.value.startTime.minute,r=t.form.value.endTime.hour,c=t.form.value.endTime.minute,l=t.finishDate.toISOString().split("T")[0];const[p,h,y]=l.split("-");t.startDate=new Date(parseInt(p),parseInt(h)-1,parseInt(y),parseInt(i),parseInt(o)),t.endDate=new Date(parseInt(p),parseInt(h)-1,parseInt(y),parseInt(r),parseInt(c))})()}editAwardCondition(){var t=this;return(0,Z.Z)(function*(){t.form.valid?(yield t.changetime(),t.dialogService.open({title:"CREAR PREMIO CONDICIONADO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO PREMIO CONDICIONADO?",cancelText:"CANCELAR",confirmText:"EDITAR"}),t.dialogService.confirmed().subscribe(o=>{if(o){let r=new FormData,c=1,l=localStorage.getItem("user_id"),p=t.gameDataSrv.DateFormat(t.startDate);r.append("start_date",p);let h=t.gameDataSrv.DateFormat(t.endDate);r.append("end_date",h),r.append("award",t.form.get("award")?.value),r.append("game",c.toString()),r.append("user_modify",l),console.log(p),console.log(h),t.awardConditionSrv.putAwardCondition(t.award_condition_id,r).subscribe(y=>{t.snackbar.mensaje("Premio Condicionado Actualizado Exitosamente"),t.router.navigate(["dashboard/premios/condicion"])},y=>{t.dialogService.error(y.error)})}})):t.snackbar.mensaje("Complete todos los campos")})()}imgAward(t){this.awardSrv.getAwardbyId(t).subscribe(i=>{this.previsulizacion=i.imagen,this.stock_actual=i.initial_stock,this.award_name=i.name})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(z),e.Y36(S),e.Y36(T.o),e.Y36(A),e.Y36(d.F0),e.Y36(d.gz),e.Y36(g.Q),e.Y36(ie))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-awards-condition"]],decls:43,vars:17,consts:[[1,"example-spacer"],[3,"formGroup"],[1,"condition_container"],[1,"container"],[1,"register_container"],[1,"form_container"],["formControlName","award","mat-select","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"img_container"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["title","Editar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[1,"date_container"],[1,"calendar"],[1,"input-date","green-primary"],[1,"calendar__card"],[1,"demo-inline-calendar-card","background-navy-primary","green-primary"],[1,"green-primary",3,"selected","startAt","minDate","maxDate","selectedChange"],[1,"time_container"],["formControlName","startTime",1,"time",3,"meridian"],["formControlName","endTime",3,"meridian"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"form",1)(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"mat-form-field")(11,"label"),e._uU(12,"Premios"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"label"),e._uU(15),e.qZA(),e.TgZ(16,"mat-select",6),e.NdJ("selectionChange",function(r){return i.imgAward(r.value)}),e.YNc(17,Ge,2,2,"mat-option",7),e.qZA(),e.TgZ(18,"mat-hint"),e._uU(19,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(20,Be,2,0,"mat-error",8),e.qZA()(),e.TgZ(21,"div",9),e._UZ(22,"img",10),e.qZA()(),e.TgZ(23,"div",11)(24,"app-button-primary",12),e.NdJ("click",function(){return i.editAwardCondition()}),e.qZA(),e.TgZ(25,"app-button-primary",13),e.NdJ("click",function(){return i.cancel()}),e.qZA()()(),e.TgZ(26,"div",14)(27,"div",15)(28,"p",16),e._uU(29,"Fecha Inicio"),e.qZA(),e.TgZ(30,"div",17)(31,"mat-card",18)(32,"mat-calendar",19),e.NdJ("selectedChange",function(r){return i.beginDate=r}),e.qZA()()(),e.TgZ(33,"div",20),e._UZ(34,"ngb-timepicker",21),e.qZA()(),e.TgZ(35,"div",15)(36,"p",16),e._uU(37,"Fecha Fin"),e.qZA(),e.TgZ(38,"div",17)(39,"mat-card",18)(40,"mat-calendar",19),e.NdJ("selectedChange",function(r){return i.finishDate=r}),e.qZA()()(),e.TgZ(41,"div",20),e._UZ(42,"ngb-timepicker",22),e.qZA()()()()()()),2&t&&(e.xp6(3),e.hij("Editar Premio Condicionado : ",i.award_name," "),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(10),e.AsE("Hay ",i.stock_actual," del premio: ",i.award_name,""),e.xp6(2),e.Q6J("ngForOf",i.award_condition),e.xp6(3),e.Q6J("ngIf",i.form.controls.award.hasError("required")),e.xp6(2),e.Q6J("src",i.previsulizacion,e.LSH),e.xp6(10),e.Q6J("selected",i.beginDate)("startAt",i.beginDate)("minDate",i.beginDate)("maxDate",i.beginDate),e.xp6(2),e.Q6J("meridian",!0),e.xp6(6),e.Q6J("selected",i.finishDate)("startAt",i.finishDate)("minDate",i.finishDate)("maxDate",i.finishDate),e.xp6(2),e.Q6J("meridian",!0))},dependencies:[u.sg,u.O5,s._Y,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,b.Ye,P.gD,O.ey,Y.a8,me._H,pe.Pm,x,C],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.condition_container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row}.date_container[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:row;justify-content:space-around}.container[_ngcontent-%COMP%]{margin-top:20px;width:60%;display:flex;flex-direction:column}.register_container[_ngcontent-%COMP%]{margin-top:20px;width:100%;display:flex;flex-direction:row}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:45%}.input-date[_ngcontent-%COMP%]{margin-top:20px;padding:.5rem 1.5rem;border:1px solid var(--color-principal);border-radius:15px;text-align:center}.calendar__card[_ngcontent-%COMP%]{padding:0 1rem}.time_container[_ngcontent-%COMP%]{display:flex;justify-content:center}.time[_ngcontent-%COMP%]{color:var(--color-principal)}.mat-form-field[_ngcontent-%COMP%]{width:95%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#fff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.form_container[_ngcontent-%COMP%]{width:40%}.img_container[_ngcontent-%COMP%]{display:flex;width:60%;height:250px}.img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% auto auto;width:85%;height:100%;border-radius:10px;object-fit:fill}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:10% 15px 15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}"]}),n})(),G=(()=>{class n{constructor(t){this.router=t}canActivate(t,i){return"1"==localStorage.getItem("rol_id")||(this.router.navigate(["/dashboard"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(d.F0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getPermisos(){return this.http.get(this.url+"api/permission/")}getPermisosbyName(t){return this.http.get(this.url+"api/permissionfilter/?search="+t)}getPermisosbyRol(t){return this.http.get(this.url+"api/rolpermissionfilter/?rol="+t)}postPermisosbyRol(t){return this.http.post(this.url+"api/rolpermission/",t)}deletePermissionRol(t){return this.http.delete(this.url+"api/rolpermission/"+t+"/")}getPermisosbyRolandPermission(t,i){return this.http.get(this.url+"api/rolpermissionfilter/?rol="+t+"&permission="+i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(g.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ne=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}postRoles(t){return this.http.post(this.url+"api/rol/",t)}getRolbyId(t){return this.http.get(this.url+"api/rol/"+t+"/")}putRol(t,i){return this.http.put(this.url+"api/rol/"+t+"/",i)}deleteRol(t){return this.http.delete(this.url+"api/rol/"+t+"/")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(g.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function He(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",9)(2,"div",10)(3,"label"),e._uU(4),e.qZA()(),e.TgZ(5,"div",11)(6,"div",12)(7,"input",13),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.onCheckboxChange(o))}),e.qZA(),e._UZ(8,"div",14)(9,"div",15),e.qZA()()()()}if(2&n){const t=a.$implicit;e.xp6(4),e.Oqu(t.name),e.xp6(3),e.s9C("id",t.name),e.Q6J("value",t.id)}}let Ve=(()=>{class n{constructor(t,i,o,r,c,l,p,h){this.fb=t,this.permisoSrv=i,this.activerouter=o,this.router=r,this.roles_service=c,this.snackbar=l,this.dialogService=p,this.statickData=h,this.Lista_permisos=[],this.Permisos_eliminar=[],this.rol="",this.form=this.fb.group({ckeckArray:this.fb.array([])})}ngOnInit(){var t=this;return(0,Z.Z)(function*(){t.statickData.setMenuGeneral();let i=Number(t.activerouter.snapshot.paramMap.get("id"));t.roles_service.getRolbyId(i).subscribe(o=>{t.rol=o.name}),t.cargarPermisos(),yield t.obtenerPermisosbyrol(i)})()}onCheckboxChange(t){const i=this.form.get("ckeckArray");if(t.target.checked)i.push(new s.NI(t.target.value));else{var o=0;i.controls.forEach(r=>{r.value!=t.target.value?o++:i.removeAt(o)})}}cargarPermisos(){this.permisoSrv.getPermisos().subscribe(t=>{this.Lista_permisos=t})}obtenerPermisosbyrol(t){var i=this;return(0,Z.Z)(function*(){i.permisoSrv.getPermisosbyRol(t).subscribe(o=>{const r=i.form.get("ckeckArray");for(let c=0;c<o.length;c++)i.cambiarcheckbox(o[c].permission.toString()),r.push(new s.NI(o[c].id_permission.toString())),i.Permisos_eliminar.push(o[c].id.toString())},o=>{console.log("No se pudo obtener los permisos")})})()}cambiarcheckbox(t){const i=document.getElementById(t);null!=i&&(i.checked=!0)}regresarRoles(){this.router.navigate(["/dashboard/roles"])}guardarPermisos(){this.dialogService.open({title:"GUARDAR PERMISOS",message:"ESTA SEGURO QUE QUIERE CAMBIAR LOS PERMISOS DEL ROL?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(i=>{i&&this.guardarPermisosNuevos()})}eliminarPermisosViejos(){let t=this.Permisos_eliminar;if(t.length>0)for(let i=0;i<t.length;i++)this.permisoSrv.deletePermissionRol(Number(t[i])).subscribe(o=>{})}guardarPermisosNuevos(){this.eliminarPermisosViejos();let t=this.form.value.ckeckArray,i=Number(this.activerouter.snapshot.paramMap.get("id"));if(t.length>0){for(let o=0;o<t.length;o++){let r=Number(t[o]);this.permisoSrv.postPermisosbyRol({rol:i,permission:r}).subscribe(c=>{})}this.snackbar.mensaje("Permisos actualizados correctamente"),this.router.navigate(["/dashboard/roles"])}else this.snackbar.mensaje("Este rol no tiene permisos"),this.router.navigate(["/dashboard/roles"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(H),e.Y36(d.gz),e.Y36(d.F0),e.Y36(ne),e.Y36(T.o),e.Y36(A),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-permisos-roles"]],decls:13,vars:3,consts:[[1,"example-spacer"],[1,"container_card"],[1,"container_permisos"],["novalidate","",3,"formGroup"],[1,"container"],[4,"ngFor","ngForOf"],[1,"container_botones"],["title","Guardar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[1,"container_permiso"],[1,"permiso_nombre"],[1,"espaciado"],["id","button-3",1,"button","r"],["type","checkbox",1,"checkbox",3,"id","value","change"],[1,"knobs"],[1,"layer"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"div",2)(7,"form",3)(8,"div",4),e.YNc(9,He,10,3,"div",5),e.qZA()()(),e.TgZ(10,"div",6)(11,"app-button-primary",7),e.NdJ("click",function(){return i.guardarPermisos()}),e.qZA(),e.TgZ(12,"app-button-primary",8),e.NdJ("click",function(){return i.regresarRoles()}),e.qZA()()()()),2&t&&(e.xp6(3),e.hij("Rol: ",i.rol,""),e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(2),e.Q6J("ngForOf",i.Lista_permisos))},dependencies:[u.sg,s._Y,s.JL,s.sg,b.Ye,x,C],styles:['[_ngcontent-%COMP%]:root{--color-principal: #00ffc5;--color-fondo-principal: #000910;--color-fondo-secundario: #002130;--color-letras: #ffffff;--color-ventanas: #055970;--color-cafe:#3f3f43}.container[_ngcontent-%COMP%]{margin:25px;flex-flow:row wrap;display:flex}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:25%}.label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.espaciado[_ngcontent-%COMP%]{margin-bottom:30px}.container_vistas[_ngcontent-%COMP%]{margin:25px;text-align:center}h2[_ngcontent-%COMP%]{margin:30px 0}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;flex-direction:column}.container_permiso[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.permiso_nombre[_ngcontent-%COMP%]{margin-bottom:30px;color:var(--color-letras)}.knobs[_ngcontent-%COMP%], .layer[_ngcontent-%COMP%]{position:absolute;inset:0}.button[_ngcontent-%COMP%]{position:relative;top:50%;width:100px;height:40px;margin:-20px auto 0;overflow:hidden}.button.r[_ngcontent-%COMP%], .button.r[_ngcontent-%COMP%]   .layer[_ngcontent-%COMP%]{border-radius:10px}.checkbox[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;padding:0;margin:0;opacity:0;cursor:pointer;z-index:3}.knobs[_ngcontent-%COMP%]{z-index:2}.layer[_ngcontent-%COMP%]{width:100%;background-color:var(--color-letras);transition:.3s ease all;z-index:1}#button-3[_ngcontent-%COMP%]   .knobs[_ngcontent-%COMP%]:before{content:"NO";position:absolute;top:4px;left:4px;width:30px;height:30px;color:#fff;font-size:15px;font-weight:700;text-align:center;line-height:1;padding:9px 4px;background-color:var(--color-cafe);border-radius:20%;transition:.3s ease all,left .3s cubic-bezier(.18,.89,.35,1.15)}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:active + .knobs[_ngcontent-%COMP%]:before{width:46px;border-radius:100px}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked:active + .knobs[_ngcontent-%COMP%]:before{margin-left:-26px}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked + .knobs[_ngcontent-%COMP%]:before{content:"SI";left:65px;background-color:var(--color-principal);color:var(--color-fondo-secundario)}#button-3[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked ~ .layer[_ngcontent-%COMP%]{background-color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}']}),n})();var w=_(4144);function $e(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function We(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Xe(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let Ke=(()=>{class n{constructor(t,i,o,r,c,l,p){this.router=t,this.fb=i,this.rol=o,this.activerouter=r,this.snackbar=c,this.dialogService=l,this.staticData=p,this.editar_rol={id:0,name:"",description:"",is_active:!0},this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],is_active:["",s.kI.required]})}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activerouter.snapshot.paramMap.get("id");this.rol.getRolbyId(Number(t)).subscribe(i=>{this.editar_rol=i,this.form.controls.name.setValue(this.editar_rol.name),this.form.controls.description.setValue(this.editar_rol.description),this.form.controls.is_active.setValue(this.editar_rol.is_active.toString())})}regresarRoles(){this.router.navigate(["/dashboard/roles"])}editarRol(){let t=this.activerouter.snapshot.paramMap.get("id");if(this.form.valid){const i={title:"EDITAR ROLES",message:"\xbfEST\xc1 SEGURO QUE QUIERE EDITAR EL ROL "+this.form.get("name")?.value+"?",cancelText:"CANCELAR",confirmText:"EDITAR"};this.dialogService.open(i),this.dialogService.confirmed().subscribe(o=>{if(o){let r=new FormData;r.append("name",this.form.get("name")?.value),r.append("description",this.form.get("description")?.value),r.append("is_active",this.form.get("is_active")?.value),r.append("rol_request",localStorage.getItem("rol_id")||""),this.rol.putRol(Number(t),r).subscribe(c=>{this.snackbar.mensaje("Rol Actualizado Exitosamente"),this.router.navigate(["/dashboard/roles"])},c=>{this.dialogService.error(c.error)})}})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(s.qu),e.Y36(ne),e.Y36(d.gz),e.Y36(T.o),e.Y36(A),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles-editar"]],decls:37,vars:5,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],[1,"container_botones"],["title","Editar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"form",2)(7,"mat-form-field")(8,"label"),e._uU(9,"Nombre"),e.qZA(),e.TgZ(10,"div",3),e._UZ(11,"input",4),e.qZA(),e.TgZ(12,"mat-hint"),e._uU(13,"Nombre del Rol"),e.qZA(),e.YNc(14,$e,2,0,"mat-error",5),e.qZA(),e.TgZ(15,"mat-form-field")(16,"label"),e._uU(17,"Descripci\xf3n"),e.qZA(),e.TgZ(18,"div",3),e._UZ(19,"input",6),e.qZA(),e.TgZ(20,"mat-hint"),e._uU(21,"Descripci\xf3n del Rol"),e.qZA(),e.YNc(22,We,2,0,"mat-error",5),e.qZA(),e.TgZ(23,"mat-form-field")(24,"label"),e._uU(25,"Estado"),e.qZA(),e.TgZ(26,"mat-select",7)(27,"mat-option",8),e._uU(28,"Activo"),e.qZA(),e.TgZ(29,"mat-option",9),e._uU(30,"Inactivo"),e.qZA()(),e.TgZ(31,"mat-hint"),e._uU(32,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(33,Xe,2,0,"mat-error",5),e.qZA()(),e.TgZ(34,"div",10)(35,"app-button-primary",11),e.NdJ("click",function(){return i.editarRol()}),e.qZA(),e.TgZ(36,"app-button-primary",12),e.NdJ("click",function(){return i.regresarRoles()}),e.qZA()()()()),2&t&&(e.xp6(3),e.hij("Editar Rol: ",i.editar_rol.name,""),e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")))},dependencies:[u.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,w.Nt,b.Ye,P.gD,O.ey,x,C],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();var oe=_(8675),B=_(7957);function et(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function tt(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(12);e.xp6(1),e.hij(" La longitud de la c\xe9dula debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function it(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function nt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ot(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function at(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function rt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function st(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ct(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(55);e.xp6(1),e.hij(" La longitud del tel\xe9fono debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function lt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function mt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function pt(n,a){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function ut(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function dt(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function gt(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,dt,2,1,"div",7),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.form.controls.rol.hasError(t.type))}}function _t(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let ht=(()=>{class n{constructor(t,i,o,r,c,l,p){this.api=t,this.fb=i,this.router=o,this.activerouter=r,this.snackBar=c,this.dialogService=l,this.staticData=p,this.roles=[],this.id_rol=0,this.usuarioget={id:0,cedula:"",names:"",surnames:"",username:"",email:"",phone:"",password:"",sex:"",address:"",rol:"",is_active:!0,created:"",modified:"",last_session:""},this.validation_msgs={contactAutocompleteControl:[{type:"invalidAutocompleteObject",message:"Seleccione una opci\xf3n del listado !!!"}]},this.form=this.fb.group({cedula:new s.NI("",[s.kI.required,s.kI.minLength(10)]),username:["",s.kI.required],names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),phone:new s.NI("",[s.kI.required,s.kI.minLength(10)]),sex:["",s.kI.required],address:["",s.kI.required],rol:new s.NI("",[s.kI.required,n=>"string"==typeof n.value?{invalidAutocompleteObject:{value:n.value}}:null]),is_active:["",s.kI.required]})}_filter(t){if(""===t)return this.roles.slice();const i=t.toLowerCase();return this.roles.filter(o=>o.name.toLowerCase().includes(i))}displayFn(t){return t&&t.name?t.name:void 0}ngOnInit(){var t=this;return(0,Z.Z)(function*(){t.staticData.setMenuGeneral(),yield t.cargarRoles();let i=t.activerouter.snapshot.paramMap.get("id");t.api.getUsuarioId(Number(i)).subscribe(o=>{t.usuarioget=o,t.form.controls.cedula.setValue(t.usuarioget.cedula),t.form.controls.username.setValue(t.usuarioget.username),t.form.controls.names.setValue(t.usuarioget.names),t.form.controls.surnames.setValue(t.usuarioget.surnames),t.form.controls.email.setValue(t.usuarioget.email),t.form.controls.phone.setValue(t.usuarioget.phone),t.form.controls.sex.setValue(t.usuarioget.sex),t.form.controls.address.setValue(t.usuarioget.address),t.api.getRolbyName(t.usuarioget.rol).subscribe(r=>{t.form.controls.rol.setValue(r[0])}),t.form.controls.is_active.setValue(t.usuarioget.is_active.toString())})})()}regresarUsuarios(){this.router.navigate(["/dashboard/usuarios"])}cargarRoles(){var t=this;return(0,Z.Z)(function*(){t.api.getRoles().subscribe(i=>{t.roles=i,t.filteredOptions=t.form.controls.rol.valueChanges.pipe((0,oe.O)(""),(0,$.U)(o=>{const r="string"==typeof o?o:o?.name;return r?t._filter(r):t.roles.slice()}))})})()}actualizarUsuario(){let t=this.activerouter.snapshot.paramMap.get("id");if(this.form.valid){const i={title:"EDITAR USUARIO",message:"\xbfEST\xc1 SEGURO QUE QUIERE ACTUALIZAR EL USUARIO "+this.form.get("names")?.value+" "+this.form.get("surnames")?.value+"?",cancelText:"CANCELAR",confirmText:"EDITAR"};this.dialogService.open(i),this.dialogService.confirmed().subscribe(o=>{if(o){let r=new FormData;r.append("cedula",this.form.get("cedula")?.value),r.append("username",this.form.get("username")?.value),r.append("names",this.form.get("names")?.value),r.append("surnames",this.form.get("surnames")?.value),r.append("email",this.form.get("email")?.value),r.append("phone",this.form.get("phone")?.value),r.append("sex",this.form.get("sex")?.value),r.append("address",this.form.get("address")?.value),r.append("rol",this.form.get("rol")?.value.id),r.append("is_active",this.form.get("is_active")?.value),r.append("rol_request",localStorage.getItem("rol_id")||""),this.api.putUsuario(Number(t),r).subscribe(c=>{this.snackBar.mensaje("Usuario Actualizado Exitosamente"),this.router.navigate(["/dashboard/usuarios"])},c=>{this.dialogService.error(c.error)})}})}else this.snackBar.mensaje("Llene el formulario correctamente")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q),e.Y36(s.qu),e.Y36(d.F0),e.Y36(d.gz),e.Y36(T.o),e.Y36(A),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editar-usuarios"]],decls:107,vars:24,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["autocomplete","off","formControlName","username","type","text","matInput",""],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["formControlName","sex"],["value","F"],["value","M"],["autocomplete","off","formControlName","address","type","text","matInput",""],["type","text","matInput","","formControlName","rol",3,"matAutocomplete"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],[1,"container_botones"],["title","Editar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"form",2)(7,"mat-form-field")(8,"label"),e._uU(9,"C\xe9dula"),e.qZA(),e.TgZ(10,"div",3),e._UZ(11,"input",4,5),e.qZA(),e.TgZ(13,"mat-hint",6),e._uU(14),e.qZA(),e.YNc(15,et,2,0,"mat-error",7),e.YNc(16,tt,2,1,"mat-error",7),e.qZA(),e.TgZ(17,"mat-form-field")(18,"label"),e._uU(19,"Username"),e.qZA(),e.TgZ(20,"div",3),e._UZ(21,"input",8),e.qZA(),e.TgZ(22,"mat-hint"),e._uU(23,"Nombre del usuario"),e.qZA(),e.YNc(24,it,2,0,"mat-error",7),e.qZA(),e.TgZ(25,"mat-form-field")(26,"label"),e._uU(27,"Nombres"),e.qZA(),e.TgZ(28,"div",3),e._UZ(29,"input",9),e.qZA(),e.TgZ(30,"mat-hint"),e._uU(31,"Nombre completo"),e.qZA(),e.YNc(32,nt,2,0,"mat-error",7),e.qZA(),e.TgZ(33,"mat-form-field")(34,"label"),e._uU(35,"Apellidos"),e.qZA(),e.TgZ(36,"div",3),e._UZ(37,"input",10),e.qZA(),e.TgZ(38,"mat-hint"),e._uU(39,"Apellido paterno y materno"),e.qZA(),e.YNc(40,ot,2,0,"mat-error",7),e.qZA(),e.TgZ(41,"mat-form-field")(42,"label"),e._uU(43,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(44,"div",3),e._UZ(45,"input",11),e.qZA(),e.TgZ(46,"mat-hint"),e._uU(47,"Correo electr\xf3nico"),e.qZA(),e.YNc(48,at,2,0,"mat-error",7),e.YNc(49,rt,2,0,"mat-error",7),e.qZA(),e.TgZ(50,"mat-form-field")(51,"label"),e._uU(52,"Tel\xe9fono"),e.qZA(),e.TgZ(53,"div",3),e._UZ(54,"input",12,13),e.qZA(),e.TgZ(56,"mat-hint",6),e._uU(57),e.qZA(),e.YNc(58,st,2,0,"mat-error",7),e.YNc(59,ct,2,1,"mat-error",7),e.qZA(),e.TgZ(60,"mat-form-field")(61,"label"),e._uU(62,"Sexo"),e.qZA(),e.TgZ(63,"mat-select",14)(64,"mat-option",15),e._uU(65,"Femenino"),e.qZA(),e.TgZ(66,"mat-option",16),e._uU(67,"Masculino"),e.qZA()(),e.TgZ(68,"mat-hint"),e._uU(69,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(70,lt,2,0,"mat-error",7),e.qZA(),e.TgZ(71,"mat-form-field")(72,"label"),e._uU(73,"Direcci\xf3n"),e.qZA(),e.TgZ(74,"div",3),e._UZ(75,"input",17),e.qZA(),e.TgZ(76,"mat-hint"),e._uU(77,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(78,mt,2,0,"mat-error",7),e.qZA(),e.TgZ(79,"mat-form-field")(80,"label"),e._uU(81,"Rol"),e.qZA(),e.TgZ(82,"div",3),e._UZ(83,"input",18,5),e.qZA(),e.TgZ(85,"mat-autocomplete",19,20),e.YNc(87,pt,2,2,"mat-option",21),e.ALo(88,"async"),e.qZA(),e.TgZ(89,"mat-hint"),e._uU(90,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(91,ut,2,0,"mat-error",7),e.YNc(92,gt,2,1,"mat-error",22),e.qZA(),e.TgZ(93,"mat-form-field")(94,"label"),e._uU(95,"Estado"),e.qZA(),e.TgZ(96,"mat-select",23)(97,"mat-option",24),e._uU(98,"Activo"),e.qZA(),e.TgZ(99,"mat-option",25),e._uU(100,"Inactivo"),e.qZA()(),e.TgZ(101,"mat-hint"),e._uU(102,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(103,_t,2,0,"mat-error",7),e.qZA()(),e.TgZ(104,"div",26)(105,"app-button-primary",27),e.NdJ("click",function(){return i.actualizarUsuario()}),e.qZA(),e.TgZ(106,"app-button-primary",28),e.NdJ("click",function(){return i.regresarUsuarios()}),e.qZA()()()()),2&t){const o=e.MAs(12),r=e.MAs(55),c=e.MAs(86);e.xp6(3),e.AsE("Editar Usuario : ",i.usuarioget.names," ",i.usuarioget.surnames,""),e.xp6(3),e.Q6J("formGroup",i.form),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.cedula.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.cedula.hasError("minlength")),e.xp6(8),e.Q6J("ngIf",i.form.controls.username.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("email")),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.phone.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.phone.hasError("minlength")),e.xp6(11),e.Q6J("ngIf",i.form.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.address.hasError("required")),e.xp6(5),e.Q6J("matAutocomplete",c),e.xp6(2),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(88,22,i.filteredOptions)),e.xp6(4),e.Q6J("ngIf",i.form.controls.rol.hasError("required")),e.xp6(1),e.Q6J("ngForOf",i.validation_msgs.contactAutocompleteControl),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required"))}},dependencies:[u.sg,u.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,f.TO,f.KE,f.bx,w.Nt,b.Ye,P.gD,O.ey,B.XC,B.ZL,x,C,u.Ov],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})(),bt=(()=>{class n{constructor(t,i,o){this.api=t,this.router=i,this.staticServer=o,this.usuarioget={id:0,cedula:"",names:"",surnames:"",username:"",email:"",phone:"",password:"",sex:"",address:"",rol:"",is_active:!0,created:"",modified:"",last_session:""}}ngOnInit(){this.staticServer.setMenuGeneral(),this.obtenerUsuario()}obtenerUsuario(){const t=localStorage.getItem("user_id");t&&this.api.getUsuarioId(Number(t)).subscribe(i=>{this.usuarioget=i},i=>console.log(i))}cambiarContrasenia(){this.router.navigate(["/dashboard/cambiar-contrase\xf1a"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q),e.Y36(d.F0),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-inicio"]],decls:16,vars:2,consts:[[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"green-primary"],[1,"body","green-primary"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"div",0)(2,"button",1),e.NdJ("click",function(){return i.cambiarContrasenia()}),e.TgZ(3,"div",2)(4,"div",3)(5,"mat-icon",4),e._uU(6,"password"),e.qZA()(),e.TgZ(7,"span"),e._uU(8,"Cambiar Contrase\xf1a"),e.qZA()()()(),e.TgZ(9,"div",5)(10,"h1"),e._uU(11,"Bienvenido"),e.qZA(),e.TgZ(12,"h1"),e._uU(13),e.qZA(),e.TgZ(14,"h1"),e._uU(15),e.qZA()()()),2&t&&(e.xp6(13),e.Oqu(i.usuarioget.names),e.xp6(2),e.Oqu(i.usuarioget.surnames))},dependencies:[M.Hw,I.lW,C],styles:[".body[_ngcontent-%COMP%]{display:flex;justify-content:center;height:100%;align-items:center;flex-direction:column}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:20px;margin-right:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}"]}),n})(),Ct=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dashboard"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"router-outlet")},dependencies:[d.lC]}),n})();var m=_(7155),D=_(8739),U=_(6308),V=_(266);function Zt(n,a){if(1&n&&(e.TgZ(0,"mat-option",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function vt(n,a){1&n&&(e.TgZ(0,"th",32),e._uU(1,"C\xe9dula"),e.qZA())}function Tt(n,a){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.cedula)}}function yt(n,a){1&n&&(e.TgZ(0,"th",34),e._uU(1," Nombres "),e.qZA())}function At(n,a){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.names)}}function xt(n,a){1&n&&(e.TgZ(0,"th",34),e._uU(1," Apellidos "),e.qZA())}function qt(n,a){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.surnames)}}function wt(n,a){1&n&&(e.TgZ(0,"th",34),e._uU(1," Correo Electr\xf3nico "),e.qZA())}function Ut(n,a){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.email)}}function Ot(n,a){1&n&&(e.TgZ(0,"th",32),e._uU(1," Tel\xe9fono M\xf3vil "),e.qZA())}function Pt(n,a){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.phone)}}function kt(n,a){1&n&&(e.TgZ(0,"th",32),e._uU(1,"Sexo"),e.qZA())}function Mt(n,a){1&n&&(e.TgZ(0,"div")(1,"mat-icon",0),e._uU(2,"male"),e.qZA()())}function It(n,a){1&n&&(e.TgZ(0,"div")(1,"mat-icon",0),e._uU(2,"female"),e.qZA()())}function Nt(n,a){if(1&n&&(e.TgZ(0,"td",33),e.YNc(1,Mt,3,0,"div",35),e.YNc(2,It,3,0,"ng-template",null,36,e.W1O),e.qZA()),2&n){const t=a.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf","M"==t.sex)("ngIfElse",i)}}function Dt(n,a){1&n&&(e.TgZ(0,"th",32),e._uU(1,"Rol"),e.qZA())}function St(n,a){if(1&n&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.rol)}}function Et(n,a){1&n&&e._UZ(0,"th",37)}function Yt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.visualizarUsuario(o.id))}),e.TgZ(2,"mat-icon",40),e._uU(3,"remove_red_eye"),e.qZA()(),e.TgZ(4,"button",41),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.editarUsuario(o.id))}),e.TgZ(5,"mat-icon",40),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"button",42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.eliminarUsuario(o.id))}),e.TgZ(8,"mat-icon",0),e._uU(9,"delete"),e.qZA()()()}}function Ft(n,a){if(1&n&&(e.TgZ(0,"td",33),e.YNc(1,Yt,10,0,"div",38),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",1!=t.id&&t.id!=i.user_id)}}function Rt(n,a){1&n&&e._UZ(0,"tr",43)}function Jt(n,a){1&n&&e._UZ(0,"tr",44)}function Qt(n,a){if(1&n&&(e.TgZ(0,"tr",45)(1,"td",46),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(19);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const jt=function(){return[5,10,25,100]};let Lt=(()=>{class n{constructor(t,i,o,r,c,l){this.api=t,this.router=i,this.dialog=o,this.snackbar=r,this.dialogService=c,this.staticData=l,this.Filters=[{id:"?rol=&is_active=true",name:"Usuarios Activos"},{id:"?rol=&is_active=false",name:"Usuarios Inactivos"},{id:"?ordering=-created",name:"Ultimos Usuarios Creados"},{id:"?ordering=created",name:"Primeros Usuarios Creados"}],this.filter_default="?ordering=-created",this.Titulo="Usuarios",this.displayedColumns=["cedula","names","surnames","email","phone","sex","rol","Acciones"],this.user_id=Number(localStorage.getItem("user_id"))}ngOnInit(){this.staticData.setMenuGeneral(),this.cargarUsuarios(this.filter_default)}cargarUsuarios(t){this.api.getUsuarios(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}editarUsuario(t){this.router.navigate(["dashboard/usuarios/editar",t])}agregarUsuario(){this.router.navigate(["dashboard/usuarios/crear"])}visualizarUsuario(t){this.router.navigate(["dashboard/usuarios/visualizar",t])}eliminarUsuario(t){"1"==localStorage.getItem("rol_id")?(this.dialogService.open({title:"ELIMINAR USUARIO",message:"ESTA SEGURO QUE QUIERE ELIMINAR EL USUARIO?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(o=>{o&&this.api.deleteUsuario(t).subscribe(r=>{this.snackbar.mensaje("Usuario Eliminado Exitosamente"),this.cargarUsuarios(this.filter_default)},r=>{this.dialogService.error(r.error),this.cargarUsuarios(this.filter_default)})})):this.snackbar.mensaje("No tienes permiso para Eliminar Usuarios")}filter(t){this.cargarUsuarios(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q),e.Y36(d.F0),e.Y36(N.uw),e.Y36(T.o),e.Y36(A),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-usuarios"]],viewQuery:function(t,i){if(1&t&&(e.Gf(D.NW,5),e.Gf(U.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:53,vars:7,consts:[[1,"green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","cedula"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","names"],["class","ancho_columna","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","surnames"],["matColumnDef","email"],["matColumnDef","phone"],["matColumnDef","sex"],["matColumnDef","rol"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","","mat-sort-header","",1,"ancho_columna"],[4,"ngIf","ngIfElse"],["mujer",""],["mat-header-cell",""],[4,"ngIf"],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.agregarUsuario()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon",0),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"span"),e._uU(12,"Agregar Usuario"),e.qZA()()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"mat-select",8),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(16,Zt,2,2,"mat-option",9),e.qZA()(),e.TgZ(17,"div",10)(18,"input",11,12),e.NdJ("keyup",function(r){return i.aplicarFiltro(r)}),e.qZA(),e.TgZ(20,"mat-icon",0),e._uU(21," search "),e.qZA()()(),e.TgZ(22,"div",13)(23,"table",14),e.ynx(24,15),e.YNc(25,vt,2,0,"th",16),e.YNc(26,Tt,2,1,"td",17),e.BQk(),e.ynx(27,18),e.YNc(28,yt,2,0,"th",19),e.YNc(29,At,2,1,"td",17),e.BQk(),e.ynx(30,20),e.YNc(31,xt,2,0,"th",19),e.YNc(32,qt,2,1,"td",17),e.BQk(),e.ynx(33,21),e.YNc(34,wt,2,0,"th",19),e.YNc(35,Ut,2,1,"td",17),e.BQk(),e.ynx(36,22),e.YNc(37,Ot,2,0,"th",16),e.YNc(38,Pt,2,1,"td",17),e.BQk(),e.ynx(39,23),e.YNc(40,kt,2,0,"th",16),e.YNc(41,Nt,4,2,"td",17),e.BQk(),e.ynx(42,24),e.YNc(43,Dt,2,0,"th",16),e._UZ(44,"div"),e.YNc(45,St,2,1,"td",17),e.BQk(),e.ynx(46,25),e.YNc(47,Et,1,0,"th",26),e.YNc(48,Ft,2,1,"td",17),e.BQk(),e.YNc(49,Rt,1,0,"tr",27),e.YNc(50,Jt,1,0,"tr",28),e.YNc(51,Qt,3,1,"tr",29),e.qZA(),e._UZ(52,"mat-paginator",30),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(26),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,jt)))},dependencies:[u.sg,u.O5,w.Nt,M.Hw,I.lW,b.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,V.gM,D.NW,U.YE,U.nU,P.gD,O.ey,C],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.ancho_columna[_ngcontent-%COMP%]{width:17%}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function Gt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Bt(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(12);e.xp6(1),e.hij(" La longitud de la c\xe9dula debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function zt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ht(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Vt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function $t(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Wt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function Xt(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Kt(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(55);e.xp6(1),e.hij(" La longitud del tel\xe9fono debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function ei(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ti(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(65);e.xp6(1),e.hij(" La longitud m\xednima de la contrase\xf1a debe ser de 8, Hay ",t.value.length||0," d\xedgitos !!! ")}}function ii(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ni(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function oi(n,a){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function ai(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ri(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function si(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,ri,2,1,"div",7),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.form.controls.rol.hasError(t.type))}}let li=(()=>{class n{constructor(t,i,o,r,c,l){this.api=t,this.router=i,this.fb=o,this.snackBar=r,this.dialogService=c,this.staticData=l,this.roles=[],this.ocultar=!0,this.listSex=[{id:"M",name:"Masculino"},{id:"F",name:"Femenino"},{id:"O",name:"Otro"}],this.validation_msgs={contactAutocompleteControl:[{type:"invalidAutocompleteObject",message:"Seleccione una opci\xf3n del listado !!!"}]},this.form=this.fb.group({cedula:new s.NI("",[s.kI.required,s.kI.minLength(10)]),username:["",s.kI.required],names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),password:new s.NI("",[s.kI.required,s.kI.minLength(8)]),phone:new s.NI("",[s.kI.required,s.kI.minLength(10)]),sex:["",s.kI.required],address:["",s.kI.required],rol:new s.NI("",[s.kI.required,n=>"string"==typeof n.value?{invalidAutocompleteObject:{value:n.value}}:null])})}_filter(t){if(""===t)return this.roles.slice();const i=t.toLowerCase();return this.roles.filter(o=>o.name.toLowerCase().includes(i))}displayFn(t){return t&&t.name?t.name:void 0}ngOnInit(){this.staticData.setMenuGeneral(),this.cargarRoles()}crearUsuario(){console.log(this.form.value),this.form.valid?(this.dialogService.open({title:"CREAR USUARIO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO USUARIO?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("cedula",this.form.get("cedula")?.value),o.append("username",this.form.get("username")?.value),o.append("names",this.form.get("names")?.value),o.append("surnames",this.form.get("surnames")?.value),o.append("email",this.form.get("email")?.value),o.append("password",this.form.get("password")?.value),o.append("phone",this.form.get("phone")?.value),o.append("sex",this.form.get("sex")?.value),o.append("rol",this.form.get("rol")?.value.id),o.append("address",this.form.get("address")?.value),o.append("rol_request",localStorage.getItem("rol_id")||""),this.api.postUsuarios(o).subscribe({next:r=>{this.snackBar.mensaje("Usuario Creado Exitosamente"),this.regresarUsuarios()},error:r=>{this.dialogService.error(r.error)}})}})):this.snackBar.mensaje("Llene el formulario correctamente")}cargarRoles(){this.api.getRoles().subscribe(t=>{this.roles=t,this.filteredOptions=this.form.controls.rol.valueChanges.pipe((0,oe.O)(""),(0,$.U)(i=>{const o="string"==typeof i?i:i?.name;return o?this._filter(o):this.roles.slice()}))})}regresarUsuarios(){this.router.navigate(["/dashboard/usuarios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q),e.Y36(d.F0),e.Y36(s.qu),e.Y36(T.o),e.Y36(A),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-crear-usuarios"]],decls:109,vars:26,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["autocomplete","off","formControlName","username","type","text","matInput",""],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["matInput","","onpaste","return false","autocomplete","off","minlength","8","formControlName","password",3,"type"],["input_password",""],["mat-icon-button","","matSuffix","",3,"click"],["formControlName","sex"],["value","F"],["value","M"],["autocomplete","off","formControlName","address","type","text","matInput",""],["type","text","matInput","","formControlName","rol",3,"matAutocomplete"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"container_botones"],["title","Crear",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Nuevo Usuario"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"form",2)(7,"mat-form-field")(8,"label"),e._uU(9,"C\xe9dula"),e.qZA(),e.TgZ(10,"div",3),e._UZ(11,"input",4,5),e.qZA(),e.TgZ(13,"mat-hint",6),e._uU(14),e.qZA(),e.YNc(15,Gt,2,0,"mat-error",7),e.YNc(16,Bt,2,1,"mat-error",7),e.qZA(),e.TgZ(17,"mat-form-field")(18,"label"),e._uU(19,"Username"),e.qZA(),e.TgZ(20,"div",3),e._UZ(21,"input",8),e.qZA(),e.TgZ(22,"mat-hint"),e._uU(23,"Nombre del usuario"),e.qZA(),e.YNc(24,zt,2,0,"mat-error",7),e.qZA(),e.TgZ(25,"mat-form-field")(26,"label"),e._uU(27,"Nombres"),e.qZA(),e.TgZ(28,"div",3),e._UZ(29,"input",9),e.qZA(),e.TgZ(30,"mat-hint"),e._uU(31,"Nombre completo"),e.qZA(),e.YNc(32,Ht,2,0,"mat-error",7),e.qZA(),e.TgZ(33,"mat-form-field")(34,"label"),e._uU(35,"Apellidos"),e.qZA(),e.TgZ(36,"div",3),e._UZ(37,"input",10),e.qZA(),e.TgZ(38,"mat-hint"),e._uU(39,"Apellido paterno y materno"),e.qZA(),e.YNc(40,Vt,2,0,"mat-error",7),e.qZA(),e.TgZ(41,"mat-form-field")(42,"label"),e._uU(43,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(44,"div",3),e._UZ(45,"input",11),e.qZA(),e.TgZ(46,"mat-hint"),e._uU(47,"Correo electr\xf3nico"),e.qZA(),e.YNc(48,$t,2,0,"mat-error",7),e.YNc(49,Wt,2,0,"mat-error",7),e.qZA(),e.TgZ(50,"mat-form-field")(51,"label"),e._uU(52,"Tel\xe9fono"),e.qZA(),e.TgZ(53,"div",3),e._UZ(54,"input",12,13),e.qZA(),e.TgZ(56,"mat-hint",6),e._uU(57),e.qZA(),e.YNc(58,Xt,2,0,"mat-error",7),e.YNc(59,Kt,2,1,"mat-error",7),e.qZA(),e.TgZ(60,"mat-form-field")(61,"label"),e._uU(62,"Contrase\xf1a"),e.qZA(),e.TgZ(63,"div",3),e._UZ(64,"input",14,15),e.TgZ(66,"button",16),e.NdJ("click",function(){return i.ocultar=!i.ocultar}),e.TgZ(67,"mat-icon"),e._uU(68),e.qZA()()(),e.TgZ(69,"mat-hint"),e._uU(70),e.qZA(),e.YNc(71,ei,2,0,"mat-error",7),e.YNc(72,ti,2,1,"mat-error",7),e.qZA(),e.TgZ(73,"mat-form-field")(74,"label"),e._uU(75,"Sexo"),e.qZA(),e.TgZ(76,"mat-select",17)(77,"mat-option",18),e._uU(78,"Femenino"),e.qZA(),e.TgZ(79,"mat-option",19),e._uU(80,"Masculino"),e.qZA()(),e.TgZ(81,"mat-hint"),e._uU(82,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(83,ii,2,0,"mat-error",7),e.qZA(),e.TgZ(84,"mat-form-field")(85,"label"),e._uU(86,"Direcci\xf3n"),e.qZA(),e.TgZ(87,"div",3),e._UZ(88,"input",20),e.qZA(),e.TgZ(89,"mat-hint"),e._uU(90,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(91,ni,2,0,"mat-error",7),e.qZA(),e.TgZ(92,"mat-form-field")(93,"label"),e._uU(94,"Rol"),e.qZA(),e.TgZ(95,"div",3),e._UZ(96,"input",21,5),e.qZA(),e.TgZ(98,"mat-autocomplete",22,23),e.YNc(100,oi,2,2,"mat-option",24),e.ALo(101,"async"),e.qZA(),e.TgZ(102,"mat-hint"),e._uU(103,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(104,ai,2,0,"mat-error",7),e.YNc(105,si,2,1,"mat-error",25),e.qZA()(),e.TgZ(106,"div",26)(107,"app-button-primary",27),e.NdJ("click",function(){return i.crearUsuario()}),e.qZA(),e.TgZ(108,"app-button-primary",28),e.NdJ("click",function(){return i.regresarUsuarios()}),e.qZA()()()()),2&t){const o=e.MAs(12),r=e.MAs(55),c=e.MAs(65),l=e.MAs(99);e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.cedula.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.cedula.hasError("minlength")),e.xp6(8),e.Q6J("ngIf",i.form.controls.username.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("email")),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.phone.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.phone.hasError("minlength")),e.xp6(5),e.Q6J("type",i.ocultar?"password":"text"),e.xp6(4),e.Oqu(i.ocultar?"visibility_off":"visibility"),e.xp6(2),e.hij("Minimo 8 caracteres ",c.value.length||0,"/8 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.password.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.password.hasError("minlength")),e.xp6(11),e.Q6J("ngIf",i.form.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.address.hasError("required")),e.xp6(5),e.Q6J("matAutocomplete",l),e.xp6(2),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(101,24,i.filteredOptions)),e.xp6(4),e.Q6J("ngIf",i.form.controls.rol.hasError("required")),e.xp6(1),e.Q6J("ngForOf",i.validation_msgs.contactAutocompleteControl)}},dependencies:[u.sg,u.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,f.TO,f.KE,f.bx,f.R9,w.Nt,M.Hw,I.lW,b.Ye,P.gD,O.ey,B.XC,B.ZL,x,C,u.Ov],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();function mi(n,a){1&n&&(e.TgZ(0,"div")(1,"mat-list-item"),e._uU(2,"Activo"),e.qZA()())}function pi(n,a){1&n&&(e.TgZ(0,"mat-list-item"),e._uU(1,"Inactivo"),e.qZA())}let ui=(()=>{class n{constructor(t,i,o,r){this.api=t,this.router=i,this.activerouter=o,this.staticData=r,this.usuarioget={id:0,cedula:"",names:"",surnames:"",username:"",email:"",phone:"",password:"",sex:"",address:"",rol:"",is_active:!0,created:"",modified:"",last_session:""}}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activerouter.snapshot.paramMap.get("id");this.api.getUsuarioId(Number(t)).subscribe(i=>{this.usuarioget=i})}regresarUsuarios(){this.router.navigate(["/dashboard/usuarios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q),e.Y36(d.F0),e.Y36(d.gz),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-visualizar-usuarios"]],decls:88,vars:13,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container"],[1,"datos"],[4,"ngIf","ngIfElse"],["inactivo",""],[1,"container_botones"],["title","Salir",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Visualizar datos del Usuario"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card",2)(7,"div",3)(8,"div",4)(9,"mat-label"),e._uU(10,"C\xe9dula"),e.qZA(),e._UZ(11,"br"),e.TgZ(12,"mat-list-item"),e._uU(13),e.qZA()(),e.TgZ(14,"div",4)(15,"mat-label"),e._uU(16,"Usuario"),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"mat-list-item"),e._uU(19),e.qZA()()(),e.TgZ(20,"div",3)(21,"div",4)(22,"mat-label"),e._uU(23,"Nombres"),e.qZA(),e._UZ(24,"br"),e.TgZ(25,"mat-list-item"),e._uU(26),e.qZA()(),e.TgZ(27,"div",4)(28,"mat-label"),e._uU(29,"Apellidos"),e.qZA(),e._UZ(30,"br"),e.TgZ(31,"mat-list-item"),e._uU(32),e.qZA()()(),e.TgZ(33,"div",3)(34,"div",4)(35,"mat-label"),e._uU(36,"Email"),e.qZA(),e._UZ(37,"br"),e.TgZ(38,"mat-list-item"),e._uU(39),e.qZA()(),e.TgZ(40,"div",4)(41,"mat-label"),e._uU(42,"Tel\xe9fono"),e.qZA(),e._UZ(43,"br"),e.TgZ(44,"mat-list-item"),e._uU(45),e.qZA()()(),e.TgZ(46,"div",3)(47,"div",4)(48,"mat-label"),e._uU(49,"Sexo"),e.qZA(),e._UZ(50,"br"),e.TgZ(51,"mat-list-item"),e._uU(52),e.qZA()(),e.TgZ(53,"div",4)(54,"mat-label"),e._uU(55,"Direcci\xf3n"),e.qZA(),e._UZ(56,"br"),e.TgZ(57,"mat-list-item"),e._uU(58),e.qZA()()(),e.TgZ(59,"div",3)(60,"div",4)(61,"mat-label"),e._uU(62,"Rol"),e.qZA(),e._UZ(63,"br"),e.TgZ(64,"mat-list-item"),e._uU(65),e.qZA()(),e.TgZ(66,"div",4)(67,"mat-label"),e._uU(68,"Estado"),e.qZA(),e._UZ(69,"br"),e.YNc(70,mi,3,0,"div",5),e.YNc(71,pi,2,0,"ng-template",null,6,e.W1O),e.qZA()(),e.TgZ(73,"div",3)(74,"div",4)(75,"mat-label"),e._uU(76,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(77,"br"),e.TgZ(78,"mat-list-item"),e._uU(79),e.qZA()(),e.TgZ(80,"div",4)(81,"mat-label"),e._uU(82,"\xdaltima modificaci\xf3n"),e.qZA(),e._UZ(83,"br"),e.TgZ(84,"mat-list-item"),e._uU(85),e.qZA()()(),e.TgZ(86,"div",7)(87,"app-button-primary",8),e.NdJ("click",function(){return i.regresarUsuarios()}),e.qZA()()()()()),2&t){const o=e.MAs(72);e.xp6(13),e.Oqu(i.usuarioget.cedula),e.xp6(6),e.Oqu(i.usuarioget.username),e.xp6(7),e.Oqu(i.usuarioget.names),e.xp6(6),e.Oqu(i.usuarioget.surnames),e.xp6(7),e.Oqu(i.usuarioget.email),e.xp6(6),e.Oqu(i.usuarioget.phone),e.xp6(7),e.Oqu(i.usuarioget.sex),e.xp6(6),e.Oqu(i.usuarioget.address),e.xp6(7),e.Oqu(i.usuarioget.rol),e.xp6(5),e.Q6J("ngIf",i.usuarioget.is_active)("ngIfElse",o),e.xp6(9),e.Oqu(i.usuarioget.created),e.xp6(6),e.Oqu(i.usuarioget.modified)}},dependencies:[u.O5,f.hX,b.Ye,j.Tg,Y.a8,x,C],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:20px;flex-direction:row}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 25px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.mat-list-item[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}"]}),n})();function di(n,a){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function gi(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"ID"),e.qZA())}function _i(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.id)}}function fi(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Rol"),e.qZA())}function hi(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.name)}}function bi(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Descripci\xf3n"),e.qZA())}function Ci(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.description)}}function Zi(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1," Fecha de creaci\xf3n "),e.qZA())}function vi(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.created)}}function Ti(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Estado"),e.qZA())}function yi(n,a){1&n&&(e.TgZ(0,"div")(1,"div",6),e._uU(2,"Activo"),e.qZA()())}function Ai(n,a){1&n&&(e.TgZ(0,"div")(1,"div",6),e._uU(2,"Inactivo"),e.qZA()())}function xi(n,a){if(1&n&&(e.TgZ(0,"td",31),e.YNc(1,yi,3,0,"div",32),e.YNc(2,Ai,3,0,"ng-template",null,33,e.W1O),e.qZA()),2&n){const t=a.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.is_active)("ngIfElse",i)}}function qi(n,a){1&n&&e._UZ(0,"th",34)}function wi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.permisosRol(o.id))}),e.TgZ(2,"mat-icon",37),e._uU(3,"key"),e.qZA()(),e.TgZ(4,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.editarRol(o.id))}),e.TgZ(5,"mat-icon",37),e._uU(6,"edit"),e.qZA()(),e.TgZ(7,"button",39),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw();return e.KtG(r.eliminarRol(o.id))}),e.TgZ(8,"mat-icon",6),e._uU(9,"delete"),e.qZA()()()}}function Ui(n,a){if(1&n&&(e.TgZ(0,"td",31),e.YNc(1,wi,10,0,"div",35),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",1!=t.id)}}function Oi(n,a){1&n&&e._UZ(0,"tr",40)}function Pi(n,a){1&n&&e._UZ(0,"tr",41)}function ki(n,a){if(1&n&&(e.TgZ(0,"tr",42)(1,"td",43),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(19);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const Mi=function(){return[5,10,25,100]};let Ii=(()=>{class n{constructor(t,i,o,r,c,l,p){this.api=t,this.router=i,this.dialog=o,this.snackbar=r,this.dialogService=c,this.rolSrv=l,this.staticData=p,this.Filters=[{id:"?is_active=true",name:"Roles Activos"},{id:"?is_active=false",name:"Roles Inactivos"},{id:"?ordering=-created",name:"Ultimos Roles Creados"},{id:"?ordering=created",name:"Primeros Roles Creados"}],this.filter_default="?ordering=-created",this.Titulo="Roles",this.displayedColumns=["id","name","description","created","is_active","Acciones"]}ngOnInit(){this.staticData.setMenuGeneral(),this.cargarRoles(this.filter_default)}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}cargarRoles(t){this.api.getRolesFilter(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}editarRol(t){this.router.navigate(["dashboard/roles/editar",t])}agregarRol(){this.router.navigate(["dashboard/roles/crear"])}permisosRol(t){this.router.navigate(["dashboard/roles/permisos",t])}eliminarRol(t){"1"==localStorage.getItem("rol_id")?(this.dialogService.open({title:"ELIMINAR ROL",message:"ESTA SEGURO QUE QUIERE ELIMINAR EL ROL?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(o=>{o&&this.rolSrv.deleteRol(t).subscribe(r=>{this.snackbar.mensaje("Rol Eliminado Exitosamente"),this.cargarRoles(this.filter_default)},r=>{this.dialogService.error(r.error),this.cargarRoles(this.filter_default)})})):this.snackbar.mensaje("No tienes permiso para Eliminar Roles")}filter(t){this.cargarRoles(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q),e.Y36(d.F0),e.Y36(N.uw),e.Y36(T.o),e.Y36(A),e.Y36(ne),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles"]],viewQuery:function(t,i){if(1&t&&(e.Gf(D.NW,5),e.Gf(U.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:46,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"green-primary"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","description"],["matColumnDef","created"],["matColumnDef","is_active"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-cell",""],[4,"ngIf"],["mat-icon-button","","matTooltip","Permisos",1,"color_amarillo",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.agregarRol()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon",6),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"span"),e._uU(12,"Agregar Rol"),e.qZA()()()(),e.TgZ(13,"div",7)(14,"div",8)(15,"mat-select",9),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(16,di,2,2,"mat-option",10),e.qZA()(),e.TgZ(17,"div",11)(18,"input",12,13),e.NdJ("keyup",function(r){return i.aplicarFiltro(r)}),e.qZA(),e.TgZ(20,"mat-icon",6),e._uU(21," search "),e.qZA()()(),e.TgZ(22,"div",14)(23,"table",15),e.ynx(24,16),e.YNc(25,gi,2,0,"th",17),e.YNc(26,_i,2,1,"td",18),e.BQk(),e.ynx(27,19),e.YNc(28,fi,2,0,"th",17),e.YNc(29,hi,2,1,"td",18),e.BQk(),e.ynx(30,20),e.YNc(31,bi,2,0,"th",17),e.YNc(32,Ci,2,1,"td",18),e.BQk(),e.ynx(33,21),e.YNc(34,Zi,2,0,"th",17),e.YNc(35,vi,2,1,"td",18),e.BQk(),e.ynx(36,22),e.YNc(37,Ti,2,0,"th",17),e.YNc(38,xi,4,2,"td",18),e.BQk(),e.ynx(39,23),e.YNc(40,qi,1,0,"th",24),e.YNc(41,Ui,2,1,"td",18),e.BQk(),e.YNc(42,Oi,1,0,"tr",25),e.YNc(43,Pi,1,0,"tr",26),e.YNc(44,ki,3,1,"tr",27),e.qZA(),e._UZ(45,"mat-paginator",28),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,Mi)))},dependencies:[u.sg,u.O5,w.Nt,M.Hw,I.lW,b.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,V.gM,D.NW,U.YE,U.nU,P.gD,O.ey,C],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.color_amarillo[_ngcontent-%COMP%]{color:#ffc107}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function Ni(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Di(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Si(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let Ei=(()=>{class n{constructor(t,i,o,r,c,l){this.router=t,this.fb=i,this.snackbar=o,this.dialogService=r,this.rolSrv=c,this.staticData=l,this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],is_active:["",s.kI.required]})}ngOnInit(){this.staticData.setMenuGeneral()}regresarRoles(){this.router.navigate(["/dashboard/roles"])}crearRol(){this.form.valid?(this.dialogService.open({title:"CREAR ROLES",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO ROL?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("name",this.form.get("name")?.value),o.append("description",this.form.get("description")?.value),o.append("is_active",this.form.get("is_active")?.value),o.append("rol_request",localStorage.getItem("rol_id")||""),this.rolSrv.postRoles(o).subscribe(r=>{this.snackbar.mensaje("Rol Creado Exitosamente"),this.regresarRoles()},r=>{this.dialogService.error(r.error)})}})):this.snackbar.mensaje("Llene el formulario correctamente")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(s.qu),e.Y36(T.o),e.Y36(A),e.Y36(ne),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-roles-crear"]],decls:37,vars:4,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],[1,"container_botones"],["title","Crear",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Nuevo Rol"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"form",2)(7,"mat-form-field")(8,"label"),e._uU(9,"Nombre"),e.qZA(),e.TgZ(10,"div",3),e._UZ(11,"input",4),e.qZA(),e.TgZ(12,"mat-hint"),e._uU(13,"Nombre del Rol"),e.qZA(),e.YNc(14,Ni,2,0,"mat-error",5),e.qZA(),e.TgZ(15,"mat-form-field")(16,"label"),e._uU(17,"Descripci\xf3n"),e.qZA(),e.TgZ(18,"div",3),e._UZ(19,"input",6),e.qZA(),e.TgZ(20,"mat-hint"),e._uU(21,"Descripci\xf3n del Rol"),e.qZA(),e.YNc(22,Di,2,0,"mat-error",5),e.qZA(),e.TgZ(23,"mat-form-field")(24,"label"),e._uU(25,"Estado"),e.qZA(),e.TgZ(26,"mat-select",7)(27,"mat-option",8),e._uU(28,"Activo"),e.qZA(),e.TgZ(29,"mat-option",9),e._uU(30,"Inactivo"),e.qZA()(),e.TgZ(31,"mat-hint"),e._uU(32,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(33,Si,2,0,"mat-error",5),e.qZA()(),e.TgZ(34,"div",10)(35,"app-button-primary",11),e.NdJ("click",function(){return i.crearRol()}),e.qZA(),e.TgZ(36,"app-button-primary",12),e.NdJ("click",function(){return i.regresarRoles()}),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")))},dependencies:[u.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,w.Nt,b.Ye,P.gD,O.ey,x,C],styles:[".mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:50px 15px 15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();var F=_(9808),ae=_(1172);function Yi(n,a){if(1&n&&(e.TgZ(0,"mat-option",29),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Fi(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1," N\xfamero de factura "),e.qZA())}function Ri(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.invoice_number)}}function Ji(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"C\xf3digo QR"),e.qZA())}function Qi(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.qr_code_digits)}}function ji(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Estado"),e.qZA())}function Li(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.state)}}function Gi(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Cliente"),e.qZA())}function Bi(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.client)}}function zi(n,a){1&n&&(e.TgZ(0,"th",30),e._uU(1,"Juego"),e.qZA())}function Hi(n,a){if(1&n&&(e.TgZ(0,"td",31),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.game_name)}}function Vi(n,a){1&n&&e._UZ(0,"th",32)}function $i(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",31)(1,"div")(2,"button",33),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.view(r.id))}),e.TgZ(3,"mat-icon",34),e._uU(4," remove_red_eye "),e.qZA()(),e.TgZ(5,"button",35),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.delete(r.id))}),e.TgZ(6,"mat-icon",13),e._uU(7," delete "),e.qZA()()()()}}function Wi(n,a){1&n&&e._UZ(0,"tr",36)}function Xi(n,a){1&n&&e._UZ(0,"tr",37)}function Ki(n,a){if(1&n&&(e.TgZ(0,"tr",38)(1,"td",39),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(26);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const en=function(){return[5,10,25,100]};let tn=(()=>{class n{constructor(t,i,o,r,c,l){this.router=t,this.ticketAPI=i,this.permissionsAPI=o,this.confirmDialog=r,this.snackBar=c,this.statickData=l,this.Filters=[{id:"?state=Disponible",name:"Tickets Activos"},{id:"?state=Reclamado",name:"Tickets Reclamados"},{id:"?ordering=-date_created",name:"Ultimos Tickets Creados"},{id:"?ordering=date_created",name:"Primeros Tickets Creados"}],this.filter_default="?ordering=-date_created",this.singularName="ticket",this.pluralName="tickets",this.actionName="eliminar",this.permissions=[],this.displayedColumns=["invoice_number","qr_code_digits","state","client","game","actions"]}ngOnInit(){this.loadAll(this.filter_default)}loadAll(t){this.statickData.setMenuGeneral(),this.ticketAPI.getFilter(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLocaleLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}view(t){this.router.navigate(["/dashboard/"+this.pluralName+"/vizualizar/"+t])}edit(t){this.router.navigate(["/dashboard/"+this.pluralName+"/editar/"+t])}delete(t){var i=this;return(0,Z.Z)(function*(){yield i.canDelete(),i.permissions.length>0?(i.showDeleteDialog(),i.confirmDialog.confirmed().subscribe(o=>{o&&i.ticketAPI.delete(t).subscribe(r=>{i.snackBar.mensaje(i.singularName+" eliminado exitosamente"),i.loadAll(i.filter_default)},r=>{i.confirmDialog.error(r.error)})})):i.snackBar.mensaje("No tienes permiso para Eliminar "+i.singularName)})()}showDeleteDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere eliminar el "+this.singularName+" ?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t)}canDelete(){var t=this;return(0,Z.Z)(function*(){let i=Number(localStorage.getItem("rol_id")),o=yield(0,F.n)(t.permissionsAPI.getPermisosbyName("Eliminar Ticket")),r=Number(o[0].id);const c=yield(0,F.n)(t.permissionsAPI.getPermisosbyRolandPermission(i,r));t.permissions=c})()}toCreation(){this.router.navigate(["dashboard/"+this.pluralName+"/crear"])}toList(){this.router.navigate(["dashboard/"+this.pluralName])}filter(t){this.loadAll(t)}toTicketConfiguration(){this.router.navigate(["dashboard/tickets/configuracion"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(ae.w),e.Y36(H),e.Y36(A),e.Y36(T.o),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tickets"]],viewQuery:function(t,i){if(1&t&&(e.Gf(D.NW,5),e.Gf(U.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:53,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","invoice_number"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","qr_code_digits"],["matColumnDef","state"],["matColumnDef","client"],["matColumnDef","game"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Tickets"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.toCreation()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon"),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"span"),e._uU(12),e.qZA()()(),e.TgZ(13,"button",3),e.NdJ("click",function(){return i.toTicketConfiguration()}),e.TgZ(14,"div",4)(15,"div",5)(16,"mat-icon"),e._uU(17,"confirmation_number"),e.qZA()(),e.TgZ(18,"span"),e._uU(19,"Configuraci\xf3n del Ticket"),e.qZA()()()(),e.TgZ(20,"div",6)(21,"div",7)(22,"mat-select",8),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(23,Yi,2,2,"mat-option",9),e.qZA()(),e.TgZ(24,"div",10)(25,"input",11,12),e.NdJ("keyup",function(r){return i.applyFilter(r)}),e.qZA(),e.TgZ(27,"mat-icon",13),e._uU(28," search "),e.qZA()()(),e.TgZ(29,"div",14)(30,"table",15),e.ynx(31,16),e.YNc(32,Fi,2,0,"th",17),e.YNc(33,Ri,2,1,"td",18),e.BQk(),e.ynx(34,19),e.YNc(35,Ji,2,0,"th",17),e.YNc(36,Qi,2,1,"td",18),e.BQk(),e.ynx(37,20),e.YNc(38,ji,2,0,"th",17),e.YNc(39,Li,2,1,"td",18),e.BQk(),e.ynx(40,21),e.YNc(41,Gi,2,0,"th",17),e.YNc(42,Bi,2,1,"td",18),e.BQk(),e.ynx(43,22),e.YNc(44,zi,2,0,"th",17),e.YNc(45,Hi,2,1,"td",18),e.BQk(),e.ynx(46,23),e.YNc(47,Vi,1,0,"th",24),e.YNc(48,$i,8,0,"td",18),e.BQk(),e.YNc(49,Wi,1,0,"tr",25),e.YNc(50,Xi,1,0,"tr",26),e.YNc(51,Ki,3,1,"tr",27),e.qZA(),e._UZ(52,"mat-paginator",28),e.qZA()()),2&t&&(e.xp6(12),e.hij("Agregar ",i.singularName,""),e.xp6(11),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,en)))},dependencies:[u.sg,w.Nt,M.Hw,I.lW,b.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,V.gM,D.NW,U.YE,U.nU,P.gD,O.ey,C],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:20px 7%}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})(),X=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getAll(){return this.http.get(this.url+"api/client/")}getById(t){return this.http.get(this.url+"api/client/"+t+"/")}post(t){return this.http.post(this.url+"api/client/",t)}put(t,i){return this.http.put(this.url+"api/client/"+t+"/",i)}delete(t){return this.http.delete(this.url+"api/client/"+t+"/")}getFilter(t){return this.http.get(this.url+"api/clientfilter/"+t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(g.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),re=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}postGame(t){return this.http.post(`${this.url}/game`,t)}getAll(){return this.http.get(this.url+"api/game/")}getById(t){return this.http.get(this.url+"api/game/"+t+"/")}put(t,i){return this.http.put(this.url+"api/game/"+t+"/",i)}putGame(t,i){return this.http.put(this.url+"api/game/"+t+"/",i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(g.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),he=(()=>{class n{constructor(t,i){this.http=t,this.puente=i,this.url=this.puente.geturl()}getTicketConfiguration(){return this.http.get(`${this.url}api/ticketconfiguration/1/`)}updateTicketConfiguration(t){return this.http.put(this.url+"api/ticketconfiguration/1/",t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(E.eN),e.LFG(g.Q))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var be=_(100);let Ce=(()=>{class n{constructor(t,i){this.GameSrv=t,this.QrConfigSrv=i,this.logo="",this.title="",this.description="",this.startdate="",this.enddate="",this.codigoQR="",this.QRdata=""}ngOnInit(){console.log(this.QRdata),this.GameSrv.getById(1).subscribe(t=>{this.startdate=t.start_date.split("T")[0].split("-").reverse().join("/"),this.enddate=t.end_date.split("T")[0].split("-").reverse().join("/")}),this.QrConfigSrv.getTicketConfiguration().subscribe(t=>{this.logo=t.logo,this.title=t.title,this.description=t.description})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(re),e.Y36(he))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-tickect-qr"]],inputs:{logo:"logo",title:"title",description:"description",startdate:"startdate",enddate:"enddate",codigoQR:"codigoQR",QRdata:"QRdata"},decls:15,vars:8,consts:[[1,"ticket_container"],[1,"logo_container"],["alt","logo",3,"src"],[1,"title_container"],[1,"text_default"],[1,"QR_container"],["colorDark","#000","colorLight","#fff",3,"width","qrdata"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",3)(4,"h1"),e._uU(5),e.qZA(),e.TgZ(6,"h3"),e._uU(7),e.qZA()(),e.TgZ(8,"div",4)(9,"h2"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA()(),e.TgZ(13,"div",5),e._UZ(14,"qrcode",6),e.qZA()()),2&t&&(e.xp6(2),e.s9C("src",i.logo,e.LSH),e.xp6(3),e.Oqu(i.title),e.xp6(2),e.Oqu(i.description),e.xp6(3),e.hij("C\xf3digo Qr:\xa0\xa0 ",i.codigoQR,""),e.xp6(2),e.AsE(" Promoci\xf3n v\xe1lida del ",i.startdate," al ",i.enddate," El ticket es de un solo uso y no es acumulable con otras promociones. Escanee el c\xf3digo en puntos de venta participantes. "),e.xp6(2),e.Q6J("width",200)("qrdata",i.QRdata))},dependencies:[be.V],styles:[".ticket_container[_ngcontent-%COMP%]{width:80%;height:100%;padding:15px;background:#fff;text-align:center}.logo_container[_ngcontent-%COMP%]{margin-bottom:15px;width:100%;height:75px}.logo_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.title_container[_ngcontent-%COMP%]{margin-bottom:15px;width:100%;height:50px}.text_default[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:10px}p[_ngcontent-%COMP%]{padding:15px;font-size:20px}h3[_ngcontent-%COMP%]{font-size:20px}h2[_ngcontent-%COMP%]{font-size:25px}"]}),n})();function nn(n,a){if(1&n&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.client," ")}}function on(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function an(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function rn(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,an,2,1,"div",8),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.client.hasError(t.type))}}function sn(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function cn(n,a){if(1&n&&(e.TgZ(0,"mat-option",18),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ln(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function mn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-button-primary",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.create())}),e.qZA()()}}function pn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"app-button-primary",20),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.newForm())}),e.qZA(),e.TgZ(2,"app-button-primary",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.print())}),e.qZA()()}}let dn=(()=>{class n{constructor(t,i,o,r,c,l,p,h){this.router=t,this.formBuilder=i,this.snackBar=o,this.confirmDialog=r,this.ticketAPI=c,this.ClientAPI=l,this.GameAPI=p,this.staticData=h,this.singularName="Ticket",this.pluralName="Tickets",this.actionName="Crear",this.allClients=[],this.allGames=[],this.invoiceNumber="",this.qr_code_digits="",this.clientId="",this.gameTragamonendas="1",this.Ticket_data="",this.CanPrint=!1,this.validation_msgs={contactAutocompleteControl:[{type:"invalidAutocompleteObject",message:"Seleccione una opci\xf3n del listado !!!"}]},this.formGroup=this.formBuilder.group({qr_code_digits:[""],invoice_number:["",s.kI.required],client:new s.NI("",[s.kI.required,n=>"string"==typeof n.value?{invalidAutocompleteObject:{value:n.value}}:null]),game:["",s.kI.required]}),this.ClientAPI.getAll().subscribe(y=>{this.allClients=y,0==y.length&&this.confirmDialog.error(["No hay un cliente creado"])}),this.GameAPI.getAll().subscribe(y=>{this.allGames=y,this.filteredOptions=this.formGroup.controls.client.valueChanges.pipe((0,oe.O)(""),(0,$.U)(k=>{const se="string"==typeof k?k:k?.name;return se?this._filter(se):this.allClients.slice()}))})}_filter(t){if(""===t)return this.allClients.slice();const i=t.toLowerCase();return this.allClients.filter(o=>o.client.toLowerCase().includes(i))}displayFn(t){return t&&t.client?t.client:void 0}toList(){this.router.navigate(["dashboard/tickets"])}create(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el nuevo "+this.singularName+"?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){console.log(this.formGroup.value),this.confirmDialog.confirmed().subscribe(t=>{if(t){this.generateQRCode();let i=this.fillForm();this.ticketAPI.post(i).subscribe({next:o=>{this.formGroup.get("client")?.disable(),this.formGroup.get("invoice_number")?.disable(),this.formGroup.get("game")?.disable(),this.snackBar.mensaje(this.singularName+" Creado Exitosamente"),this.CanPrint=!0},error:o=>{this.confirmDialog.error(o.error),this.Ticket_data="Ticket de Prueba",this.qr_code_digits=""}})}})}fillForm(){let t=localStorage.getItem("user_id"),i=new FormData;return i.append("invoice_number",this.formGroup.get("invoice_number")?.value),i.append("client",this.formGroup.get("client")?.value.id),i.append("game",this.formGroup.get("game")?.value),i.append("user_register",t),i.append("qr_code_digits",this.qr_code_digits),console.log(i),i}ngOnInit(){this.staticData.setMenuGeneral()}generateQRCode(){if(""!=this.qr_code_digits)return;this.invoiceNumber=this.formGroup.get("invoice_number")?.value,this.clientId=this.formGroup.get("client")?.value.id;let i=[];do{this.qr_code_digits=(Math.floor(9e8*Math.random())+1e8).toString(10),this.ticketAPI.getFilter("?state=Disponible&qr_code_digits="+this.qr_code_digits).subscribe({next:r=>{i=r}})}while(i.length>0);this.Ticket_data=this.gameTragamonendas+"|"+this.invoiceNumber+"|"+this.clientId+"|"+this.qr_code_digits}newForm(){window.location.reload()}print(){alert("imprimiendo")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(s.qu),e.Y36(T.o),e.Y36(A),e.Y36(ae.w),e.Y36(X),e.Y36(re),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-ticket"]],decls:43,vars:16,consts:[[1,"FormContainer"],[1,"container"],[3,"formGroup"],[1,"input_form"],["type","text","matInput","","formControlName","client",3,"matAutocomplete"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["matInput","","autocomplete","off","formControlName","invoice_number","type","text","required","","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],["formControlName","game","mat-select",""],[1,"container_botones"],["backgroundColor","#fff","title","Cancelar",3,"click"],[1,"QR_container"],[3,"codigoQR","QRdata"],[3,"value"],["title","Crear",3,"click"],["title","Nuevo",3,"click"],["title","Imprimir",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Nuevo Ticket"),e.qZA()(),e.TgZ(4,"div",0)(5,"div",1)(6,"form",2)(7,"mat-form-field")(8,"label"),e._uU(9,"Cliente"),e.qZA(),e.TgZ(10,"div",3),e._UZ(11,"input",4),e.qZA(),e.TgZ(12,"mat-autocomplete",5,6),e.YNc(14,nn,2,2,"mat-option",7),e.ALo(15,"async"),e.qZA(),e.TgZ(16,"mat-hint"),e._uU(17,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(18,on,2,0,"mat-error",8),e.YNc(19,rn,2,1,"mat-error",9),e.qZA(),e.TgZ(20,"mat-form-field")(21,"label"),e._uU(22,"N\xfamero de Factura"),e.qZA(),e.TgZ(23,"div",3),e._UZ(24,"input",10,11),e.qZA(),e.TgZ(26,"mat-hint",12),e._uU(27),e.qZA(),e.YNc(28,sn,2,0,"mat-error",8),e.qZA(),e.TgZ(29,"mat-form-field")(30,"label"),e._uU(31,"Juego"),e.qZA(),e.TgZ(32,"mat-select",13),e.YNc(33,cn,2,2,"mat-option",7),e.qZA(),e.TgZ(34,"mat-hint"),e._uU(35,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(36,ln,2,0,"mat-error",8),e.qZA()(),e.TgZ(37,"div",14),e.YNc(38,mn,2,0,"div",8),e.YNc(39,pn,3,0,"div",8),e.TgZ(40,"app-button-primary",15),e.NdJ("click",function(){return i.toList()}),e.qZA()()(),e.TgZ(41,"div",16),e._UZ(42,"app-tickect-qr",17),e.qZA()()()),2&t){const o=e.MAs(13),r=e.MAs(25);e.xp6(6),e.Q6J("formGroup",i.formGroup),e.xp6(5),e.Q6J("matAutocomplete",o),e.xp6(1),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(15,14,i.filteredOptions)),e.xp6(4),e.Q6J("ngIf",i.formGroup.controls.client.hasError("required")),e.xp6(1),e.Q6J("ngForOf",i.validation_msgs.contactAutocompleteControl),e.xp6(8),e.hij(" ",r.value.length||0," "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.invoice_number.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.allGames),e.xp6(3),e.Q6J("ngIf",i.formGroup.controls.game.hasError("required")),e.xp6(2),e.Q6J("ngIf",0==i.CanPrint),e.xp6(1),e.Q6J("ngIf",1==i.CanPrint),e.xp6(3),e.Q6J("codigoQR",i.qr_code_digits)("QRdata",i.Ticket_data)}},dependencies:[u.sg,u.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,f.TO,f.KE,f.bx,w.Nt,b.Ye,P.gD,O.ey,B.XC,B.ZL,x,Ce,C,u.Ov],styles:[".FormContainer[_ngcontent-%COMP%]{display:flex;flex-direction:row}mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-top:20px;justify-content:center;align-items:center;width:60%}.QR_container[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;width:40%}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();function gn(n,a){if(1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.ticket.date_ticket_played)}}function _n(n,a){1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1,"A\xfan el ticket no ha sido canjeado"),e.qZA())}let fn=(()=>{class n{constructor(t,i,o,r){this.router=t,this.activedRoute=i,this.ticketAPI=o,this.staticData=r,this.singularName="ticket",this.pluralName="tickets",this.actionName="visualizar",this.samedate=!1,this.QRdata="",this.ticket={id:"",invoice_number:"",date_created:"",date_ticket_played:"",qr_code_digits:"",state:"",client:"",game_id:"",game_name:"",user_register:"",client_cedula:"",client_id:""}}toList(){this.router.navigate(["dashboard/"+this.pluralName])}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activedRoute.snapshot.paramMap.get("id");this.ticketAPI.getById(Number(t)).subscribe(i=>{this.ticket=i,this.QRdata=i.game_id+"|"+i.invoice_number+"|"+i.client_id+"|"+i.qr_code_digits,this.ticket.date_created==this.ticket.date_ticket_played&&(this.samedate=!0)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(d.gz),e.Y36(ae.w),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-ticket"]],decls:66,vars:11,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[1,"container"],[1,"datos"],["role","listitem"],[4,"ngIf","ngIfElse"],["inactivo",""],[1,"container_img"],["colorDark","#fff","colorLight","#000",3,"width","qrdata"],[1,"container_botones"],["title","Salir",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Visualizar ticket"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card",2)(7,"div",3)(8,"div")(9,"div",4)(10,"div",5)(11,"mat-label"),e._uU(12,"Cedula"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"mat-list-item",6),e._uU(15),e.qZA()(),e.TgZ(16,"div",5)(17,"mat-label"),e._uU(18,"Cliente"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"mat-list-item",6),e._uU(21),e.qZA()()(),e.TgZ(22,"div",4)(23,"div",5)(24,"mat-label"),e._uU(25,"Juego Seleccionado"),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"mat-list-item",6),e._uU(28),e.qZA()(),e.TgZ(29,"div",5)(30,"mat-label"),e._uU(31,"C\xf3digo del Ticket"),e.qZA(),e._UZ(32,"br"),e.TgZ(33,"mat-list-item",6),e._uU(34),e.qZA()()(),e.TgZ(35,"div",4)(36,"div",5)(37,"mat-label"),e._uU(38,"Fecha de Emisi\xf3n del Ticket"),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"mat-list-item",6),e._uU(41),e.qZA()(),e.TgZ(42,"div",5)(43,"mat-label"),e._uU(44,"Fecha de Canjeo del Ticket"),e.qZA(),e._UZ(45,"br"),e.YNc(46,gn,3,1,"div",7),e.YNc(47,_n,2,0,"ng-template",null,8,e.W1O),e.qZA()(),e.TgZ(49,"div",4)(50,"div",5)(51,"mat-label"),e._uU(52,"N\xfamero de Factura"),e.qZA(),e._UZ(53,"br"),e.TgZ(54,"mat-list-item",6),e._uU(55),e.qZA()(),e.TgZ(56,"div",5)(57,"mat-label"),e._uU(58,"Personal que lo antendi\xf3"),e.qZA(),e._UZ(59,"br"),e.TgZ(60,"mat-list-item",6),e._uU(61),e.qZA()()()(),e.TgZ(62,"div",9),e._UZ(63,"qrcode",10),e.qZA()(),e.TgZ(64,"div",11)(65,"app-button-primary",12),e.NdJ("click",function(){return i.toList()}),e.qZA()()()()()),2&t){const o=e.MAs(48);e.xp6(15),e.Oqu(i.ticket.client_cedula),e.xp6(6),e.Oqu(i.ticket.client),e.xp6(7),e.Oqu(i.ticket.game_name),e.xp6(6),e.Oqu(i.ticket.qr_code_digits),e.xp6(7),e.Oqu(i.ticket.date_created),e.xp6(5),e.Q6J("ngIf",0==i.samedate)("ngIfElse",o),e.xp6(9),e.Oqu(i.ticket.invoice_number),e.xp6(6),e.Oqu(i.ticket.user_register),e.xp6(2),e.Q6J("width",350)("qrdata",i.QRdata)}},dependencies:[u.O5,f.hX,b.Ye,j.Tg,Y.a8,be.V,x,C],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:20px}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background-color:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.container_img[_ngcontent-%COMP%]{width:500px;height:350px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.mat-list-item[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}"]}),n})();function hn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"figure",4),e._UZ(2,"img",5),e.qZA(),e.TgZ(3,"div",6)(4,"h3",7),e._uU(5),e.qZA()(),e.TgZ(6,"div",8)(7,"h3",9),e._uU(8,"Cantidad de jugadores hasta el momento: 0"),e.qZA()(),e.TgZ(9,"div",10),e._UZ(10,"app-button-primary",11),e.qZA(),e.TgZ(11,"div",8)(12,"p",12),e._uU(13," Gira las casillas para ganar el premio. "),e.qZA()(),e.TgZ(14,"div",13)(15,"app-button-primary",14),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.tragamonedas_settings(r.id))}),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(5),e.Oqu(t.name)}}let bn=(()=>{class n{constructor(t,i,o,r){this.GameAPI=t,this.staticData=i,this.router=o,this.snackbar=r,this.singularName="Juego",this.pluralName="Juegos",this.actionName="Seleccionar",this.allGames=[],this.GameAPI.getAll().subscribe(c=>{this.allGames=c})}ngOnInit(){this.staticData.setMenuGeneral()}tragamonedas_settings(){this.router.navigate(["/dashboard/juego/resumen"])}toogleActiveGame(t){let r;r="Activado"==this.allGames.filter(l=>l.id==String(t))[0].state?"Desactivado":"Activado";let c={id:String(t),modification_date:(new Date).toISOString(),state:r,is_active:"true"};this.GameAPI.putGame(t,c).subscribe(l=>{console.log(l)}),this.snackbar.mensaje("Se a actualizado el estado del juego")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(re),e.Y36(g.Q),e.Y36(d.F0),e.Y36(T.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-selection"]],decls:6,vars:1,consts:[[1,"background-navy-primary","green-primary"],[1,"container","p-5","container_juego"],["class","container container-juego background-navy-primary green-primary text-center pt-4 pb-1",4,"ngFor","ngForOf"],[1,"container","container-juego","background-navy-primary","green-primary","text-center","pt-4","pb-1"],[1,"logo-game-container","background-green-primary"],["src","../../../../assets/img/maquinaJuegoAdmin.png","alt","no image"],[1,"row","mt-5"],[1,"col"],[1,"row"],[1,"color-white","jugadores-text"],[1,"row","mb-4"],["title","Activado",1,"col"],[1,"col","color-white"],[1,"row","mb-2"],["title","Continuar","backgroundColor","#fff",1,"col",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Seleccionar Juego"),e.qZA()(),e.TgZ(4,"div",1),e.YNc(5,hn,16,1,"div",2),e.qZA()()),2&t&&(e.xp6(5),e.Q6J("ngForOf",i.allGames))},dependencies:[u.sg,b.Ye,x,C],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%}.container_juego[_ngcontent-%COMP%]{margin-top:5%}.container-juego[_ngcontent-%COMP%]{position:relative;max-width:26rem;border-radius:15px}.jugadores-text[_ngcontent-%COMP%]{margin-right:6rem}.logo-game-container[_ngcontent-%COMP%]{position:absolute;top:-53px;border-radius:50%;width:7rem;height:7rem;left:calc(50% - 56px);display:flex;justify-content:center;align-items:center}.logo-game-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:66px;height:60px;margin-left:7px}"]}),n})(),Cn=(()=>{class n{constructor(t,i,o,r,c,l){this.publicity=t,this.dashboardPublicityService=i,this.router=o,this.snackbar=r,this.dialogService=c,this.statickData=l}ngOnInit(){this.statickData.setMenuTragamonedas(),this.publicity.getPublicityTopList().subscribe(t=>{t.length>0&&(this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.U),e.Y36(J.E),e.Y36(d.F0),e.Y36(T.o),e.Y36(A),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-publicity"]],decls:18,vars:8,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","green-primary"],["title","Editar Publicidad Superior","styledPadding",".5rem .2rem","routerLink","/dashboard/juego/publicidad/top"],["routerLink","/dashboard/juego/publicidad/bottom","title","Editar Publicidad Inferior","styledPadding",".5rem .2rem"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Publicidad"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"p",4),e._uU(8,"Publicidad Superior:"),e.qZA(),e._UZ(9,"app-button-primary",5),e.TgZ(10,"p",4),e._uU(11,"Publicidad Inferior:"),e.qZA(),e._UZ(12,"app-button-primary",6),e.qZA(),e.TgZ(13,"div",7)(14,"div",8),e._UZ(15,"app-banner-publicity",9)(16,"div",10)(17,"app-banner-publicity",9),e.qZA()()()()),2&t&&(e.xp6(9),e.Udp("margin-left","1rem"),e.xp6(3),e.Udp("margin-left","1rem"),e.xp6(3),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[b.Ye,d.rH,x,C,W],styles:[".view-container[_ngcontent-%COMP%]{position:relative;border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.view-menu[_ngcontent-%COMP%]{background-color:gray;height:20rem}"]}),n})();const Zn=["takeInput"];let Ze=(()=>{class n{constructor(t,i,o){this.imageSrv=t,this.snackbar=i,this.dashboardPublicity=o,this.img_upload="assets/img/upload.png",this.previsulizacion=this.img_upload,this.title="",this.isTop=!0,this.cambioPrevisualizacion=new e.vpe,this.isGamePublicity=!1}ngOnInit(){}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base,this.isTop?(this.dashboardPublicity.setPreviewTopImage(this.previsulizacion),this.dashboardPublicity.setTopImageFileToUpload(this.fileToUpload)):(this.dashboardPublicity.setPreviewBottomImage(this.previsulizacion),this.dashboardPublicity.setBottomImageFileToUpload(this.fileToUpload))})):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(R),e.Y36(T.o),e.Y36(J.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-publicity"]],viewQuery:function(t,i){if(1&t&&e.Gf(Zn,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},inputs:{title:"title",isTop:"isTop",isGamePublicity:"isGamePublicity"},outputs:{cambioPrevisualizacion:"cambioPrevisualizacion"},decls:9,vars:1,consts:[[1,"color-white","publicity-container"],[1,"publicity__title","green-primary"],[1,"publicity-info__container"],[1,""],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"p",3),e._uU(5,"Imagen"),e.qZA(),e.TgZ(6,"div",4)(7,"input",5,6),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()()()()),2&t&&(e.xp6(2),e.Oqu(i.title))},styles:['.publicity-info__container[_ngcontent-%COMP%]{padding:0 .5rem}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png, jpg, jpeg)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}']}),n})(),ve=(()=>{class n{constructor(t,i,o,r){this.publicity=t,this.dialog=i,this.snackBar=o,this.dashPublicity=r,this.imageUrl="",this.id=0,this.isTop=!0}ngOnInit(){}delete(){0==this.id?console.log("error"):(this.dialog.open({title:"ELIMINAR PUBLICIDAD",message:"\xbfEST\xc1 SEGURO QUE QUIERE ELIMINAR ESTA PUBLICIDAD?",cancelText:"CANCELAR",confirmText:"ELIMINAR"}),this.dialog.confirmed().subscribe(i=>{i&&(this.isTop?this.publicity.deleteTopPublicity(this.id).subscribe(o=>{this.chargeTopPublicity()}):this.publicity.deleteBottomPublicity(this.id).subscribe(o=>{this.chargeBottomPublicity()}),this.snackBar.mensaje("Publicidad Eliminada exitosamente"))}))}chargeTopPublicity(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashPublicity.loadTopData(t)})}chargeBottomPublicity(){this.publicity.getPublicityBottomList().subscribe(t=>{this.dashPublicity.loadBottomData(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(L.U),e.Y36(A),e.Y36(T.o),e.Y36(J.E))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-box-publicity"]],inputs:{imageUrl:"imageUrl",id:"id",isTop:"isTop"},decls:4,vars:1,consts:[[1,"box-container"],[1,"image-container"],["alt","",3,"src"],["title","Eliminar","backgroundColor","#red",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"figure",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"app-button-primary",3),e.NdJ("click",function(){return i.delete()}),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("src",i.imageUrl,e.LSH))},dependencies:[x],styles:[".box-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:1.5rem;align-items:center;border:1px solid #00ffc5;padding:1rem 1rem .5rem}.image-container[_ngcontent-%COMP%]{width:13rem;height:5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),n})();function vn(n,a){if(1&n&&e._UZ(0,"img",20),2&n){const t=e.oxw();e.Q6J("src",t.dashPublicity.previewTopImage,e.LSH)}}function Tn(n,a){if(1&n&&e._UZ(0,"app-box-publicity",21),2&n){const t=a.$implicit;e.Q6J("imageUrl",t.image)("id",t.id)}}let yn=(()=>{class n{constructor(t,i,o,r,c,l,p){this.dashPublicity=t,this.publicity=i,this.router=o,this.fb=r,this.dialog=c,this.snackBar=l,this.staticData=p,this.transitionTime=0,this.form=this.fb.group({transition:["",[s.kI.required]]})}ngOnInit(){this.staticData.setMenuTragamonedas(),this.chargePublicity()}regresar(){this.router.navigate(["/dashboard/juego/publicidad"])}guardarPublicidad(){const t={title:"AGREGAR PUBLICIDAD AL JUEGO",message:"\xbfEST\xc1 SEGURO QUE QUIERE AGREGAR PUBLICIDAD SUPERIOR AL JUEGO?",cancelText:"CANCELAR",confirmText:"GUARDAR"};this.dashPublicity.getTopImageFileToUpload()||this.form.valid?this.dashPublicity.getTopImageFileToUpload()&&this.form.valid?(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData,r=new FormData;o.append("image",this.dashPublicity.getTopImageFileToUpload(),this.dashPublicity.getTopImageFileToUpload().name),r.append("time_display",this.form.get("transition")?.value),this.publicity.postTopPublicity(o).subscribe(c=>{this.publicity.updatePublicityConfigTop(1,r).subscribe(l=>{this.chargePublicity(),this.cleanData()})}),this.snackBar.mensaje("Publicidad Superior Agregada exitosamente")}})):this.dashPublicity.getTopImageFileToUpload()?(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("image",this.dashPublicity.getTopImageFileToUpload(),this.dashPublicity.getTopImageFileToUpload().name),this.publicity.postTopPublicity(o).subscribe(r=>{this.chargePublicity()}),this.cleanData(),this.snackBar.mensaje("Publicidad Superior Agregada exitosamente")}})):this.form.valid&&(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("time_display",this.form.get("transition")?.value),this.publicity.updatePublicityConfigTop(1,o).subscribe(r=>{this.cleanData(),this.chargePublicity()}),this.snackBar.mensaje("Configuracion Publicidad Superior Agregada exitosamente")}})):this.snackBar.mensaje("Agregue cambios antes de guardar")}cleanData(){this.dashPublicity.setPreviewTopImage(""),this.dashPublicity.setTopImageFileToUpload(null),this.form.controls.transition.setValue("")}chargePublicity(){this.publicity.getPublicityTopList().subscribe(t=>{this.dashPublicity.loadTopData(t),this.publicity.getPublicityConfigTop().subscribe(i=>{this.transitionTime=i.time_display})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(L.U),e.Y36(d.F0),e.Y36(s.qu),e.Y36(A),e.Y36(T.o),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-top-publicity"]],decls:30,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"container"],[1,"container-publicity"],[1,"container-add-publicity"],[1,"publicity__title","green-primary"],[3,"isTop"],[1,"preview-container"],["alt","",3,"src",4,"ngIf"],[1,"container-dimensions"],[1,"dimensions-instructions","color-white"],["action","",1,"container-transition",3,"formGroup"],["autocomplete","off","onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","type","number","id","transition-seconds","formControlName","transition",1,"input-global"],[1,"color-white","mt-2"],[1,"container-buttons"],["title","Regresar","backgroundColor","#fff",3,"click"],["title","Guardar",3,"click"],[1,"images-sections"],[1,"images-container"],[3,"imageUrl","id",4,"ngFor","ngForOf"],["alt","",3,"src"],[3,"imageUrl","id"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Publicidad Superior"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"p",5),e._uU(9,"Agregar Publicidad"),e.qZA(),e._UZ(10,"app-add-publicity",6),e.qZA(),e.TgZ(11,"figure",7),e.YNc(12,vn,1,1,"img",8),e.qZA()(),e.TgZ(13,"div",9)(14,"p",10),e._uU(15," Agregar im\xe1genes en formato jpg "),e.qZA()(),e.TgZ(16,"form",11)(17,"p",5),e._uU(18,"Segundos de transici\xf3n"),e.qZA(),e._UZ(19,"input",12),e.TgZ(20,"p",13),e._uU(21),e.qZA()(),e.TgZ(22,"div",14)(23,"app-button-primary",15),e.NdJ("click",function(){return i.regresar()}),e.qZA(),e.TgZ(24,"app-button-primary",16),e.NdJ("click",function(){return i.guardarPublicidad()}),e.qZA()(),e.TgZ(25,"div",17)(26,"p",5),e._uU(27,"Im\xe1genes"),e.qZA(),e.TgZ(28,"div",18),e.YNc(29,Tn,1,2,"app-box-publicity",19),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("isTop",!0),e.xp6(2),e.Q6J("ngIf",""!=i.dashPublicity.previewTopImage),e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(3),e.Udp("margin-left",".5rem"),e.xp6(2),e.hij(" Configuraci\xf3n actual de transici\xf3n: ",i.transitionTime," "),e.xp6(8),e.Q6J("ngForOf",i.dashPublicity.getTopPublicityList()))},dependencies:[u.sg,u.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,b.Ye,x,C,Ze,ve],styles:[".container-publicity[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:1.5rem}.container-add-publicity[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.preview-container[_ngcontent-%COMP%]{margin-left:150px;width:9rem;height:5rem}img[_ngcontent-%COMP%]{width:350%;height:350%}.container-transition[_ngcontent-%COMP%]{margin-top:1.5rem}.container-dimensions[_ngcontent-%COMP%]{margin-top:1rem;display:flex}.dimensions-instructions[_ngcontent-%COMP%]{display:flex;width:50%;flex-wrap:wrap}.container-buttons[_ngcontent-%COMP%]{width:98%;display:flex;justify-content:space-between}.images-container[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.images-sections[_ngcontent-%COMP%]{margin-top:15px}.images-sections[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}"]}),n})();function An(n,a){if(1&n&&e._UZ(0,"img",20),2&n){const t=e.oxw();e.Q6J("src",t.dashPublicity.previewBottomImage,e.LSH)}}function xn(n,a){if(1&n&&e._UZ(0,"app-box-publicity",21),2&n){const t=a.$implicit;e.Q6J("imageUrl",t.image)("id",t.id)("isTop",!1)}}let qn=(()=>{class n{constructor(t,i,o,r,c,l,p){this.dashPublicity=t,this.publicity=i,this.router=o,this.fb=r,this.dialog=c,this.snackBar=l,this.staticData=p,this.transitionTime=0,this.form=this.fb.group({transition:["",s.kI.required]})}ngOnInit(){this.staticData.setMenuTragamonedas(),this.chargePublicity()}regresar(){this.router.navigate(["/dashboard/juego/publicidad"])}guardarPublicidad(){const t={title:"AGREGAR PUBLICIDAD INFERIOR JUEGO",message:"\xbfEST\xc1 SEGURO QUE QUIERE AGREGAR PUBLICIDAD INFERIOR?",cancelText:"CANCELAR",confirmText:"CREAR"};this.dashPublicity.getBottomImageFileToUpload()||this.form.valid?this.dashPublicity.getBottomImageFileToUpload()&&this.form.valid?(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData,r=new FormData;o.append("image",this.dashPublicity.getBottomImageFileToUpload(),this.dashPublicity.getBottomImageFileToUpload().name),r.append("time_display",this.form.get("transition")?.value),this.publicity.postBottomPublicity(o).subscribe(c=>{this.publicity.updatePublicityConfigBottom(r).subscribe(l=>{this.chargePublicity(),this.cleanData()})}),this.snackBar.mensaje("Publicidad Inferior Agregada exitosamente")}})):this.dashPublicity.getBottomImageFileToUpload()?(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("image",this.dashPublicity.getBottomImageFileToUpload(),this.dashPublicity.getBottomImageFileToUpload().name),this.publicity.postBottomPublicity(o).subscribe(r=>{this.chargePublicity()}),this.cleanData(),this.snackBar.mensaje("Publicidad Inferior Agregada exitosamente")}})):this.form.valid&&(this.dialog.open(t),this.dialog.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("time_display",this.form.get("transition")?.value),this.publicity.updatePublicityConfigBottom(o).subscribe(r=>{this.cleanData(),this.chargePublicity()}),this.snackBar.mensaje("Configuracion Publicidad Inferior Actualizada exitosamente")}})):this.snackBar.mensaje("Agregue cambios antes de guardar")}cleanData(){this.dashPublicity.setPreviewBottomImage(""),this.dashPublicity.setBottomImageFileToUpload(null),this.form.controls.transition.setValue("")}chargePublicity(){this.publicity.getPublicityBottomList().subscribe(t=>{this.dashPublicity.loadBottomData(t),this.publicity.getPublicityConfigTop().subscribe(i=>{this.transitionTime=i.time_display})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(L.U),e.Y36(d.F0),e.Y36(s.qu),e.Y36(A),e.Y36(T.o),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-bottom-publicity"]],decls:30,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"container"],[1,"container-publicity"],[1,"container-add-publicity"],[1,"publicity__title","green-primary"],[3,"isTop"],[1,"preview-container"],["alt","",3,"src",4,"ngIf"],[1,"container-dimensions"],[1,"dimensions-instructions","color-white"],["action","",1,"container-transition",3,"formGroup"],["autocomplete","off","onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","type","number","id","transition-seconds","formControlName","transition",1,"input-global"],[1,"color-white","mt-2"],[1,"container-buttons"],["title","Regresar","backgroundColor","#fff",3,"click"],["title","Guardar",3,"click"],[1,"images-sections"],[1,"images-container"],[3,"imageUrl","id","isTop",4,"ngFor","ngForOf"],["alt","",3,"src"],[3,"imageUrl","id","isTop"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Publicidad Inferior"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"p",5),e._uU(9,"Agregar Publicidad"),e.qZA(),e._UZ(10,"app-add-publicity",6),e.qZA(),e.TgZ(11,"figure",7),e.YNc(12,An,1,1,"img",8),e.qZA()(),e.TgZ(13,"div",9)(14,"p",10),e._uU(15," Agregar im\xe1genes en formato jpg "),e.qZA()(),e.TgZ(16,"form",11)(17,"p",5),e._uU(18,"Segundos de transici\xf3n"),e.qZA(),e._UZ(19,"input",12),e.TgZ(20,"p",13),e._uU(21),e.qZA()(),e.TgZ(22,"div",14)(23,"app-button-primary",15),e.NdJ("click",function(){return i.regresar()}),e.qZA(),e.TgZ(24,"app-button-primary",16),e.NdJ("click",function(){return i.guardarPublicidad()}),e.qZA()(),e.TgZ(25,"div",17)(26,"p",5),e._uU(27,"Im\xe1genes"),e.qZA(),e.TgZ(28,"div",18),e.YNc(29,xn,1,3,"app-box-publicity",19),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("isTop",!1),e.xp6(2),e.Q6J("ngIf",""!=i.dashPublicity.previewBottomImage),e.xp6(4),e.Q6J("formGroup",i.form),e.xp6(3),e.Udp("margin-left",".5rem"),e.xp6(2),e.hij(" Configuraci\xf3n actual de transici\xf3n: ",i.transitionTime," "),e.xp6(8),e.Q6J("ngForOf",i.dashPublicity.getBottomPublicityList()))},dependencies:[u.sg,u.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,b.Ye,x,C,Ze,ve],styles:[".container-publicity[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:1.5rem}.container-add-publicity[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.preview-container[_ngcontent-%COMP%]{margin-left:150px;width:9rem;height:5rem}img[_ngcontent-%COMP%]{width:350%;height:350%}.container-transition[_ngcontent-%COMP%]{margin-top:1.5rem}.container-dimensions[_ngcontent-%COMP%]{margin-top:1rem;display:flex}.dimensions-instructions[_ngcontent-%COMP%]{display:flex;width:50%;flex-wrap:wrap}.container-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between}.images-container[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.images-sections[_ngcontent-%COMP%]{margin-top:15px}.images-sections[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}"]}),n})();function wn(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Un(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function On(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(22);e.xp6(1),e.hij(" La longitud m\xednima es de 8 caracteres, actualmente tiene ",t.value.length||0,"/8 ")}}function Pn(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function kn(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(35);e.xp6(1),e.hij(" La longitud m\xednima es de 8 caracteres, actualmente tiene ",t.value.length||0,"/8 ")}}let Mn=(()=>{class n{constructor(t,i,o,r,c,l,p){this.api=t,this.router=i,this.fb=o,this.dialog=r,this.snackBar=c,this.dialogService=l,this.StaticData=p,this.ocultar=!0,this.ocultar2=!0,this.ocultar3=!0,this.mensaje_error_lista=[],this.form=this.fb.group({old_password:["",s.kI.required],new_password:new s.NI("",[s.kI.required,s.kI.minLength(8)]),confirm_password:new s.NI("",[s.kI.required,s.kI.minLength(8)])})}ngOnInit(){this.StaticData.setMenuGeneral()}regresarInicio(){this.router.navigate(["/dashboard/juego/seleccion"])}mensajes_errores(t){this.dialog.open(fe.o,{width:"50%",data:t})}cambiarContrasenia(){if(this.form.valid){let t=Number(localStorage.getItem("user_id")),i=new FormData;i.append("old_password",this.form.get("old_password")?.value),i.append("new_password",this.form.get("new_password")?.value),i.append("confirm_password",this.form.get("confirm_password")?.value),this.dialogService.open({title:"CAMBIAR CONTRASE\xd1A",message:"ESTA SEGURO QUE QUIERE CAMBIAR SU CONTRASE\xd1A?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),this.dialogService.confirmed().subscribe(r=>{this.api.postCambiarContrase\u00f1a(t,i).subscribe(c=>{this.snackBar.mensaje("Contrase\xf1a cambiada correctamente"),this.router.navigate(["/dashboard"])},c=>{for(let l in c.error)this.mensaje_error_lista.push(c.error[l]);this.mensajes_errores(this.mensaje_error_lista),this.mensaje_error_lista=[]})})}else this.snackBar.mensaje("Por favor, complete todos los campos")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Q),e.Y36(d.F0),e.Y36(s.qu),e.Y36(N.uw),e.Y36(T.o),e.Y36(A),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-cambiar-contrasenia"]],decls:46,vars:14,consts:[[1,"example-spacer"],[1,"container"],[3,"formGroup"],[1,"ancho"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","old_password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[4,"ngIf"],["matInput","","minlength","8","autocomplete","off","formControlName","new_password",3,"type"],["input_new",""],["align","end"],["matInput","","minlength","8","autocomplete","off","formControlName","confirm_password",3,"type"],["input_new_confirm",""],[1,"container_botones"],["title","Guardar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Cambiar Contrase\xf1a"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card")(7,"form",2)(8,"mat-form-field",3)(9,"label"),e._uU(10,"Contase\xf1a Actual"),e.qZA(),e.TgZ(11,"div",4),e._UZ(12,"input",5),e.TgZ(13,"button",6),e.NdJ("click",function(){return i.ocultar=!i.ocultar}),e.TgZ(14,"mat-icon"),e._uU(15),e.qZA()()(),e.YNc(16,wn,2,0,"mat-error",7),e.qZA(),e.TgZ(17,"mat-form-field",3)(18,"label"),e._uU(19,"Nueva Contase\xf1a"),e.qZA(),e.TgZ(20,"div",4),e._UZ(21,"input",8,9),e.TgZ(23,"button",6),e.NdJ("click",function(){return i.ocultar2=!i.ocultar2}),e.TgZ(24,"mat-icon"),e._uU(25),e.qZA()()(),e.TgZ(26,"mat-hint",10),e._uU(27),e.qZA(),e.YNc(28,Un,2,0,"mat-error",7),e.YNc(29,On,2,1,"mat-error",7),e.qZA(),e.TgZ(30,"mat-form-field",3)(31,"label"),e._uU(32,"Confirmar Nueva Contase\xf1a"),e.qZA(),e.TgZ(33,"div",4),e._UZ(34,"input",11,12),e.TgZ(36,"button",6),e.NdJ("click",function(){return i.ocultar3=!i.ocultar3}),e.TgZ(37,"mat-icon"),e._uU(38),e.qZA()()(),e.TgZ(39,"mat-hint",10),e._uU(40),e.qZA(),e.YNc(41,Pn,2,0,"mat-error",7),e.YNc(42,kn,2,1,"mat-error",7),e.qZA()(),e.TgZ(43,"div",13)(44,"app-button-primary",14),e.NdJ("click",function(){return i.cambiarContrasenia()}),e.qZA(),e.TgZ(45,"app-button-primary",15),e.NdJ("click",function(){return i.regresarInicio()}),e.qZA()()()()()),2&t){const o=e.MAs(22),r=e.MAs(35);e.xp6(7),e.Q6J("formGroup",i.form),e.xp6(5),e.Q6J("type",i.ocultar?"password":"text"),e.xp6(3),e.Oqu(i.ocultar?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",i.form.controls.old_password.hasError("required")),e.xp6(5),e.Q6J("type",i.ocultar2?"password":"text"),e.xp6(4),e.Oqu(i.ocultar2?"visibility_off":"visibility"),e.xp6(2),e.hij(" M\xednimo 8 caracteres ",o.value.length||0,"/8 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.new_password.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.new_password.hasError("minlength")),e.xp6(5),e.Q6J("type",i.ocultar3?"password":"text"),e.xp6(4),e.Oqu(i.ocultar3?"visibility_off":"visibility"),e.xp6(2),e.hij(" M\xednimo 8 caracteres ",r.value.length||0,"/8 "),e.xp6(1),e.Q6J("ngIf",i.form.controls.confirm_password.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.form.controls.confirm_password.hasError("minlength"))}},dependencies:[u.O5,s._Y,s.Fj,s.JJ,s.JL,s.wO,s.sg,s.u,f.TO,f.KE,f.bx,f.R9,w.Nt,M.Hw,I.lW,b.Ye,Y.a8,x,C],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}mat-card[_ngcontent-%COMP%]{background-color:var(--color-fondo-principal)}"]}),n})();function In(n,a){if(1&n&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Nn(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"C\xe9dula"),e.qZA())}function Dn(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.id)}}function Sn(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"C\xe9dula"),e.qZA())}function En(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.cedula)}}function Yn(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Nombres"),e.qZA())}function Fn(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.names)}}function Rn(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Apellidos"),e.qZA())}function Jn(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.surnames)}}function Qn(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1," Correo Electr\xf3nico "),e.qZA())}function jn(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.email)}}function Ln(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Sexo"),e.qZA())}function Gn(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.sex)}}function Bn(n,a){1&n&&e._UZ(0,"th",33)}function zn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",32)(1,"div")(2,"button",34),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.view(r.id))}),e.TgZ(3,"mat-icon",35),e._uU(4," remove_red_eye "),e.qZA()(),e.TgZ(5,"button",36),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.edit(r.id))}),e.TgZ(6,"mat-icon",35),e._uU(7," edit "),e.qZA()(),e.TgZ(8,"button",37),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.delete(r.id))}),e.TgZ(9,"mat-icon",13),e._uU(10," delete "),e.qZA()()()()}}function Hn(n,a){1&n&&e._UZ(0,"tr",38)}function Vn(n,a){1&n&&e._UZ(0,"tr",39)}function $n(n,a){if(1&n&&(e.TgZ(0,"tr",40)(1,"td",41),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(19);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const Wn=function(){return[5,10,25,100]};let Xn=(()=>{class n{constructor(t,i,o,r,c,l){this.router=t,this.clientAPI=i,this.permissionAPI=o,this.confirmDialog=r,this.snackBar=c,this.staticData=l,this.Filters=[{id:"?ordering=-created",name:"Ultimos Clientes Creados"},{id:"?ordering=created",name:"Primeros Clientes Creados"}],this.filter_default="",this.singularName="cliente",this.pluralName="clientes",this.actionName="eliminar",this.permissions=[],this.displayedColumns=["id","cedula","names","surnames","email","actions"]}ngOnInit(){this.staticData.setMenuGeneral(),this.loadAll(this.filter_default)}loadAll(t){this.clientAPI.getFilter(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLocaleLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}view(t){this.router.navigate(["/dashboard/"+this.pluralName+"/vizualizar/"+t])}edit(t){this.router.navigate(["/dashboard/"+this.pluralName+"/editar/"+t])}delete(t){var i=this;return(0,Z.Z)(function*(){yield i.canDelete(),i.permissions.length>0?(i.showDeleteDialog(),i.confirmDialog.confirmed().subscribe(o=>{o&&i.clientAPI.delete(t).subscribe(r=>{i.snackBar.mensaje(i.singularName+" eliminado exitosamente"),i.loadAll(i.filter_default)},r=>{i.confirmDialog.error(r.error)})})):i.snackBar.mensaje("No tienes permiso para Eliminar "+i.singularName)})()}showDeleteDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el "+this.singularName+"?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t)}canDelete(){var t=this;return(0,Z.Z)(function*(){let i=Number(localStorage.getItem("rol_id")),o=yield(0,F.n)(t.permissionAPI.getPermisosbyName("Eliminar Cliente")),r=Number(o[0].id);const c=yield(0,F.n)(t.permissionAPI.getPermisosbyRolandPermission(i,r));t.permissions=c})()}toCreation(){this.router.navigate(["dashboard/"+this.pluralName+"/crear"])}toList(){this.router.navigate(["dashboard/"+this.pluralName])}filter(t){this.loadAll(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(X),e.Y36(H),e.Y36(A),e.Y36(T.o),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-clients"]],viewQuery:function(t,i){if(1&t&&(e.Gf(D.NW,5),e.Gf(U.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:49,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",1,"green-primary",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","cedula"],["matColumnDef","names"],["matColumnDef","surnames"],["matColumnDef","email"],["matColumnDef","sex"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Clientes"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.toCreation()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon"),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"span"),e._uU(12),e.qZA()()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"mat-select",8),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(16,In,2,2,"mat-option",9),e.qZA()(),e.TgZ(17,"div",10)(18,"input",11,12),e.NdJ("keyup",function(r){return i.applyFilter(r)}),e.qZA(),e.TgZ(20,"mat-icon",13),e._uU(21," search "),e.qZA()()(),e.TgZ(22,"div",14)(23,"table",15),e.ynx(24,16),e.YNc(25,Nn,2,0,"th",17),e.YNc(26,Dn,2,1,"td",18),e.BQk(),e.ynx(27,19),e.YNc(28,Sn,2,0,"th",17),e.YNc(29,En,2,1,"td",18),e.BQk(),e.ynx(30,20),e.YNc(31,Yn,2,0,"th",17),e.YNc(32,Fn,2,1,"td",18),e.BQk(),e.ynx(33,21),e.YNc(34,Rn,2,0,"th",17),e.YNc(35,Jn,2,1,"td",18),e.BQk(),e.ynx(36,22),e.YNc(37,Qn,2,0,"th",17),e.YNc(38,jn,2,1,"td",18),e.BQk(),e.ynx(39,23),e.YNc(40,Ln,2,0,"th",17),e.YNc(41,Gn,2,1,"td",18),e.BQk(),e.ynx(42,24),e.YNc(43,Bn,1,0,"th",25),e.YNc(44,zn,11,0,"td",18),e.BQk(),e.YNc(45,Hn,1,0,"tr",26),e.YNc(46,Vn,1,0,"tr",27),e.YNc(47,$n,3,1,"tr",28),e.qZA(),e._UZ(48,"mat-paginator",29),e.qZA()()),2&t&&(e.xp6(12),e.hij("Agregar ",i.singularName,""),e.xp6(4),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,Wn)))},dependencies:[u.sg,w.Nt,M.Hw,I.lW,b.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,V.gM,D.NW,U.YE,U.nU,P.gD,O.ey,C],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function Kn(n,a){if(1&n&&(e.TgZ(0,"mat-option",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function eo(n,a){1&n&&(e.TgZ(0,"th",33),e._uU(1,"ID"),e.qZA())}function to(n,a){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.id)}}function io(n,a){1&n&&(e.TgZ(0,"th",33),e._uU(1,"Nombre"),e.qZA())}function no(n,a){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.name)}}function oo(n,a){1&n&&(e.TgZ(0,"th",33),e._uU(1,"P. Disponible"),e.qZA())}function ao(n,a){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.initial_stock)}}function ro(n,a){1&n&&(e.TgZ(0,"th",33),e._uU(1,"P. Condicionados"),e.qZA())}function so(n,a){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.condition_stock)}}function co(n,a){1&n&&(e.TgZ(0,"th",33),e._uU(1,"Total Premios"),e.qZA())}function lo(n,a){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.total_awards)}}function mo(n,a){1&n&&(e.TgZ(0,"th",33),e._uU(1," Fecha de Creaci\xf3n "),e.qZA())}function po(n,a){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.created)}}function uo(n,a){1&n&&(e.TgZ(0,"th",33),e._uU(1,"Juego"),e.qZA())}function go(n,a){if(1&n&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.game)}}function _o(n,a){1&n&&(e.TgZ(0,"th",33),e._uU(1,"Estado"),e.qZA())}function fo(n,a){1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2,"Activo"),e.qZA()())}function ho(n,a){1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2,"Inactivo"),e.qZA()())}function bo(n,a){if(1&n&&(e.TgZ(0,"td",34),e.YNc(1,fo,3,0,"div",35),e.YNc(2,ho,3,0,"ng-template",null,36,e.W1O),e.qZA()),2&n){const t=a.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.is_active)("ngIfElse",i)}}function Co(n,a){1&n&&e._UZ(0,"th",37)}function Zo(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",34)(1,"div")(2,"button",38),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.verPremios(r.id))}),e.TgZ(3,"mat-icon",39),e._uU(4,"remove_red_eye"),e.qZA()(),e.TgZ(5,"button",40),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editarPremios(r.id))}),e.TgZ(6,"mat-icon",39),e._uU(7,"edit"),e.qZA()(),e.TgZ(8,"button",41),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.eliminarPremios(r.id))}),e.TgZ(9,"mat-icon",13),e._uU(10,"delete"),e.qZA()()()()}}function vo(n,a){1&n&&e._UZ(0,"tr",42)}function To(n,a){1&n&&e._UZ(0,"tr",43)}function yo(n,a){if(1&n&&(e.TgZ(0,"tr",44)(1,"td",45),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(19);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const Ao=function(){return[5,10,25,100]};let xo=(()=>{class n{constructor(t,i,o,r,c,l,p){this.router=t,this.dialog=i,this.snackbar=o,this.premiosSrv=r,this.dialogService=c,this.permisos_api=l,this.staticData=p,this.Filters=[{id:"?is_active=true",name:"Premios Activos"},{id:"?is_active=false",name:"Premios Inactivos"},{id:"?ordering=-created",name:"Ultimos Premios Creados"},{id:"?ordering=created",name:"Primeros Premios Creados"}],this.filter_default="?ordering=-created",this.Titulo="Premios",this.displayedColumns=["id","name","initial_stock","condition_stock","total_awards","created","juego","is_active","Acciones"],this.permisos=[]}ngOnInit(){this.staticData.setMenuGeneral(),this.cargarPremios(this.filter_default)}agregarPremios(){this.router.navigate(["/dashboard/premios/crear"])}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}cargarPremios(t){this.premiosSrv.getFilterAward(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}verPremios(t){this.router.navigate(["/dashboard/premios/visualizar/"+t])}editarPremios(t){this.router.navigate(["/dashboard/premios/editar/"+t])}eliminarPremios(t){var i=this;return(0,Z.Z)(function*(){yield i.Permisoeliminar(),i.permisos.length>0?(i.dialogService.open({title:"ELIMINAR PREMIO",message:"ESTA SEGURO QUE QUIERE ELIMINAR EL PREMIO?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),i.dialogService.confirmed().subscribe(r=>{r&&i.premiosSrv.deleteAward(t).subscribe(c=>{i.snackbar.mensaje("Premio Eliminado Existosamente"),i.cargarPremios(i.filter_default)},c=>{i.dialogService.error(c.error),i.cargarPremios(i.filter_default)})})):i.snackbar.mensaje("No tienes permisos para Eliminar Premios")})()}Permisoeliminar(){var t=this;return(0,Z.Z)(function*(){let i=Number(localStorage.getItem("rol_id")),o=yield(0,F.n)(t.permisos_api.getPermisosbyName("Eliminar Premio")),r=Number(o[0].id);const c=yield(0,F.n)(t.permisos_api.getPermisosbyRolandPermission(i,r));t.permisos=c})()}filter(t){this.cargarPremios(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(N.uw),e.Y36(T.o),e.Y36(S),e.Y36(A),e.Y36(H),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-awards"]],viewQuery:function(t,i){if(1&t&&(e.Gf(D.NW,5),e.Gf(U.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:55,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","initial_stock"],["matColumnDef","condition_stock"],["matColumnDef","total_awards"],["matColumnDef","created"],["matColumnDef","juego"],["matColumnDef","is_active"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.agregarPremios()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon"),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"span"),e._uU(12,"Agregar Premio"),e.qZA()()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"mat-select",8),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(16,Kn,2,2,"mat-option",9),e.qZA()(),e.TgZ(17,"div",10)(18,"input",11,12),e.NdJ("keyup",function(r){return i.aplicarFiltro(r)}),e.qZA(),e.TgZ(20,"mat-icon",13),e._uU(21," search "),e.qZA()()(),e.TgZ(22,"div",14)(23,"table",15),e.ynx(24,16),e.YNc(25,eo,2,0,"th",17),e.YNc(26,to,2,1,"td",18),e.BQk(),e.ynx(27,19),e.YNc(28,io,2,0,"th",17),e.YNc(29,no,2,1,"td",18),e.BQk(),e.ynx(30,20),e.YNc(31,oo,2,0,"th",17),e.YNc(32,ao,2,1,"td",18),e.BQk(),e.ynx(33,21),e.YNc(34,ro,2,0,"th",17),e.YNc(35,so,2,1,"td",18),e.BQk(),e.ynx(36,22),e.YNc(37,co,2,0,"th",17),e.YNc(38,lo,2,1,"td",18),e.BQk(),e.ynx(39,23),e.YNc(40,mo,2,0,"th",17),e.YNc(41,po,2,1,"td",18),e.BQk(),e.ynx(42,24),e.YNc(43,uo,2,0,"th",17),e.YNc(44,go,2,1,"td",18),e.BQk(),e.ynx(45,25),e.YNc(46,_o,2,0,"th",17),e.YNc(47,bo,4,2,"td",18),e.BQk(),e.ynx(48,26),e.YNc(49,Co,1,0,"th",27),e.YNc(50,Zo,11,0,"td",18),e.BQk(),e.YNc(51,vo,1,0,"tr",28),e.YNc(52,To,1,0,"tr",29),e.YNc(53,yo,3,1,"tr",30),e.qZA(),e._UZ(54,"mat-paginator",31),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,Ao)))},dependencies:[u.sg,u.O5,w.Nt,M.Hw,I.lW,b.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,V.gM,D.NW,U.YE,U.nU,P.gD,O.ey,C],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function qo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function wo(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(11);e.xp6(1),e.hij(" La longitud de la c\xe9dula debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function Uo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Oo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Po(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function ko(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function Mo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Io(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(46);e.xp6(1),e.hij(" La longitud del tel\xe9fono debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function No(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Do(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let So=(()=>{class n{constructor(t,i,o,r,c,l){this.router=t,this.formBuilder=i,this.snackBar=o,this.confirmDialog=r,this.api=c,this.staticData=l,this.singularName="cliente",this.pluralName="clientes",this.actionName="Crear",this.formGroup=this.formBuilder.group({cedula:new s.NI("",[s.kI.required,s.kI.minLength(10)]),names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),phone:new s.NI("",[s.kI.required,s.kI.minLength(10)]),sex:["",s.kI.required],address:["",s.kI.required]})}toList(){this.router.navigate(["dashboard/"+this.pluralName])}create(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el nuevo "+this.singularName+"?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){this.confirmDialog.confirmed().subscribe(t=>{if(t){let i=this.fillForm();this.api.post(i).subscribe({next:o=>{this.snackBar.mensaje(this.singularName+" creado exitosamente"),this.toList()},error:o=>{this.confirmDialog.error(o.error)}})}})}fillForm(){let t=localStorage.getItem("user_id"),i=new FormData;return i.append("cedula",this.formGroup.get("cedula")?.value),i.append("names",this.formGroup.get("names")?.value),i.append("surnames",this.formGroup.get("surnames")?.value),i.append("email",this.formGroup.get("email")?.value),i.append("phone",this.formGroup.get("phone")?.value),i.append("address",this.formGroup.get("address")?.value),i.append("sex",this.formGroup.get("sex")?.value),i.append("user_client_register",t),i.append("user_client_modify",t),i}ngOnInit(){this.staticData.setMenuGeneral()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(s.qu),e.Y36(T.o),e.Y36(A),e.Y36(X),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-client"]],decls:73,vars:13,consts:[[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["formControlName","sex","mat-select",""],["value","Femenino"],["value","Masculino"],["autocomplete","off","formControlName","address","type","text","matInput",""],[1,"container_botones"],["title","Crear",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Nuevo Cliente"),e.qZA()(),e.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field")(7,"label"),e._uU(8,"C\xe9dula"),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"input",3,4),e.qZA(),e.TgZ(12,"mat-hint",5),e._uU(13),e.qZA(),e.YNc(14,qo,2,0,"mat-error",6),e.YNc(15,wo,2,1,"mat-error",6),e.qZA(),e.TgZ(16,"mat-form-field")(17,"label"),e._uU(18,"Nombres"),e.qZA(),e.TgZ(19,"div",2),e._UZ(20,"input",7),e.qZA(),e.TgZ(21,"mat-hint"),e._uU(22,"Nombre del Cliente"),e.qZA(),e.YNc(23,Uo,2,0,"mat-error",6),e.qZA(),e.TgZ(24,"mat-form-field")(25,"label"),e._uU(26,"Apellidos"),e.qZA(),e.TgZ(27,"div",2),e._UZ(28,"input",8),e.qZA(),e.TgZ(29,"mat-hint"),e._uU(30,"Apellido paterno y materno"),e.qZA(),e.YNc(31,Oo,2,0,"mat-error",6),e.qZA(),e.TgZ(32,"mat-form-field")(33,"label"),e._uU(34,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(35,"div",2),e._UZ(36,"input",9),e.qZA(),e.TgZ(37,"mat-hint"),e._uU(38,"Correo electr\xf3nico"),e.qZA(),e.YNc(39,Po,2,0,"mat-error",6),e.YNc(40,ko,2,0,"mat-error",6),e.qZA(),e.TgZ(41,"mat-form-field")(42,"label"),e._uU(43,"Tel\xe9fono"),e.qZA(),e.TgZ(44,"div",2),e._UZ(45,"input",10,11),e.qZA(),e.TgZ(47,"mat-hint",5),e._uU(48),e.qZA(),e.YNc(49,Mo,2,0,"mat-error",6),e.YNc(50,Io,2,1,"mat-error",6),e.qZA(),e.TgZ(51,"mat-form-field")(52,"label"),e._uU(53,"Sexo"),e.qZA(),e.TgZ(54,"mat-select",12)(55,"mat-option",13),e._uU(56,"Femenino"),e.qZA(),e.TgZ(57,"mat-option",14),e._uU(58,"Masculino"),e.qZA()(),e.TgZ(59,"mat-hint"),e._uU(60,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(61,No,2,0,"mat-error",6),e.qZA(),e.TgZ(62,"mat-form-field")(63,"label"),e._uU(64,"Direcci\xf3n"),e.qZA(),e.TgZ(65,"div",2),e._UZ(66,"input",15),e.qZA(),e.TgZ(67,"mat-hint"),e._uU(68,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(69,Do,2,0,"mat-error",6),e.qZA()(),e.TgZ(70,"div",16)(71,"app-button-primary",17),e.NdJ("click",function(){return i.create()}),e.qZA(),e.TgZ(72,"app-button-primary",18),e.NdJ("click",function(){return i.toList()}),e.qZA()()()()),2&t){const o=e.MAs(11),r=e.MAs(46);e.xp6(5),e.Q6J("formGroup",i.formGroup),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.cedula.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.cedula.hasError("minlength")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.email.hasError("email")),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("minlength")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.address.hasError("required"))}},dependencies:[u.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,f.TO,f.KE,f.bx,w.Nt,b.Ye,P.gD,O.ey,x,C],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();const Eo=["takeInput"];function Yo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Fo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Ro(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Jo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Qo(n,a){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function jo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Lo(n,a){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Go(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let Bo=(()=>{class n{constructor(t,i,o,r,c,l,p){this.router=t,this.fb=i,this.awardSrv=o,this.snackbar=r,this.dialogService=c,this.imageSrv=l,this.staticData=p,this.img_upload="assets/img/upload.png",this.previsulizacion=this.img_upload,this.Categorias=[{id:"L",name:"Legendaria"},{id:"E",name:"Epica"},{id:"R",name:"Rara"},{id:"C",name:"Com\xfan"}],this.Juegos=[{id:"1",name:"Tragamonedas"}],this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],initial_stock:["",s.kI.required],is_active:["",s.kI.required],category:["",s.kI.required],juego:["",s.kI.required]})}ngOnInit(){this.staticData.setMenuGeneral()}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base}):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}deleteImage(){this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.fileToUpload=null}createAwards(){this.form.valid&&this.fileToUpload?(this.imagen=this.fileToUpload,this.dialogService.open({title:"CREAR PREMIO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO PREMIO?",cancelText:"CANCELAR",confirmText:"CREAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData,r=localStorage.getItem("user_id");o.append("name",this.form.get("name")?.value),o.append("description",this.form.get("description")?.value),o.append("initial_stock",this.form.get("initial_stock")?.value),o.append("is_active",this.form.get("is_active")?.value),o.append("category",this.form.get("category")?.value),o.append("game",this.form.get("juego")?.value),o.append("imagen",this.imagen,this.imagen.name),o.append("user_register",r),o.append("user_modify",r),this.awardSrv.postAward(o).subscribe(c=>{this.snackbar.mensaje("Premio Creado Exitosamente"),this.router.navigate(["dashboard/premios"])},c=>{this.dialogService.error(c.error)})}})):this.snackbar.mensaje("Complete todos los campos")}backAwards(){this.router.navigate(["dashboard/premios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(s.qu),e.Y36(S),e.Y36(T.o),e.Y36(A),e.Y36(R),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-awards"]],viewQuery:function(t,i){if(1&t&&e.Gf(Eo,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:74,vars:10,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["autocomplete","off","formControlName","initial_stock","onpaste","return false","type","number","onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],["formControlName","category","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","juego","mat-select",""],[1,"file_container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",3,"change"],["takeInput",""],["mat-icon-button","",1,"green-primary",3,"click"],[1,"container_img"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["title","Crear",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Nuevo Premio"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card",2)(7,"div",3)(8,"div")(9,"form",4)(10,"mat-form-field")(11,"label"),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"div",5),e._UZ(14,"input",6),e.qZA(),e.TgZ(15,"mat-hint"),e._uU(16,"Nombre del Premio"),e.qZA(),e.YNc(17,Yo,2,0,"mat-error",7),e.qZA(),e.TgZ(18,"mat-form-field")(19,"label"),e._uU(20,"Descripci\xf3n"),e.qZA(),e.TgZ(21,"div",5),e._UZ(22,"input",8),e.qZA(),e.TgZ(23,"mat-hint"),e._uU(24,"Descripci\xf3n del Premio"),e.qZA(),e.YNc(25,Fo,2,0,"mat-error",7),e.qZA(),e.TgZ(26,"mat-form-field")(27,"label"),e._uU(28,"Stock Inicial"),e.qZA(),e.TgZ(29,"div",5),e._UZ(30,"input",9),e.qZA(),e.TgZ(31,"mat-hint"),e._uU(32,"Stock Inicial del Premio"),e.qZA(),e.YNc(33,Ro,2,0,"mat-error",7),e.qZA(),e.TgZ(34,"mat-form-field")(35,"label"),e._uU(36,"Estado"),e.qZA(),e.TgZ(37,"mat-select",10)(38,"mat-option",11),e._uU(39,"Activo"),e.qZA(),e.TgZ(40,"mat-option",12),e._uU(41,"Inactivo"),e.qZA()(),e.TgZ(42,"mat-hint"),e._uU(43,"Estado del Premio"),e.qZA(),e.YNc(44,Jo,2,0,"mat-error",7),e.qZA(),e.TgZ(45,"mat-form-field")(46,"label"),e._uU(47,"Categor\xeda"),e.qZA(),e.TgZ(48,"mat-select",13),e.YNc(49,Qo,2,2,"mat-option",14),e.qZA(),e.TgZ(50,"mat-hint"),e._uU(51,"Categor\xeda del Premio"),e.qZA(),e.YNc(52,jo,2,0,"mat-error",7),e.qZA(),e.TgZ(53,"mat-form-field")(54,"label"),e._uU(55,"Juego"),e.qZA(),e.TgZ(56,"mat-select",15),e.YNc(57,Lo,2,2,"mat-option",14),e.qZA(),e.TgZ(58,"mat-hint"),e._uU(59,"Juego del Premio"),e.qZA(),e.YNc(60,Go,2,0,"mat-error",7),e.qZA()()(),e.TgZ(61,"div")(62,"div",16)(63,"div",17)(64,"input",18,19),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()(),e.TgZ(66,"button",20),e.NdJ("click",function(){return i.deleteImage()}),e.TgZ(67,"mat-icon"),e._uU(68,"close"),e.qZA()()(),e.TgZ(69,"div",21),e._UZ(70,"img",22),e.qZA()()(),e.TgZ(71,"div",23)(72,"app-button-primary",24),e.NdJ("click",function(){return i.createAwards()}),e.qZA(),e.TgZ(73,"app-button-primary",25),e.NdJ("click",function(){return i.backAwards()}),e.qZA()()()()()),2&t&&(e.xp6(9),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.initial_stock.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Categorias),e.xp6(3),e.Q6J("ngIf",i.form.controls.category.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Juegos),e.xp6(3),e.Q6J("ngIf",i.form.controls.juego.hasError("required")),e.xp6(10),e.Q6J("src",i.previsulizacion,e.LSH))},dependencies:[u.sg,u.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,w.Nt,M.Hw,I.lW,b.Ye,P.gD,O.ey,Y.a8,x,C],styles:['mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_img[_ngcontent-%COMP%]{width:400px;height:250px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:300px;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Selecciona una imagen (png, jpg, jpeg)"}.file_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}']}),n})();const zo=["takeInput"];function Ho(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Vo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function $o(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Wo(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function Xo(n,a){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ko(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function ea(n,a){if(1&n&&(e.TgZ(0,"mat-option",26),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function ta(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}let ia=(()=>{class n{constructor(t,i,o,r,c,l,p,h,y){this.router=t,this.fb=i,this.dialog=o,this.awardSrv=r,this.snackbar=c,this.dialogService=l,this.activerouter=p,this.imageSrv=h,this.staticData=y,this.img_upload="assets/img/upload.png",this.previsulizacion=this.img_upload,this.Categorias=[{id:"L",name:"Legendaria"},{id:"E",name:"Epica"},{id:"R",name:"Rara"},{id:"C",name:"Com\xfan"}],this.Juegos=[{id:"1",name:"Tragamonedas"}],this.form=this.fb.group({name:["",s.kI.required],description:["",s.kI.required],initial_stock:["",s.kI.required],is_active:["",s.kI.required],category:["",s.kI.required],juego:["",s.kI.required]})}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activerouter.snapshot.paramMap.get("id");this.awardSrv.getAwardbyId(Number(t)).subscribe(i=>{this.getPremio=i,this.form.patchValue({name:this.getPremio.name,description:this.getPremio.description,initial_stock:this.getPremio.initial_stock,is_active:this.getPremio.is_active.toString(),category:this.getPremio.category,juego:this.getPremio.game.toString()}),this.previsulizacion=this.getPremio.imagen},i=>{console.log(i)}),this.form.get("juego")?.disable()}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base}):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}deleteImage(){this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.fileToUpload=null}editAwards(){if(this.form.valid){let t=this.activerouter.snapshot.paramMap.get("id");const i={title:"EDITAR PREMIO",message:"\xbfEST\xc1 SEGURO QUE QUIERE EDITAR EL PREMIO "+this.form.get("name")?.value+"?",cancelText:"CANCELAR",confirmText:"EDITAR"};this.dialogService.open(i),this.dialogService.confirmed().subscribe(o=>{if(o){let r=new FormData,c=localStorage.getItem("user_id");r.append("name",this.form.get("name")?.value),r.append("description",this.form.get("description")?.value),r.append("initial_stock",this.form.get("initial_stock")?.value),r.append("is_active",this.form.get("is_active")?.value),r.append("category",this.form.get("category")?.value),r.append("game",this.form.get("juego")?.value),this.fileToUpload&&(this.imagen=this.fileToUpload,r.append("imagen",this.imagen,this.imagen.name)),r.append("user_modify",c),this.awardSrv.putAward(Number(t),r).subscribe(l=>{this.snackbar.mensaje("Premio Actualizado Exitosamente"),this.router.navigate(["/dashboard/premios"])},l=>{this.dialogService.error(l.error)})}})}}backAwards(){this.router.navigate(["/dashboard/premios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(s.qu),e.Y36(N.uw),e.Y36(S),e.Y36(T.o),e.Y36(A),e.Y36(d.gz),e.Y36(R),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-awards"]],viewQuery:function(t,i){if(1&t&&e.Gf(zo,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:74,vars:11,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","name","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],["autocomplete","off","formControlName","initial_stock","onpaste","return false","type","number","onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","matInput",""],["formControlName","is_active","mat-select",""],["value","true"],["value","false"],["formControlName","category","mat-select",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","juego","mat-select",""],[1,"file_container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",3,"change"],["takeInput",""],["mat-icon-button","",1,"green-primary",3,"click"],[1,"container_img"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["title","Editar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card",2)(7,"div",3)(8,"div")(9,"form",4)(10,"mat-form-field")(11,"label"),e._uU(12,"Nombre"),e.qZA(),e.TgZ(13,"div",5),e._UZ(14,"input",6),e.qZA(),e.TgZ(15,"mat-hint"),e._uU(16,"Nombre del Premio"),e.qZA(),e.YNc(17,Ho,2,0,"mat-error",7),e.qZA(),e.TgZ(18,"mat-form-field")(19,"label"),e._uU(20,"Descripci\xf3n"),e.qZA(),e.TgZ(21,"div",5),e._UZ(22,"input",8),e.qZA(),e.TgZ(23,"mat-hint"),e._uU(24,"Descripci\xf3n del Premio"),e.qZA(),e.YNc(25,Vo,2,0,"mat-error",7),e.qZA(),e.TgZ(26,"mat-form-field")(27,"label"),e._uU(28,"Stock Inicial"),e.qZA(),e.TgZ(29,"div",5),e._UZ(30,"input",9),e.qZA(),e.TgZ(31,"mat-hint"),e._uU(32,"Stock Inicial del Premio"),e.qZA(),e.YNc(33,$o,2,0,"mat-error",7),e.qZA(),e.TgZ(34,"mat-form-field")(35,"label"),e._uU(36,"Estado"),e.qZA(),e.TgZ(37,"mat-select",10)(38,"mat-option",11),e._uU(39,"Activo"),e.qZA(),e.TgZ(40,"mat-option",12),e._uU(41,"Inactivo"),e.qZA()(),e.TgZ(42,"mat-hint"),e._uU(43,"Estado del Premio"),e.qZA(),e.YNc(44,Wo,2,0,"mat-error",7),e.qZA(),e.TgZ(45,"mat-form-field")(46,"label"),e._uU(47,"Categor\xeda"),e.qZA(),e.TgZ(48,"mat-select",13),e.YNc(49,Xo,2,2,"mat-option",14),e.qZA(),e.TgZ(50,"mat-hint"),e._uU(51,"Categor\xeda del Premio"),e.qZA(),e.YNc(52,Ko,2,0,"mat-error",7),e.qZA(),e.TgZ(53,"mat-form-field")(54,"label"),e._uU(55,"Juego"),e.qZA(),e.TgZ(56,"mat-select",15),e.YNc(57,ea,2,2,"mat-option",14),e.qZA(),e.TgZ(58,"mat-hint"),e._uU(59,"Juego del Premio"),e.qZA(),e.YNc(60,ta,2,0,"mat-error",7),e.qZA()()(),e.TgZ(61,"div")(62,"div",16)(63,"div",17)(64,"input",18,19),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()(),e.TgZ(66,"button",20),e.NdJ("click",function(){return i.deleteImage()}),e.TgZ(67,"mat-icon"),e._uU(68,"close"),e.qZA()()(),e.TgZ(69,"div",21),e._UZ(70,"img",22),e.qZA()()(),e.TgZ(71,"div",23)(72,"app-button-primary",24),e.NdJ("click",function(){return i.editAwards()}),e.qZA(),e.TgZ(73,"app-button-primary",25),e.NdJ("click",function(){return i.backAwards()}),e.qZA()()()()()),2&t&&(e.xp6(3),e.hij("Editar Premio : ",i.getPremio.name,""),e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.name.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.initial_stock.hasError("required")),e.xp6(11),e.Q6J("ngIf",i.form.controls.is_active.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Categorias),e.xp6(3),e.Q6J("ngIf",i.form.controls.category.hasError("required")),e.xp6(5),e.Q6J("ngForOf",i.Juegos),e.xp6(3),e.Q6J("ngIf",i.form.controls.juego.hasError("required")),e.xp6(10),e.Q6J("src",i.previsulizacion,e.LSH))},dependencies:[u.sg,u.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,w.Nt,M.Hw,I.lW,b.Ye,P.gD,O.ey,Y.a8,x,C],styles:['mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.container_img[_ngcontent-%COMP%]{width:400px;height:250px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:300px;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Selecciona una imagen (png, jpg, jpeg)"}.file_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}']}),n})();function na(n,a){1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2,"Activo"),e.qZA()())}function oa(n,a){1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1,"Inactivo"),e.qZA())}function aa(n,a){if(1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.premioget.user_modify)}}function ra(n,a){if(1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.premioget.user_register)}}let sa=(()=>{class n{constructor(t,i,o,r){this.award=t,this.router=i,this.activerouter=o,this.staticData=r}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activerouter.snapshot.paramMap.get("id");this.award.getAwardbyIdVisualizer(Number(t)).subscribe(i=>{this.premioget=i,console.log(this.premioget)})}regresarPremios(){this.router.navigate(["/dashboard/premios"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S),e.Y36(d.F0),e.Y36(d.gz),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-awards"]],decls:93,vars:15,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[1,"container"],[1,"datos"],["role","listitem"],[4,"ngIf","ngIfElse"],["inactivo",""],["sinmodificar",""],[1,"container_img"],["alt","",3,"src"],[1,"container_botones"],["title","Salir",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Visualizar premio"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card",2)(7,"div",3)(8,"div")(9,"div",4)(10,"div",5)(11,"mat-label"),e._uU(12,"Nombre"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"mat-list-item",6),e._uU(15),e.qZA()(),e.TgZ(16,"div",5)(17,"mat-label"),e._uU(18,"Descripci\xf3n"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"mat-list-item",6),e._uU(21),e.qZA()()(),e.TgZ(22,"div",4)(23,"div",5)(24,"mat-label"),e._uU(25,"Premios Disponibles"),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"mat-list-item",6),e._uU(28),e.qZA()(),e.TgZ(29,"div",5)(30,"mat-label"),e._uU(31,"Premios Condicionados"),e.qZA(),e._UZ(32,"br"),e.TgZ(33,"mat-list-item",6),e._uU(34),e.qZA()()(),e.TgZ(35,"div",4)(36,"div",5)(37,"mat-label"),e._uU(38,"Premios Entregados"),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"mat-list-item",6),e._uU(41),e.qZA()(),e.TgZ(42,"div",5)(43,"mat-label"),e._uU(44,"Estado"),e.qZA(),e._UZ(45,"br"),e.YNc(46,na,3,0,"div",7),e.YNc(47,oa,2,0,"ng-template",null,8,e.W1O),e.qZA()(),e.TgZ(49,"div",4)(50,"div",5)(51,"mat-label"),e._uU(52,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(53,"br"),e.TgZ(54,"mat-list-item",6),e._uU(55),e.qZA()(),e.TgZ(56,"div",5)(57,"mat-label"),e._uU(58,"\xdaltima Modificaci\xf3n"),e.qZA(),e._UZ(59,"br"),e.TgZ(60,"mat-list-item",6),e._uU(61),e.qZA()()(),e.TgZ(62,"div",4)(63,"div",5)(64,"mat-label"),e._uU(65,"Usuario que registr\xf3 el premio"),e.qZA(),e._UZ(66,"br"),e.TgZ(67,"mat-list-item",6),e._uU(68),e.qZA()(),e.TgZ(69,"div",5)(70,"mat-label"),e._uU(71,"\xdaltimo usuario en modificar el premio"),e.qZA(),e._UZ(72,"br"),e.YNc(73,aa,3,1,"div",7),e.YNc(74,ra,2,1,"ng-template",null,9,e.W1O),e.qZA()(),e.TgZ(76,"div",4)(77,"div",5)(78,"mat-label"),e._uU(79,"Categor\xeda"),e.qZA(),e._UZ(80,"br"),e.TgZ(81,"mat-list-item",6),e._uU(82),e.qZA()(),e.TgZ(83,"div",5)(84,"mat-label"),e._uU(85,"El premio pertenece al juego"),e.qZA(),e._UZ(86,"br"),e.TgZ(87,"mat-list-item",6),e._uU(88),e.qZA()()()(),e.TgZ(89,"div",10),e._UZ(90,"img",11),e.qZA()(),e.TgZ(91,"div",12)(92,"app-button-primary",13),e.NdJ("click",function(){return i.regresarPremios()}),e.qZA()()()()()),2&t){const o=e.MAs(48),r=e.MAs(75);e.xp6(15),e.Oqu(i.premioget.name),e.xp6(6),e.Oqu(i.premioget.description),e.xp6(7),e.Oqu(i.premioget.initial_stock),e.xp6(6),e.Oqu(i.premioget.condition_stock),e.xp6(7),e.Oqu(i.premioget.prizes_awarded),e.xp6(5),e.Q6J("ngIf",i.premioget.is_active)("ngIfElse",o),e.xp6(9),e.Oqu(i.premioget.created),e.xp6(6),e.Oqu(i.premioget.modified),e.xp6(7),e.Oqu(i.premioget.user_register),e.xp6(5),e.Q6J("ngIf",i.premioget.user_modify)("ngIfElse",r),e.xp6(9),e.Oqu(i.premioget.category),e.xp6(6),e.Oqu(i.premioget.game),e.xp6(2),e.s9C("src",i.premioget.imagen,e.LSH)}},dependencies:[u.O5,f.hX,b.Ye,j.Tg,Y.a8,x,C],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:20px}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background-color:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.container_img[_ngcontent-%COMP%]{width:500px;height:350px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.mat-list-item[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}"]}),n})();var ue=_(3398);let Te=(()=>{class n{constructor(t,i){this.probability=t,this.awards=i,this.id_game="1",this.gameName="Tragamonedas",this.newAwards=[],this.awardsGame=[],this.legendary_box=[1],this.epic_box=[1,2],this.common_box=[1,2,4]}addItemToCategory(t,i){let o={game_id:this.id_game,premio_id:String(t.id)};this.probability.postItemToCategory(o).subscribe(r=>{this.awards.getAward().subscribe(c=>{c.map(l=>{this.probability.getAwardsListGame().subscribe(p=>{p.forEach(h=>{l.category==i&&h.premio_id==l.id&&this.newAwards.push(l)})})})})})}setAwardsGame(t){this.awardsGame=t}getAwardsGame(){return this.awardsGame}getIdGame(){return this.id_game}getGameName(){return this.gameName}addProbabilityConfig(t){}getNewAwards(){return this.newAwards}getLegendaryBoxes(){return this.legendary_box}getEpicBoxes(){return this.epic_box}getCommonBoxes(){return this.common_box}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ue.g),e.LFG(S))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var de=_(9760);let ca=(()=>{class n{constructor(t){this.controller=t,this.name="product name",this.stock="-",this.imgUrl="",this.newAwardList=[],this.propagar=new e.vpe}ngOnInit(){}addItem(){this.controller.addItemToCategory(this.award,this.award.category),this.newAwardList=this.controller.getNewAwards(),this.propagar.emit(this.newAwardList)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Te))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal-item"]],inputs:{name:"name",stock:"stock",imgUrl:"imgUrl",award:"award"},outputs:{propagar:"propagar"},decls:9,vars:3,consts:[[1,"container-item"],[1,"item-nombre"],[1,"item__img-container"],["alt","award-img",3,"src"],[1,"item-stock"],["type","button",1,"",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2),e.qZA(),e.TgZ(3,"figure",2),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"p",4),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return i.addItem()}),e._uU(8,"Anadir"),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(i.name),e.xp6(2),e.s9C("src",i.imgUrl,e.LSH),e.xp6(2),e.hij("stock: ",i.stock,""))},styles:[".container-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.item__img-container[_ngcontent-%COMP%]{width:5rem;height:5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}.modal-item__btn[_ngcontent-%COMP%]{outline:none;padding:1.5rem}"]}),n})();function la(n,a){if(1&n&&e._UZ(0,"app-modal-item",8),2&n){const t=a.$implicit;e.s9C("name",t.name),e.s9C("imgUrl",t.imagen),e.s9C("stock",t.current_stock),e.Q6J("award",t)}}function ma(n,a){1&n&&e._UZ(0,"div")}let pa=(()=>{class n{constructor(t){this.awards=t,this.category="",this.publicity=[],this.modalAwards=[],this.isOpenModal=!0,this.propagar=new e.vpe}ngOnInit(){this.awards.getAward().subscribe(t=>{t.map(i=>{this.category==i.category&&this.modalAwards.push(i)})})}closeModalOutsideModal(t){t.target.classList.contains("row")&&(this.isOpenModal=!1,this.propagar.emit(this.isOpenModal))}closeModal(){this.isOpenModal=!1,this.propagar.emit(this.isOpenModal)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal"]],inputs:{category:"category",publicity:"publicity"},outputs:{propagar:"propagar"},decls:11,vars:3,consts:[[1,"container-modal",3,"click"],[1,"row","align-items-center","justify-content-center","w-100","h-100"],[1,"container-modal-awards"],[1,"cancel-icon",3,"click"],[1,"row","text-align-center"],[1,"awards-container"],[3,"award","name","imgUrl","stock",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"award","name","imgUrl","stock"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(r){return i.closeModalOutsideModal(r)}),e.TgZ(1,"div",1)(2,"div",2)(3,"mat-icon",3),e.NdJ("click",function(){return i.closeModal()}),e._uU(4,"cancel"),e.qZA(),e.TgZ(5,"div",4)(6,"p"),e._uU(7),e.qZA()(),e.TgZ(8,"div",5),e.YNc(9,la,1,4,"app-modal-item",6),e.YNc(10,ma,1,0,"div",7),e.qZA()()()()),2&t&&(e.xp6(7),e.hij("Anadir premio a la categoria ",i.category,""),e.xp6(2),e.Q6J("ngForOf",i.modalAwards),e.xp6(1),e.Q6J("ngIf","publicity"==i.category))},dependencies:[u.sg,u.O5,M.Hw,ca],styles:[".container-modal[_ngcontent-%COMP%]{width:100%;height:100vh;position:absolute;background-color:#808080a3;z-index:0}.container-modal-awards[_ngcontent-%COMP%]{position:relative;z-index:1;background-color:gray;height:20rem;width:90%;padding:2rem}.awards-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;gap:.5rem;flex-wrap:wrap}.cancel-icon[_ngcontent-%COMP%]{position:absolute;top:7px;right:15px;width:2rem;height:2rem;font-size:2rem}"]}),n})();function ua(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"app-modal",16),e.NdJ("propagar",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.manageCloseModal(o))}),e.qZA()}if(2&n){const t=e.oxw();e.s9C("category",t.categoryModal),e.Q6J("publicity",t.publicityList)}}let da=(()=>{class n{constructor(t,i,o,r,c,l,p,h,y,k){this.awards=t,this.controller=i,this.probability=o,this.fb=r,this.dialog=c,this.snackBar=l,this.staticData=p,this.matchSrv=h,this.awardConditionSrv=y,this.gameDataSrv=k,this.isModalOpen=!1,this.awardsGame=[],this.legendary=[],this.legendary_box=this.controller.getLegendaryBoxes(),this.epic=[],this.epic_box=this.controller.getEpicBoxes(),this.rare=[],this.common=[],this.common_box=this.controller.getCommonBoxes(),this.modalAwards=[],this.publicityList=[],this.categoryModal="",this.totalSquares=0,this.limitWinners=0,this.limitAttempts=0,this.percentage=0,this.limitMessage="",this.len_award_cond_today=0,this.len_match_today=0,this.winner_limit=0,this.winner_compare=0,this.form=this.fb.group({percent_win:[""],limit_winners:[""],limit_attempts:[""]})}ngOnInit(){this.staticData.setMenuTragamonedas(),this.awards.getAward().subscribe(t=>{this.probability.getAwardsListGame().subscribe(i=>{this.getAwardsPerCategory(t,i)}),this.getTragamonedasProbability()})}getAwardsPerCategory(t,i){t.forEach(o=>{i.forEach(r=>{"Legendaria"==o.category&&r.premio_id==o.id?this.legendary.push(o):"Epica"==o.category&&r.premio_id==o.id?this.epic.push(o):"Rara"==o.category&&r.premio_id==o.id?this.rare.push(o):r.premio_id==o.id&&this.common.push(o)})})}addProbabilityConfig(){var t=this;return(0,Z.Z)(function*(){if(yield t.validateData()){const i={title:"CAMBIAR CONFIGURACION PROBABILIDADES JUEGO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CAMBIAR LA CONFIGURACION DE PROBABILIDADES?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"};let o=new FormData;o.append("percent_win",t.form.get("percent_win")?.value),o.append("winners_limit",t.form.get("limit_winners")?.value),o.append("attempts_limit",t.form.get("limit_attempts")?.value),o.append("game_id","1"),t.dialog.open(i),t.dialog.confirmed().subscribe(r=>{r&&t.probability.putProbabilityConfig(o).subscribe(c=>{console.log(c),t.snackBar.mensaje("Configuracion Cambiada con exito"),t.getTragamonedasProbability()})})}})()}padreOpenModal(t){this.isModalOpen=t.isModalOpen,this.modalAwards=t.awards,this.categoryModal=t.category,this.publicityList=t.publicity}manageCloseModal(t){this.isModalOpen=t}validateData(){var t=this;return(0,Z.Z)(function*(){yield t.getTodayAwaradCondition();let i=t.form.get("percent_win")?.value,o=t.form.get("limit_winners")?.value,r=t.form.get("limit_attempts")?.value;return t.form.valid?i>100?(t.snackBar.mensaje("El porcentaje de ganar no puede ser mayor a 100"),!1):i<0?(t.snackBar.mensaje("El porcentaje de ganar no puede ser menor a 0"),!1):o<0?(t.snackBar.mensaje("El l\xedmite de ganadores no puede ser menor a 0"),!1):r<1?(t.snackBar.mensaje("El l\xedmite de intentos no puede ser menor a 1"),!1):!(o<t.winner_compare&&(t.snackBar.mensaje("El d\xeda de hoy va a existir "+t.winner_compare+" ganadores, el l\xedmite no puede ser menor"),1)):(t.snackBar.mensaje("Lleno el formulario correctamente"),!1)})()}getTragamonedasProbability(){this.probability.getProbabilites().subscribe(t=>{console.log(t),this.probabilityData=t,console.log("sdasdas",this.probabilityData),this.limitWinners=this.probabilityData.winners_limit,this.percentage=this.probabilityData.percent_win,this.limitAttempts=this.probabilityData.attempts_limit,this.limitMessage=`L\xedmite actual de ganadores es  ${this.limitWinners}`})}getTodayAwaradCondition(){var t=this;return(0,Z.Z)(function*(){let i=new Date,o=t.gameDataSrv.DateFormat(i).split("T")[0];yield t.getLenAwardCondToday(o),yield t.getLenMatchToday(o),yield t.getWinnerLimit()})()}getLenAwardCondToday(t){var i=this;return(0,Z.Z)(function*(){i.awardConditionSrv.getAwardConditionFilter("?start_date__date__range="+t+"%2C"+t).subscribe(r=>{i.len_award_cond_today=Object.keys(r).length})})()}getLenMatchToday(t){var i=this;return(0,Z.Z)(function*(){i.matchSrv.getMatchFilter("?win_match=true&start_date__date__range="+t+"%2C"+t).subscribe(r=>{i.len_match_today=Object.keys(r).length})})()}getWinnerLimit(){var t=this;return(0,Z.Z)(function*(){t.probability.getProbabilites().subscribe(i=>{t.winner_limit=i.winners_limit,t.winner_compare=t.len_award_cond_today+t.len_match_today})})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(S),e.Y36(Te),e.Y36(ue.g),e.Y36(s.qu),e.Y36(A),e.Y36(T.o),e.Y36(g.Q),e.Y36(de.Q),e.Y36(z),e.Y36(ie))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-probabilidades"]],decls:30,vars:5,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[3,"category","publicity","propagar",4,"ngIf"],[1,"container-premios","justify-content-center","background-black-primary"],[1,"container-set-categories","green-primary"],["mat-lib-title","",1,"set-categories__title"],[1,"container-total"],["action","",1,"row","justify-content-center","align-items-center","me-2","form",3,"formGroup"],["for","percent_win",1,"total","col-8","label","white-color"],["onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","type","number","id","percent_win","formControlName","percent_win","required","",1,"input-global","col-4","ms-4"],[1,"ganadores__limit-message","mt-2","ms-3","white-color"],["for","limit_winners",1,"total","col-8","mt-4","label"],["onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) >= 0 ? Math.abs(this.value) : null","type","number","id","limit_winners","formControlName","limit_winners","required","",1,"input-global","col-4","ms-4"],["for","limit_attempts",1,"total","col-8","mt-4","label"],["onkeypress","return event.charCode >= 48 && event.charCode <= 57","oninput","this.value = !!this.value && Math.abs(this.value) > 0 ? Math.abs(this.value) : null","type","number","id","limit_attempts","formControlName","limit_attempts","required","",1,"input-global","col-4","ms-4"],["title","Guardar",1,"mt-4","ms-3","btn-save",3,"click"],[3,"category","publicity","propagar"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Probabilidad "),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.YNc(5,ua,1,2,"app-modal",2),e.TgZ(6,"div",3)(7,"div",4)(8,"h3",5),e._uU(9," Editar Probabilidades "),e.qZA(),e.TgZ(10,"div",6)(11,"form",7)(12,"label",8),e._uU(13,"Porcentaje de ganar un premio"),e.qZA(),e._UZ(14,"input",9),e._uU(15," % "),e.TgZ(16,"p",10),e._uU(17),e.qZA(),e.TgZ(18,"label",11),e._uU(19,"Limitar ganadores por dia"),e.qZA(),e._UZ(20,"input",12),e.TgZ(21,"p",10),e._uU(22),e._UZ(23,"br"),e.qZA(),e.TgZ(24,"label",13),e._uU(25,"Numero de intentos"),e.qZA(),e._UZ(26,"input",14),e.TgZ(27,"p",10),e._uU(28),e.qZA()(),e.TgZ(29,"app-button-primary",15),e.NdJ("click",function(){return i.addProbabilityConfig()}),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("ngIf",i.isModalOpen),e.xp6(6),e.Q6J("formGroup",i.form),e.xp6(6),e.hij(" Porcentaje actual de ganar ",i.percentage,"% "),e.xp6(5),e.hij(" ",i.limitMessage," "),e.xp6(6),e.hij(" Numero actual de Intentos ",i.limitAttempts," "))},dependencies:[u.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.Q7,s.sg,s.u,b.Ye,x,C,pa],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}p[_ngcontent-%COMP%]{margin:0}.container-premios[_ngcontent-%COMP%]{display:flex;align-items:top;width:100%}.container-categories[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.6rem;width:65%;margin-right:1rem;padding:.5rem .8rem}.container-set-categories[_ngcontent-%COMP%]{width:75%}img[_ngcontent-%COMP%]{width:100%;height:100%}.categories-caption[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.set-categories__title[_ngcontent-%COMP%]{margin-top:.5rem;text-align:center;margin-top:5%}.container-set-squares[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem;padding-right:.5rem}.line[_ngcontent-%COMP%]{border-top:1px solid black;width:57%;align-self:center}.container-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;align-items:center}.total-squares__number[_ngcontent-%COMP%]{margin-right:5rem}.form[_ngcontent-%COMP%]{gap:.2rem}.form__input[_ngcontent-%COMP%]{width:4rem;height:2rem}.container-ganadores[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.2rem}.ganadores__limit-message[_ngcontent-%COMP%]{display:flex;justify-content:center}.no-pass-limit[_ngcontent-%COMP%]{color:green}.pass-limit[_ngcontent-%COMP%]{color:red}.label[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}"]}),n})(),q=(()=>{class n{constructor(t,i){this.permisos_api=t,this.snackbar=i}canActivate(t,i){var o=this;return(0,Z.Z)(function*(){let r=t.data.Permiso_nombre;const c=yield(0,F.n)(o.permisos_api.getPermisosbyName(r));let l=Number(c[0].id),p=Number(localStorage.getItem("rol_id"));return(yield(0,F.n)(o.permisos_api.getPermisosbyRolandPermission(p,l))).length>0||(o.snackbar.mensaje("No tienes permiso para: "+r),!1)})()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(H),e.LFG(T.o))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var v=_(3068);function ga(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function _a(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(11);e.xp6(1),e.hij(" La longitud de la c\xe9dula debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function fa(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ha(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ba(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Ca(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Ingresa un correo v\xe1lido "),e.qZA())}function Za(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function va(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){e.oxw();const t=e.MAs(46);e.xp6(1),e.hij(" La longitud del tel\xe9fono debe ser de 10, Hay ",t.value.length||0," d\xedgitos !!! ")}}function Ta(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function ya(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}let Aa=(()=>{class n{constructor(t,i,o,r,c,l,p){this.router=t,this.formBuilder=i,this.snackBar=o,this.confirmDialog=r,this.clientAPI=c,this.activatedRoute=l,this.staticData=p,this.singularName="cliente",this.pluralName="Clientes",this.actionName="editar",this.formGroup=this.formBuilder.group({cedula:new s.NI("",[s.kI.required,s.kI.minLength(10)]),names:["",s.kI.required],surnames:["",s.kI.required],email:new s.NI("",[s.kI.required,s.kI.email]),phone:new s.NI("",[s.kI.required,s.kI.minLength(10)]),sex:["",s.kI.required],address:["",s.kI.required]})}toList(){this.router.navigate(["dashboard/"+this.pluralName.toLocaleLowerCase()])}editClient(){this.formGroup.valid?this.showDialog():this.snackBar.mensaje("Llene el formulario correctamente")}showDialog(){const t={title:this.actionName.toUpperCase()+" "+this.singularName.toUpperCase(),message:"\xbfEst\xe1 seguro de que quiere "+this.actionName+" el "+this.singularName+" "+this.formGroup.get("names")?.value+" ?",cancelText:"CANCELAR",confirmText:this.actionName.toUpperCase()};this.confirmDialog.open(t),this.sendForm()}sendForm(){let t=this.activatedRoute.snapshot.paramMap.get("id");this.confirmDialog.confirmed().subscribe(i=>{if(i){let o=this.fillForm();this.clientAPI.put(Number(t),o).subscribe({next:r=>{this.snackBar.mensaje(this.singularName+" Actualizado Exitosamente"),this.toList()},error:r=>{this.confirmDialog.error(r.error)}})}})}fillForm(){let t=localStorage.getItem("user_id"),i=new FormData;return i.append("cedula",this.formGroup.get("cedula")?.value),i.append("names",this.formGroup.get("names")?.value),i.append("surnames",this.formGroup.get("surnames")?.value),i.append("email",this.formGroup.get("email")?.value),i.append("phone",this.formGroup.get("phone")?.value),i.append("address",this.formGroup.get("address")?.value),i.append("sex",this.formGroup.get("sex")?.value),i.append("user_client_modify",t),i}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activatedRoute.snapshot.paramMap.get("id");this.clientAPI.getById(Number(t)).subscribe(i=>{this.currentClient=i,this.getInfo()},i=>{})}getInfo(){this.formGroup.patchValue({cedula:this.currentClient.cedula,names:this.currentClient.names,surnames:this.currentClient.surnames,email:this.currentClient.email,phone:this.currentClient.phone,address:this.currentClient.address,sex:this.currentClient.sex})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(s.qu),e.Y36(T.o),e.Y36(A),e.Y36(X),e.Y36(d.gz),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-edit-client"]],decls:73,vars:16,consts:[[1,"container"],[3,"formGroup"],[1,"input_form"],["matInput","","autocomplete","off","formControlName","cedula","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input",""],["align","end"],[4,"ngIf"],["matInput","","autocomplete","off","formControlName","names","type","text","required",""],["matInput","","autocomplete","off","formControlName","surnames","type","text","required",""],["matInput","","formControlName","email","type","email","required","","autocomplete","off"],["matInput","","autocomplete","off","formControlName","phone","type","text","required","","maxlength","10","minlength","10","onpaste","return false","onkeypress","return event.charCode >= 48 && event.charCode <= 57"],["input_tel",""],["formControlName","sex","mat-select",""],["value","Femenino"],["value","Masculino"],["autocomplete","off","formControlName","address","type","text","matInput",""],[1,"container_botones"],["title","Editar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"div",0)(5,"form",1)(6,"mat-form-field")(7,"label"),e._uU(8,"C\xe9dula"),e.qZA(),e.TgZ(9,"div",2),e._UZ(10,"input",3,4),e.qZA(),e.TgZ(12,"mat-hint",5),e._uU(13),e.qZA(),e.YNc(14,ga,2,0,"mat-error",6),e.YNc(15,_a,2,1,"mat-error",6),e.qZA(),e.TgZ(16,"mat-form-field")(17,"label"),e._uU(18,"Nombres"),e.qZA(),e.TgZ(19,"div",2),e._UZ(20,"input",7),e.qZA(),e.TgZ(21,"mat-hint"),e._uU(22,"Nombre del Cliente"),e.qZA(),e.YNc(23,fa,2,0,"mat-error",6),e.qZA(),e.TgZ(24,"mat-form-field")(25,"label"),e._uU(26,"Apellidos"),e.qZA(),e.TgZ(27,"div",2),e._UZ(28,"input",8),e.qZA(),e.TgZ(29,"mat-hint"),e._uU(30,"Apellido paterno y materno"),e.qZA(),e.YNc(31,ha,2,0,"mat-error",6),e.qZA(),e.TgZ(32,"mat-form-field")(33,"label"),e._uU(34,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(35,"div",2),e._UZ(36,"input",9),e.qZA(),e.TgZ(37,"mat-hint"),e._uU(38,"Correo electr\xf3nico"),e.qZA(),e.YNc(39,ba,2,0,"mat-error",6),e.YNc(40,Ca,2,0,"mat-error",6),e.qZA(),e.TgZ(41,"mat-form-field")(42,"label"),e._uU(43,"Tel\xe9fono"),e.qZA(),e.TgZ(44,"div",2),e._UZ(45,"input",10,11),e.qZA(),e.TgZ(47,"mat-hint",5),e._uU(48),e.qZA(),e.YNc(49,Za,2,0,"mat-error",6),e.YNc(50,va,2,1,"mat-error",6),e.qZA(),e.TgZ(51,"mat-form-field")(52,"label"),e._uU(53,"Sexo"),e.qZA(),e.TgZ(54,"mat-select",12)(55,"mat-option",13),e._uU(56,"Femenino"),e.qZA(),e.TgZ(57,"mat-option",14),e._uU(58,"Masculino"),e.qZA()(),e.TgZ(59,"mat-hint"),e._uU(60,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(61,Ta,2,0,"mat-error",6),e.qZA(),e.TgZ(62,"mat-form-field")(63,"label"),e._uU(64,"Direcci\xf3n"),e.qZA(),e.TgZ(65,"div",2),e._UZ(66,"input",15),e.qZA(),e.TgZ(67,"mat-hint"),e._uU(68,"Direcci\xf3n del usuario"),e.qZA(),e.YNc(69,ya,2,0,"mat-error",6),e.qZA()(),e.TgZ(70,"div",16)(71,"app-button-primary",17),e.NdJ("click",function(){return i.editClient()}),e.qZA(),e.TgZ(72,"app-button-primary",18),e.NdJ("click",function(){return i.toList()}),e.qZA()()()()),2&t){const o=e.MAs(11),r=e.MAs(46);e.xp6(3),e.lnq("Editar Cliente : ",i.currentClient.names," ",i.currentClient.surnames," #",i.currentClient.cedula," "),e.xp6(2),e.Q6J("formGroup",i.formGroup),e.xp6(8),e.hij(" ",o.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.cedula.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.cedula.hasError("minlength")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.names.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.surnames.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.email.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.email.hasError("email")),e.xp6(8),e.hij(" ",r.value.length||0,"/10 "),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.phone.hasError("minlength")),e.xp6(11),e.Q6J("ngIf",i.formGroup.controls.sex.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.formGroup.controls.address.hasError("required"))}},dependencies:[u.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.sg,s.u,f.TO,f.KE,f.bx,w.Nt,b.Ye,P.gD,O.ey,x,C],styles:["mat-form-field[_ngcontent-%COMP%]{width:45%;margin:0 20px 15px}.container[_ngcontent-%COMP%]{margin-top:20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}"]}),n})();var ye=_(782);let xa=(()=>{class n{constructor(t,i,o,r){this.router=t,this.activedRoute=i,this.clientAPI=o,this.staticData=r,this.singularName="cliente",this.pluralName="clientes",this.actionName="visualizar",this.client={id:"",cedula:"",names:"",surnames:"",email:"",phone:"",sex:"",address:"",user_client_register:"",user_client_modify:"",created:"",modified:"",client:""}}toList(){this.router.navigate(["dashboard/"+this.pluralName])}ngOnInit(){this.staticData.setMenuGeneral();let t=this.activedRoute.snapshot.paramMap.get("id");this.clientAPI.getById(Number(t)).subscribe(i=>{this.client=i})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(d.gz),e.Y36(X),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-client"]],decls:60,vars:15,consts:[["cols","3","rowHeight","50rem"],["title","Salir",1,"exit",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"mat-grid-list",0)(5,"mat-grid-tile")(6,"mat-list")(7,"mat-label"),e._uU(8,"C\xe9dula"),e.qZA(),e.TgZ(9,"mat-list-item"),e._uU(10),e.qZA(),e.TgZ(11,"mat-label"),e._uU(12,"Nombres"),e.qZA(),e.TgZ(13,"mat-list-item"),e._uU(14),e.qZA(),e.TgZ(15,"mat-label"),e._uU(16,"Apellidos"),e.qZA(),e.TgZ(17,"mat-list-item"),e._uU(18),e.qZA(),e.TgZ(19,"mat-label"),e._uU(20,"Correo Electr\xf3nico"),e.qZA(),e.TgZ(21,"mat-list-item"),e._uU(22),e.qZA(),e.TgZ(23,"mat-label"),e._uU(24,"Tel\xe9fono"),e.qZA(),e.TgZ(25,"mat-list-item"),e._uU(26),e.qZA(),e.TgZ(27,"mat-label"),e._uU(28,"Sexo"),e.qZA(),e.TgZ(29,"mat-list-item"),e._uU(30),e.qZA(),e.TgZ(31,"mat-label"),e._uU(32,"Direcci\xf3n"),e.qZA(),e.TgZ(33,"mat-list-item"),e._uU(34),e.qZA(),e.TgZ(35,"mat-label"),e._uU(36,"Fecha de registro"),e.qZA(),e.TgZ(37,"mat-list-item"),e._uU(38),e.qZA(),e.TgZ(39,"mat-label"),e._uU(40,"Usuario de registro"),e.qZA(),e.TgZ(41,"mat-list-item"),e._uU(42),e.qZA(),e.TgZ(43,"mat-label"),e._uU(44,"Fecha de \xfaltima modificaci\xf3n"),e.qZA(),e.TgZ(45,"mat-list-item"),e._uU(46),e.qZA(),e.TgZ(47,"mat-label"),e._uU(48,"\xdaltima usuario que modific\xf3"),e.qZA(),e.TgZ(49,"mat-list-item"),e._uU(50),e.qZA()()(),e.TgZ(51,"mat-grid-tile")(52,"mat-list")(53,"mat-label"),e._uU(54,"Historial de partida"),e.qZA()()(),e.TgZ(55,"mat-grid-tile")(56,"mat-list")(57,"mat-label"),e._uU(58,"Resumen"),e.qZA()()()(),e.TgZ(59,"app-button-primary",1),e.NdJ("click",function(){return i.toList()}),e.qZA()()),2&t&&(e.xp6(3),e.HOy(" ",i.actionName," ",i.singularName," ",i.client.names," ",i.client.cedula," "),e.xp6(7),e.Oqu(i.client.cedula),e.xp6(4),e.Oqu(i.client.names),e.xp6(4),e.Oqu(i.client.surnames),e.xp6(4),e.Oqu(i.client.email),e.xp6(4),e.Oqu(i.client.phone),e.xp6(4),e.Oqu(i.client.sex),e.xp6(4),e.Oqu(i.client.address),e.xp6(4),e.Oqu(i.client.created),e.xp6(4),e.Oqu(i.client.user_client_register),e.xp6(4),e.Oqu(i.client.modified),e.xp6(4),e.Oqu(i.client.user_client_modify))},dependencies:[f.hX,b.Ye,j.i$,j.Tg,ye.Il,ye.DX,x,C],styles:[".container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0 10px}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background:var(--color-fondo-principal)}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.mat-list-item[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-letras)}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.exit[_ngcontent-%COMP%]{margin-left:45%}"]}),n})(),qa=(()=>{class n{constructor(t,i,o,r,c,l,p){this.snackbar=t,this.fb=i,this.dialogService=o,this.game=r,this.staticData=c,this.awardsConditionService=l,this.gameDataSrv=p,this.beginDate=new Date,this.finishDate=new Date,this.startDate=new Date,this.endDate=new Date,this.minDate=new Date,this.awardConditionList=[],this.form=this.fb.group({startTime:["",s.kI.required],endTime:["",s.kI.required]});let h=(new Date).getFullYear(),y=(new Date).getMonth(),k=(new Date).getDate();this.minDate=new Date(h,y,k)}ngOnInit(){var t=this;return(0,Z.Z)(function*(){t.staticData.setMenuTragamonedas(),yield t.getDate(),t.awardsConditionService.getAwardConditionFilter("?is_approved=false").subscribe(i=>{t.awardConditionList=i})})()}changetime(){var t=this;return(0,Z.Z)(function*(){let i=t.form.value.startTime.hour,o=t.form.value.startTime.minute,r=t.form.value.endTime.hour,c=t.form.value.endTime.minute,l=t.beginDate.toISOString().split("T")[0];const[p,h,y]=l.split("-");let k=t.finishDate.toISOString().split("T")[0];const[se,Tr,yr]=k.split("-");t.startDate=new Date(parseInt(p),parseInt(h)-1,parseInt(y),parseInt(i),parseInt(o)),console.log(t.startDate),t.endDate=new Date(parseInt(se),parseInt(Tr)-1,parseInt(yr),parseInt(r),parseInt(c))})()}saveNewDateGame(){var t=this;return(0,Z.Z)(function*(){t.validateDates()&&(t.dialogService.open({title:"ACTUALIZAR FECHA DEL JUEGO",message:"\xbfEST\xc1 SEGURO QUE QUIERE ACTUALIZAR LA FECHA DEL JUEGO?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),yield t.changetime(),console.log(t.startDate),t.dialogService.confirmed().subscribe(o=>{if(o){let r=new FormData,c=t.gameDataSrv.DateFormat(t.startDate);r.append("start_date",c);let l=t.gameDataSrv.DateFormat(t.endDate);r.append("end_date",l),r.append("game","T"),r.append("is_Active","true"),t.game.putGame(1,r).subscribe(p=>{console.log(p)}),t.snackbar.mensaje("Se ha actualizado la fecha de disponibilidad del juego")}}))})()}validateDates(){return this.form.valid?this.validateConditionalAward()?this.beginDate.getTime()==this.finishDate.getTime()?(this.snackbar.mensaje("El rango de fechas de disponibilidad debe ser mayor a un dia"),!1):!(this.beginDate>this.finishDate&&(this.snackbar.mensaje("La fecha de inicio no puede ser mayor a la fecha final"),1)):(this.snackbar.mensaje("No puede cambiar la fecha del juego mientras existan juegos condicionados en espera."),!1):(this.snackbar.mensaje("LLene todos los campos"),!1)}validateConditionalAward(){return!(this.awardConditionList.length>0)}cancel(){this.getDate()}getDate(){var t=this;return(0,Z.Z)(function*(){t.game.getById(1).subscribe(i=>{console.log(i);let o=i.start_date.split(" ")[1].split(":")[0],r=i.start_date.split(" ")[1].split(":")[1],c=i.end_date.split(" ")[1].split(":")[0],l=i.end_date.split(" ")[1].split(":")[1];t.form.controls.startTime.setValue({hour:Number(o),minute:Number(r)}),t.form.controls.endTime.setValue({hour:Number(c),minute:Number(l)}),t.beginDate=new Date(i.start_date_nf),t.finishDate=new Date(i.end_date_nf)},i=>{console.log(i.error)})})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(T.o),e.Y36(s.qu),e.Y36(A),e.Y36(re),e.Y36(g.Q),e.Y36(z),e.Y36(ie))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-date"]],decls:29,vars:8,consts:[[1,"green-primary","background-navy-primary"],[1,"example-spacer"],[1,"container-fluid","background-black-primary","root-container"],[1,"row"],[1,"col","align-self-center","text-center"],[1,"date-title","green-primary"],[1,"calendar-container",3,"formGroup"],[1,"calendar"],[1,"input-date","green-primary"],[1,"calendar__card"],[1,"demo-inline-calendar-card","background-navy-primary","green-primary"],[1,"green-primary",3,"selected","minDate","selectedChange"],[1,"time_container"],["formControlName","startTime",1,"time",3,"meridian"],["title","Guardar",1,"save-button",3,"click"],[3,"selected","minDate","selectedChange"],["formControlName","endTime",1,"time",3,"meridian"],["title","Cancelar",1,"cancel-button",3,"backgroundColor","click"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Fecha"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"div",4)(8,"h2",5),e._uU(9,"JUEGO DISPONIBLE"),e.qZA()()(),e.TgZ(10,"form",6)(11,"div",7)(12,"p",8),e._uU(13,"Inicio"),e.qZA(),e.TgZ(14,"div",9)(15,"mat-card",10)(16,"mat-calendar",11),e.NdJ("selectedChange",function(r){return i.beginDate=r}),e.qZA()()(),e.TgZ(17,"div",12),e._UZ(18,"ngb-timepicker",13),e.qZA(),e.TgZ(19,"app-button-primary",14),e.NdJ("click",function(){return i.saveNewDateGame()}),e.qZA()(),e.TgZ(20,"div",7)(21,"p",8),e._uU(22,"Fin"),e.qZA(),e.TgZ(23,"div",9)(24,"mat-card",10)(25,"mat-calendar",15),e.NdJ("selectedChange",function(r){return i.finishDate=r}),e.qZA()()(),e.TgZ(26,"div",12),e._UZ(27,"ngb-timepicker",16),e.qZA(),e.TgZ(28,"app-button-primary",17),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()()()),2&t&&(e.xp6(10),e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("selected",i.beginDate)("minDate",i.minDate),e.xp6(2),e.Q6J("meridian",!0),e.xp6(7),e.Q6J("selected",i.finishDate)("minDate",i.minDate),e.xp6(2),e.Q6J("meridian",!0),e.xp6(1),e.Q6J("backgroundColor","#fff"))},dependencies:[s._Y,s.JJ,s.JL,s.sg,s.u,b.Ye,Y.a8,me._H,pe.Pm,x,C],styles:["p[_ngcontent-%COMP%]{margin:0}.exit-icon[_ngcontent-%COMP%]{width:3.5rem;height:2rem}.exit-container[_ngcontent-%COMP%]{margin-top:1rem;padding-bottom:1rem}.date-title[_ngcontent-%COMP%]{margin:1.5rem 0}.calendar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:40%}.calendar__card[_ngcontent-%COMP%]{padding:0 1rem}.input-date[_ngcontent-%COMP%]{margin:1rem 0;padding:.5rem 1.5rem;border:1px solid #00ffc5;border-radius:15px;font-weight:500}.date-container[_ngcontent-%COMP%]{height:100%}.save-button[_ngcontent-%COMP%]{align-self:flex-end;margin-right:2rem;margin-bottom:2rem}.cancel-button[_ngcontent-%COMP%]{align-self:flex-start;margin-left:2rem}.time_container[_ngcontent-%COMP%]{align-self:center}"]}),n})();function wa(n,a){if(1&n&&(e.TgZ(0,"mat-option",30),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ua(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"ID"),e.qZA())}function Oa(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.id)}}function Pa(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Nombre"),e.qZA())}function ka(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.award)}}function Ma(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Juego"),e.qZA())}function Ia(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.game)}}function Na(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Fecha de Inicio"),e.qZA())}function Da(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.start_date)}}function Sa(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1," Fecha de Fin "),e.qZA())}function Ea(n,a){if(1&n&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.Oqu(t.end_date)}}function Ya(n,a){1&n&&(e.TgZ(0,"th",31),e._uU(1,"Estado"),e.qZA())}function Fa(n,a){1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2,"Procesado"),e.qZA()())}function Ra(n,a){1&n&&(e.TgZ(0,"div")(1,"div",13),e._uU(2,"Sin procesar"),e.qZA()())}function Ja(n,a){if(1&n&&(e.TgZ(0,"td",32),e.YNc(1,Fa,3,0,"div",33),e.YNc(2,Ra,3,0,"ng-template",null,34,e.W1O),e.qZA()),2&n){const t=a.$implicit,i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",t.is_approved)("ngIfElse",i)}}function Qa(n,a){1&n&&e._UZ(0,"th",35)}function ja(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",32)(1,"div")(2,"button",36),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.verPremios(r.id))}),e.TgZ(3,"mat-icon",37),e._uU(4,"remove_red_eye"),e.qZA()(),e.TgZ(5,"button",38),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editarPremios(r.id))}),e.TgZ(6,"mat-icon",37),e._uU(7,"edit"),e.qZA()(),e.TgZ(8,"button",39),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.eliminarPremios(r.id))}),e.TgZ(9,"mat-icon",13),e._uU(10,"delete"),e.qZA()()()()}}function La(n,a){1&n&&e._UZ(0,"tr",40)}function Ga(n,a){1&n&&e._UZ(0,"tr",41)}function Ba(n,a){if(1&n&&(e.TgZ(0,"tr",42)(1,"td",43),e._uU(2),e.qZA()()),2&n){e.oxw();const t=e.MAs(19);e.xp6(2),e.hij(' No hay datos que coincidan con el filtro "',t.value,'" ')}}const za=function(){return[5,10,25,100]};let Ha=(()=>{class n{constructor(t,i,o,r,c,l,p){this.router=t,this.dialog=i,this.snackbar=o,this.dialogService=r,this.permisos_api=c,this.premiosCondicionSrv=l,this.staticData=p,this.Filters=[{id:"?is_approved=false",name:"Premios Condicionados Pendientes"},{id:"?is_approved=true",name:"Premios Condicionados Finalizados"},{id:"?ordering=start_date",name:"Premios Condicionados por Fecha de Inicio"},{id:"?ordering=end_date",name:"Premios Condicionados por Fecha de Finalizaci\xf3n"}],this.filter_default="?ordering=start_date",this.Titulo="Premios Condicionados",this.displayedColumns=["id","award","game","start_date","end_date","is_approved","Acciones"],this.permisos=[]}ngOnInit(){this.staticData.setMenuTragamonedas(),this.cargarPremios(this.filter_default)}cargarPremios(t){this.premiosCondicionSrv.getAwardConditionFilter(t).subscribe(i=>{this.dataSource=new m.by(i),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}aplicarFiltro(t){this.dataSource.filter=t.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}filter(t){this.cargarPremios(t)}agregarPremios(){this.router.navigate(["dashboard/premios/condicion/crear"])}verPremios(t){this.router.navigate(["dashboard/premios/condicion/visualizar",t])}editarPremios(t){let i;this.premiosCondicionSrv.getAwardConditionbyId(t).subscribe(o=>{i=o.is_approved,i?this.dialogService.error(["No se puede editar un premio condicionado ya reclamado"]):this.router.navigate(["dashboard/premios/condicion/editar",t])})}eliminarPremios(t){var i=this;return(0,Z.Z)(function*(){yield i.Permisoeliminar(),console.log(i.permisos.length),i.permisos.length>0?(i.dialogService.open({title:"ELIMINAR PREMIO",message:"ESTA SEGURO QUE QUIERE ELIMINAR EL PREMIO?",cancelText:"CANCELAR",confirmText:"CONFIRMAR"}),i.dialogService.confirmed().subscribe(r=>{r&&i.premiosCondicionSrv.deleteAwardCondition(t).subscribe(c=>{i.snackbar.mensaje("Premio Condicionado Eliminado Existosamente"),i.cargarPremios(i.filter_default)},c=>{i.dialogService.error(c.error),i.cargarPremios(i.filter_default)})})):i.snackbar.mensaje("No tienes permisos para Eliminar Premios Condicionados")})()}Permisoeliminar(){var t=this;return(0,Z.Z)(function*(){let i=Number(localStorage.getItem("rol_id")),o=yield(0,F.n)(t.permisos_api.getPermisosbyName("Eliminar Condicion de Premio")),r=Number(o[0].id);const c=yield(0,F.n)(t.permisos_api.getPermisosbyRolandPermission(i,r));t.permisos=c})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(N.uw),e.Y36(T.o),e.Y36(A),e.Y36(H),e.Y36(z),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-awards-condition"]],viewQuery:function(t,i){if(1&t&&(e.Gf(D.NW,5),e.Gf(U.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first)}},decls:49,vars:7,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"button_container"],["mat-raised-button","",3,"click"],[1,"add_container"],[1,"icon_container"],[1,"filter_search_container"],[1,"filter"],["mat-select","","placeholder","Filtrar",3,"selectionChange"],["class","background-navy-primary white-color",3,"value",4,"ngFor","ngForOf"],[1,"search","green-primary"],["matInput","","placeholder","Buscar","autocomplete","off",1,"buscador",3,"keyup"],["input",""],[1,"green-primary"],[1,"container","mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","award"],["matColumnDef","game"],["matColumnDef","start_date"],["matColumnDef","end_date"],["matColumnDef","is_approved"],["matColumnDef","Acciones"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],[1,"background-navy-primary","white-color",3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[4,"ngIf","ngIfElse"],["inactivo",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Visualizar",3,"click"],[1,"color-white"],["mat-icon-button","","color","primary","matTooltip","Editar",3,"click"],["mat-icon-button","","color","warn","matTooltip","Eliminar",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"button",3),e.NdJ("click",function(){return i.agregarPremios()}),e.TgZ(7,"div",4)(8,"div",5)(9,"mat-icon"),e._uU(10,"add"),e.qZA()(),e.TgZ(11,"span"),e._uU(12,"Agregar Premio Condicionado"),e.qZA()()()(),e.TgZ(13,"div",6)(14,"div",7)(15,"mat-select",8),e.NdJ("selectionChange",function(r){return i.filter(r.value)}),e.YNc(16,wa,2,2,"mat-option",9),e.qZA()(),e.TgZ(17,"div",10)(18,"input",11,12),e.NdJ("keyup",function(r){return i.aplicarFiltro(r)}),e.qZA(),e.TgZ(20,"mat-icon",13),e._uU(21," search "),e.qZA()()(),e.TgZ(22,"div",14)(23,"table",15),e.ynx(24,16),e.YNc(25,Ua,2,0,"th",17),e.YNc(26,Oa,2,1,"td",18),e.BQk(),e.ynx(27,19),e.YNc(28,Pa,2,0,"th",17),e.YNc(29,ka,2,1,"td",18),e.BQk(),e.ynx(30,20),e.YNc(31,Ma,2,0,"th",17),e.YNc(32,Ia,2,1,"td",18),e.BQk(),e.ynx(33,21),e.YNc(34,Na,2,0,"th",17),e.YNc(35,Da,2,1,"td",18),e.BQk(),e.ynx(36,22),e.YNc(37,Sa,2,0,"th",17),e.YNc(38,Ea,2,1,"td",18),e.BQk(),e.ynx(39,23),e.YNc(40,Ya,2,0,"th",17),e.YNc(41,Ja,4,2,"td",18),e.BQk(),e.ynx(42,24),e.YNc(43,Qa,1,0,"th",25),e.YNc(44,ja,11,0,"td",18),e.BQk(),e.YNc(45,La,1,0,"tr",26),e.YNc(46,Ga,1,0,"tr",27),e.YNc(47,Ba,3,1,"tr",28),e.qZA(),e._UZ(48,"mat-paginator",29),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(i.Titulo),e.xp6(13),e.Q6J("ngForOf",i.Filters),e.xp6(7),e.Q6J("dataSource",i.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(6,za)))},dependencies:[u.sg,u.O5,w.Nt,M.Hw,I.lW,b.Ye,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,m.Ee,V.gM,D.NW,U.YE,U.nU,P.gD,O.ey,C],styles:["table[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:20px}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.buscador[_ngcontent-%COMP%]{margin-left:25px}.color_verde[_ngcontent-%COMP%]{color:#4caf50}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario)}.button_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:20px;margin-left:7%;margin-bottom:20px}.button_container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:var(--color-fondo-secundario);color:var(--color-principal);border-radius:25px}.add_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.icon_container[_ngcontent-%COMP%]{color:var(--color-principal);display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;width:50px;border-radius:25px;margin-right:10px}.filter_search_container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:7%}.filter[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px;margin-right:25px}.search[_ngcontent-%COMP%]{text-align:center;width:400px;display:flex;justify-content:center;align-items:center;border:var(--color-principal) 1px solid;border-radius:25px}.buscador[_ngcontent-%COMP%]::placeholder{color:var(--color-principal)}.search[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{padding-right:30px}.buscador[_ngcontent-%COMP%]:focus::placeholder{color:var(--color-fondo-principal)}"]}),n})();function Va(n,a){if(1&n&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function $a(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido !!! "),e.qZA())}function Wa(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.message," ")}}function Xa(n,a){if(1&n&&(e.TgZ(0,"mat-error"),e.YNc(1,Wa,2,1,"div",12),e.qZA()),2&n){const t=a.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",i.form.controls.award.hasError(t.type))}}let er=(()=>{class n{constructor(t,i,o,r,c,l,p,h,y,k){this.fb=t,this.awardConditionSrv=i,this.awardSrv=o,this.snackbar=r,this.dialogService=c,this.router=l,this.staticData=p,this.gameDataSrv=h,this.matchSrv=y,this.probabilitySrv=k,this.minDate=new Date,this.minDatefin=new Date,this.img_upload="assets/img/regalo.png",this.previsulizacion=this.img_upload,this.stock_actual=0,this.award_name="",this.startDate=new Date,this.endDate=new Date,this.beginDate=new Date,this.finishDate=new Date,this.len_award_cond_today=0,this.len_match_today=0,this.winner_limit=0,this.limit_award_condition=0,this.allAwards=[],this.validation_msgs={contactAutocompleteControl:[{type:"invalidAutocompleteObject",message:"Seleccione una opci\xf3n del listado !!!"}]},this.form=this.fb.group({startTime:["",s.kI.required],endTime:["",s.kI.required],award:new s.NI("",[s.kI.required,n=>"string"==typeof n.value?{invalidAutocompleteObject:{value:n.value}}:null])})}_filter(t){if(""===t)return this.allAwards.slice();const i=t.toLowerCase();return this.allAwards.filter(o=>o.name.toLowerCase().includes(i))}displayFn(t){return t&&t.name?t.name:void 0}ngOnInit(){var t=this;return(0,Z.Z)(function*(){t.staticData.setMenuTragamonedas(),t.getAward();let i=(new Date).getFullYear(),o=(new Date).getMonth(),r=(new Date).getDate();t.minDate=new Date(i,o,r),t.minDatefin=new Date(i,o,r),t.finishDate=new Date(i,o,r),yield t.getTodayAwaradCondition()})()}changetime(){var t=this;return(0,Z.Z)(function*(){let i=t.form.value.startTime.hour,o=t.form.value.startTime.minute,r=t.form.value.endTime.hour,c=t.form.value.endTime.minute,l=t.finishDate.toISOString().split("T")[0];const[p,h,y]=l.split("-");t.startDate=new Date(parseInt(p),parseInt(h)-1,parseInt(y),parseInt(i),parseInt(o)),t.endDate=new Date(parseInt(p),parseInt(h)-1,parseInt(y),parseInt(r),parseInt(c)),console.log("async s",t.startDate),console.log("async f",t.endDate)})()}create(){var t=this;return(0,Z.Z)(function*(){t.form.valid?t.len_award_cond_today<t.limit_award_condition?(yield t.changetime(),t.dialogService.open({title:"CREAR PREMIO CONDICIONADO",message:"\xbfEST\xc1 SEGURO QUE QUIERE CREAR EL NUEVO PREMIO CONDICIONADO?",cancelText:"CANCELAR",confirmText:"CREAR"}),t.dialogService.confirmed().subscribe(o=>{if(o){let r=new FormData,c=1,l=localStorage.getItem("user_id");console.log(t.startDate),console.log(t.endDate);let p=t.gameDataSrv.DateFormat(t.startDate);r.append("start_date",p);let h=t.gameDataSrv.DateFormat(t.endDate);r.append("end_date",h),console.log(p),console.log(h),r.append("award",t.form.get("award")?.value.id),r.append("game",c.toString()),r.append("user_register",l),r.append("user_modify",l),t.awardConditionSrv.postAwardCondition(r).subscribe(y=>{t.snackbar.mensaje("Premio Condicionado Creado Exitosamente"),t.router.navigate(["dashboard/premios/condicion"])},y=>{t.dialogService.error(y.error)})}})):t.snackbar.mensaje("Alcanz\xf3 el m\xe1ximo de Premios Condicionados de hoy"):t.snackbar.mensaje("Complete todos los campos")})()}getAward(){this.awardConditionSrv.getAward().subscribe(t=>{this.allAwards=t,0==t.length&&this.dialogService.error(["No hay un premio activo disponible"]),this.filteredOptions=this.form.controls.award.valueChanges.pipe((0,oe.O)(""),(0,$.U)(i=>{const o="string"==typeof i?i:i?.name;return o?this._filter(o):this.allAwards.slice()}))})}imgAward(t){let i=this.form.get("award")?.value.id;this.awardSrv.getAwardbyId(i).subscribe(o=>{this.previsulizacion=o.imagen,this.stock_actual=o.initial_stock,this.award_name=o.name})}cancel(){this.router.navigate(["dashboard/premios/condicion"])}getTodayAwaradCondition(){var t=this;return(0,Z.Z)(function*(){let i=new Date,o=t.gameDataSrv.DateFormat(i).split("T")[0];yield t.getLenAwardCondToday(o),yield t.getLenMatchToday(o),yield t.getWinnerLimit()})()}getLenAwardCondToday(t){var i=this;return(0,Z.Z)(function*(){i.awardConditionSrv.getAwardConditionFilter("?start_date__date__range="+t+"%2C"+t).subscribe(r=>{i.len_award_cond_today=Object.keys(r).length})})()}getLenMatchToday(t){var i=this;return(0,Z.Z)(function*(){i.matchSrv.getMatchFilter("?win_match=true&start_date__date__range="+t+"%2C"+t).subscribe(r=>{i.len_match_today=Object.keys(r).length})})()}getWinnerLimit(){var t=this;return(0,Z.Z)(function*(){t.probabilitySrv.getProbabilites().subscribe(i=>{t.winner_limit=i.winners_limit,t.limit_award_condition=t.winner_limit-t.len_match_today})})()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(z),e.Y36(S),e.Y36(T.o),e.Y36(A),e.Y36(d.F0),e.Y36(g.Q),e.Y36(ie),e.Y36(de.Q),e.Y36(ue.g))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-awards-condition"]],decls:49,vars:21,consts:[[1,"example-spacer"],[3,"formGroup"],[1,"condition_container"],[1,"container"],[1,"register_container"],[1,"form_container"],["mat-select","",1,"input_form"],["type","text","matInput","","formControlName","award",3,"matAutocomplete"],["input",""],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"img_container"],["alt","Inserte una Imagen",3,"src"],[1,"container_botones"],["title","Crear",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[1,"date_container"],[1,"calendar"],[1,"input-date","green-primary"],[1,"calendar__card"],[1,"demo-inline-calendar-card","background-navy-primary","green-primary"],[1,"green-primary",3,"selected","minDate","maxDate","selectedChange"],[1,"time_container"],["formControlName","startTime",1,"time",3,"meridian"],["formControlName","endTime",3,"meridian"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"form",1)(6,"div",2)(7,"div",3)(8,"div",4)(9,"div",5)(10,"mat-form-field")(11,"label"),e._uU(12,"Premios"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"label"),e._uU(15),e.qZA(),e.TgZ(16,"div",6),e._UZ(17,"input",7,8),e.qZA(),e.TgZ(19,"mat-autocomplete",9,10),e.NdJ("optionSelected",function(r){return i.imgAward(r.value)}),e.YNc(21,Va,2,2,"mat-option",11),e.ALo(22,"async"),e.qZA(),e.TgZ(23,"mat-hint"),e._uU(24,"Seleccione una opci\xf3n"),e.qZA(),e.YNc(25,$a,2,0,"mat-error",12),e.YNc(26,Xa,2,1,"mat-error",13),e.qZA()(),e.TgZ(27,"div",14),e._UZ(28,"img",15),e.qZA()(),e.TgZ(29,"div",16)(30,"app-button-primary",17),e.NdJ("click",function(){return i.create()}),e.qZA(),e.TgZ(31,"app-button-primary",18),e.NdJ("click",function(){return i.cancel()}),e.qZA()()(),e.TgZ(32,"div",19)(33,"div",20)(34,"p",21),e._uU(35,"Fecha Inicio"),e.qZA(),e.TgZ(36,"div",22)(37,"mat-card",23)(38,"mat-calendar",24),e.NdJ("selectedChange",function(r){return i.beginDate=r}),e.qZA()()(),e.TgZ(39,"div",25),e._UZ(40,"ngb-timepicker",26),e.qZA()(),e.TgZ(41,"div",20)(42,"p",21),e._uU(43,"Fecha Fin"),e.qZA(),e.TgZ(44,"div",22)(45,"mat-card",23)(46,"mat-calendar",24),e.NdJ("selectedChange",function(r){return i.finishDate=r}),e.qZA()()(),e.TgZ(47,"div",25),e._UZ(48,"ngb-timepicker",27),e.qZA()()()()()()),2&t){const o=e.MAs(20);e.xp6(3),e.AsE("Nueva Condici\xf3n, puede crear un m\xe1ximo de ",i.limit_award_condition," condiciones, te quedan ",i.limit_award_condition-i.len_award_cond_today,""),e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(10),e.AsE("Hay ",i.stock_actual," del premio: ",i.award_name,""),e.xp6(2),e.Q6J("matAutocomplete",o),e.xp6(2),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",e.lcZ(22,19,i.filteredOptions)),e.xp6(4),e.Q6J("ngIf",i.form.controls.award.hasError("required")),e.xp6(1),e.Q6J("ngForOf",i.validation_msgs.contactAutocompleteControl),e.xp6(2),e.Q6J("src",i.previsulizacion,e.LSH),e.xp6(10),e.Q6J("selected",i.beginDate)("minDate",i.beginDate)("maxDate",i.beginDate),e.xp6(2),e.Q6J("meridian",!0),e.xp6(6),e.Q6J("selected",i.finishDate)("minDate",i.finishDate)("maxDate",i.finishDate),e.xp6(2),e.Q6J("meridian",!0)}},dependencies:[u.sg,u.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,w.Nt,b.Ye,O.ey,Y.a8,me._H,pe.Pm,B.XC,B.ZL,x,C,u.Ov],styles:[".mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.condition_container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row}.date_container[_ngcontent-%COMP%]{width:40%;display:flex;flex-direction:row;justify-content:space-around}.container[_ngcontent-%COMP%]{margin-top:20px;width:60%;display:flex;flex-direction:column}.register_container[_ngcontent-%COMP%]{margin-top:20px;width:100%;display:flex;flex-direction:row}.calendar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;width:45%}.input-date[_ngcontent-%COMP%]{margin-top:20px;padding:.5rem 1.5rem;border:1px solid var(--color-principal);border-radius:15px;text-align:center}.calendar__card[_ngcontent-%COMP%]{padding:0 1rem}.time_container[_ngcontent-%COMP%]{display:flex;justify-content:center}.time[_ngcontent-%COMP%]{color:var(--color-principal)}.mat-form-field[_ngcontent-%COMP%]{width:95%;margin:0 20px;background:var(--color-fondo-principal);color:#000}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.mat-select[_ngcontent-%COMP%]{background:#ffffff;border-radius:10px;height:40px;padding-left:15px;align-items:center;display:flex;justify-content:center}.form_container[_ngcontent-%COMP%]{width:40%}.img_container[_ngcontent-%COMP%]{display:flex;width:60%;height:250px}.img_container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:10% auto auto;width:85%;height:100%;border-radius:10px;object-fit:fill}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:10% 15px 15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}"]}),n})();function tr(n,a){1&n&&(e.TgZ(0,"div")(1,"mat-list-item",6),e._uU(2,"Procesado"),e.qZA()())}function ir(n,a){1&n&&(e.TgZ(0,"mat-list-item",6),e._uU(1,"Sin Procesar"),e.qZA())}let nr=(()=>{class n{constructor(t,i,o,r,c,l,p,h){this.fb=t,this.awardConditionSrv=i,this.awardSrv=o,this.snackbar=r,this.dialogService=c,this.router=l,this.activerouter=p,this.staticData=h,this.award_name="",this.award_condition_id=Number(this.activerouter.snapshot.paramMap.get("id")),this.award_image=""}ngOnInit(){var t=this;return(0,Z.Z)(function*(){t.staticData.setMenuTragamonedas(),yield t.getAwardConditionId(t.award_condition_id)})()}getAwardConditionId(t){var i=this;return(0,Z.Z)(function*(){i.awardConditionSrv.getAwardConditionbyId(t).subscribe(o=>{i.getAward(o.award),i.award_condition=o},o=>{i.dialogService.error(o.error)})})()}getAward(t){this.awardSrv.getAwardbyId(t).subscribe(i=>{this.award_image=i.imagen,this.award_name=i.name})}backAwardCondition(){this.router.navigate(["/dashboard/premios/condicion"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(z),e.Y36(S),e.Y36(T.o),e.Y36(A),e.Y36(d.F0),e.Y36(d.gz),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-view-awards-condition"]],decls:79,vars:12,consts:[[1,"example-spacer"],[1,"container_card"],[1,"card"],[1,"container_flex"],[1,"container"],[1,"datos"],["role","listitem"],[4,"ngIf","ngIfElse"],["sinmodificar",""],[1,"container_img"],["alt","",3,"src"],[1,"container_botones"],["title","Salir",3,"click"]],template:function(t,i){if(1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Visualizar Premio Condicionado"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"mat-card",2)(7,"div",3)(8,"div")(9,"div",4)(10,"div",5)(11,"mat-label"),e._uU(12,"Nombre"),e.qZA(),e._UZ(13,"br"),e.TgZ(14,"mat-list-item",6),e._uU(15),e.qZA()(),e.TgZ(16,"div",5)(17,"mat-label"),e._uU(18,"Juego"),e.qZA(),e._UZ(19,"br"),e.TgZ(20,"mat-list-item",6),e._uU(21),e.qZA()()(),e.TgZ(22,"div",4)(23,"div",5)(24,"mat-label"),e._uU(25,"Fecha de Inicio"),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"mat-list-item",6),e._uU(28),e.qZA()(),e.TgZ(29,"div",5)(30,"mat-label"),e._uU(31,"Fecha de Fin"),e.qZA(),e._UZ(32,"br"),e.TgZ(33,"mat-list-item",6),e._uU(34),e.qZA()()(),e.TgZ(35,"div",4)(36,"div",5)(37,"mat-label"),e._uU(38,"Usuario que registr\xf3 la condici\xf3n"),e.qZA(),e._UZ(39,"br"),e.TgZ(40,"mat-list-item",6),e._uU(41),e.qZA()(),e.TgZ(42,"div",5)(43,"mat-label"),e._uU(44,"\xdaltimo usuario que modific\xf3 la condici\xf3n"),e.qZA(),e._UZ(45,"br"),e.TgZ(46,"mat-list-item",6),e._uU(47),e.qZA()()(),e.TgZ(48,"div",4)(49,"div",5)(50,"mat-label"),e._uU(51,"Fecha de Creaci\xf3n"),e.qZA(),e._UZ(52,"br"),e.TgZ(53,"mat-list-item",6),e._uU(54),e.qZA()(),e.TgZ(55,"div",5)(56,"mat-label"),e._uU(57,"\xdaltima Modificaci\xf3n"),e.qZA(),e._UZ(58,"br"),e.TgZ(59,"mat-list-item",6),e._uU(60),e.qZA()()(),e.TgZ(61,"div",4)(62,"div",5)(63,"mat-label"),e._uU(64,"Duraci\xf3n"),e.qZA(),e._UZ(65,"br"),e.TgZ(66,"mat-list-item",6),e._uU(67),e.qZA()(),e.TgZ(68,"div",5)(69,"mat-label"),e._uU(70,"Estado"),e.qZA(),e._UZ(71,"br"),e.YNc(72,tr,3,0,"div",7),e.YNc(73,ir,2,0,"ng-template",null,8,e.W1O),e.qZA()()(),e.TgZ(75,"div",9),e._UZ(76,"img",10),e.qZA()(),e.TgZ(77,"div",11)(78,"app-button-primary",12),e.NdJ("click",function(){return i.backAwardCondition()}),e.qZA()()()()()),2&t){const o=e.MAs(74);e.xp6(15),e.Oqu(i.award_name),e.xp6(6),e.Oqu(i.award_condition.game),e.xp6(7),e.Oqu(i.award_condition.start_date),e.xp6(6),e.Oqu(i.award_condition.end_date),e.xp6(7),e.Oqu(i.award_condition.user_register),e.xp6(6),e.Oqu(i.award_condition.user_modify),e.xp6(7),e.Oqu(i.award_condition.created),e.xp6(6),e.Oqu(i.award_condition.modified),e.xp6(7),e.Oqu(i.award_condition.duration),e.xp6(5),e.Q6J("ngIf",i.award_condition.is_approved)("ngIfElse",o),e.xp6(4),e.Q6J("src",i.award_image,e.LSH)}},dependencies:[u.O5,f.hX,b.Ye,j.Tg,Y.a8,x,C],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;margin:20px}mat-label[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-principal)}.card[_ngcontent-%COMP%]{width:100%;border-radius:10px;background-color:var(--color-fondo-principal)}.datos[_ngcontent-%COMP%]{width:50%;margin:0 20px}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:25px}.container_card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.container_flex[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;align-items:center;flex-direction:row;margin:20px}.container_img[_ngcontent-%COMP%]{width:500px;height:350px}.container_img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10px;object-fit:fill}.mat-list-item[_ngcontent-%COMP%]{color:#fff;font-size:1.25rem}.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}"]}),n})();const or=["takeInput"];function ar(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"input",22,23),e.NdJ("change",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.capturarFile(o))}),e.qZA()()}}function rr(n,a){1&n&&(e.TgZ(0,"div",24)(1,"label",25),e._uU(2," Url del video: "),e.qZA(),e._UZ(3,"input",26),e.qZA())}const sr=function(){return{"video-option-active":!1}};let cr=(()=>{class n{constructor(t,i,o,r,c,l,p,h){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=o,this.dialogService=r,this.theme=c,this.dashStyle=l,this.imageSrv=p,this.staticData=h,this.isUpload=!0,this.buttonTitle="",this.previsulizacion=""}ngOnInit(){this.staticData.setMenuTragamonedas(),this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.buttonTitle=this.dashStyle.get_title_button_screensaver(),this.previsulizacion=this.dashStyle.get_video_screensaver()})})}updateSaveScreen(){this.dialogService.open({title:"ACTUALIZAR SALVAPANTALLAS",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL SALVAPANTALLAS?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i&&this.fileToUpload){let o=new FormData;o.append("id","1"),o.append("video_screensaver",this.dashStyle.getVideoScreensaverFile(),this.dashStyle.getVideoScreensaverFile().name),o.append("title_button_screensaver",this.buttonTitle),o.append("color_background_game",this.dashStyle.get_color_background_game()),o.append("color_text",this.dashStyle.get_color_text()),o.append("title_winner",this.dashStyle.get_title_winner()),o.append("description_winner",this.dashStyle.get_description_winner()),o.append("date_modified",(new Date).toISOString()),o.append("is_active","true"),o.append("game_id","1"),this.theme.updateDesgin(1,o),this.snackbar.mensaje("Salvapantallas Actualizado Exitosamente")}else if(i&&!this.fileToUpload){let o=new FormData;o.append("id","1"),o.append("title_button_screensaver",this.buttonTitle),o.append("color_background_game",this.dashStyle.get_color_background_game()),o.append("color_text",this.dashStyle.get_color_text()),o.append("title_winner",this.dashStyle.get_title_winner()),o.append("description_winner",this.dashStyle.get_description_winner()),o.append("date_modified",(new Date).toISOString()),o.append("is_active","true"),o.append("game_id","1"),this.theme.updateDesgin(1,o),this.snackbar.mensaje("Salvapantallas Actualizado Exitosamente")}})}capturarFile(t){this.fileToUpload=this.imageSrv.captureVideoFile(t),this.fileToUpload?(this.imagen=this.fileToUpload,this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base,this.dashStyle.setVideoScreensaverFile(this.fileToUpload)})):(this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten videos"))}toggleUpload(){this.isUpload=!this.isUpload}onChangeNameButton(t){this.buttonTitle=t.target.value}cancel(){this.previsulizacion=this.dashStyle.get_video_screensaver(),this.buttonTitle=this.dashStyle.get_title_button_screensaver()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(L.U),e.Y36(T.o),e.Y36(A),e.Y36(K),e.Y36(ee.T),e.Y36(R),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-save-screen"]],viewQuery:function(t,i){if(1&t&&e.Gf(or,5),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first)}},decls:30,vars:12,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","white-color"],[1,"savescreen-info__container"],[1,"savescreen-info__video-option"],[1,"green-primary","video-option",3,"ngClass","click"],["class","file-select","id","src-file1",4,"ngIf"],["class","url-select",4,"ngIf"],["type","text","placeholder","Nombre del boton",1,"input-global",3,"ngModel","ngModelChange"],["buttonInput","ngModel"],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"],["autoplay","true","muted","",1,"video",3,"loop","src"],["styledPadding",".5rem .5rem","fontSize","1rem",1,"menu-btn",3,"title"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],[1,"url-select"],["for","url",1,"color-white"],["type","text","name","url","placeholder","url video",1,"input-global"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Salvapantallas"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"p",4),e._uU(8,"Video:"),e.qZA(),e.TgZ(9,"div",5)(10,"div",6)(11,"p",7),e.NdJ("click",function(){return i.toggleUpload()}),e._uU(12," Subir video "),e.qZA()(),e.YNc(13,ar,3,0,"div",8),e.YNc(14,rr,4,0,"div",9),e.qZA(),e.TgZ(15,"p",4),e._uU(16,"Nombre del Bot\xf3n:"),e.qZA(),e.TgZ(17,"div",5)(18,"input",10,11),e.NdJ("ngModelChange",function(r){return i.buttonTitle=r}),e.qZA(),e.TgZ(20,"div",12)(21,"app-button-primary",13),e.NdJ("click",function(){return i.updateSaveScreen()}),e.qZA(),e.TgZ(22,"app-button-primary",14),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(23,"div",15)(24,"div",16),e._UZ(25,"app-banner-publicity",17),e.TgZ(26,"div",18),e._UZ(27,"video",19)(28,"app-button-game",20),e.qZA(),e._UZ(29,"app-banner-publicity",17),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngClass",e.DdM(11,sr)),e.xp6(2),e.Q6J("ngIf",i.isUpload),e.xp6(1),e.Q6J("ngIf",!i.isUpload),e.xp6(4),e.Q6J("ngModel",i.buttonTitle),e.xp6(7),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("loop",!0)("src",i.previsulizacion,e.LSH),e.xp6(1),e.Q6J("title",i.buttonTitle),e.xp6(1),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[u.mk,u.O5,s.Fj,s.JJ,b.Ye,s.On,x,te,C,W],styles:['.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:1.5rem;padding-left:.5rem}.video-option[_ngcontent-%COMP%]:hover{cursor:pointer}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;background-color:gray;height:20rem}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona un Video(Mp4)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.video[_ngcontent-%COMP%]{width:100%;height:100%}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 62px);bottom:25px}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:1rem}']}),n})(),lr=(()=>{class n{constructor(t,i,o,r,c,l,p,h){this.dashboardPublicityService=t,this.publicity=i,this.snackbar=o,this.dialogService=r,this.theme=c,this.dashStyle=l,this.imageSrv=p,this.staticData=h,this.title="",this.description=""}ngOnInit(){this.staticData.setMenuTragamonedas(),this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.title=this.dashStyle.get_scan_code_title(),this.description=this.dashStyle.get_scan_code_description(),console.log(i[0])})})}updateScanScreen(){this.dialogService.open({title:"ACTUALIZAR SCANNER",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR INFORMACION DE ESCANER?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("id","1"),o.append("scan_code_title",this.title),o.append("scan_code_description",this.description),o.append("date_modified",(new Date).toISOString()),o.append("game_id","1"),this.theme.updateDesgin(1,o),this.snackbar.mensaje("Informacion Escaner Actualizada Exitosamente")}})}cancel(){this.title=this.dashStyle.get_scan_code_title(),this.description=this.dashStyle.get_scan_code_description()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(L.U),e.Y36(T.o),e.Y36(A),e.Y36(K),e.Y36(ee.T),e.Y36(R),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-scan-code"]],decls:35,vars:11,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","green-primary"],[1,"savescreen-info__container"],[1,"url-select"],["type","text","name","titulo",1,"input-global",3,"ngModel","ngModelChange"],["type","text","placeholder","Nombre del boton",1,"input-global","description-input",3,"ngModel","ngModelChange"],["buttonInput","ngModel"],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"],["height","1.5rem",1,"logo-container",3,"isHome","isBackground","urlImage"],[1,"menu-info","color-white"],[1,"scan_title"],[1,"explication-text"],[1,"menu-container_scan-img-container"],["src","../../../../assets//img//codigoQR.png","alt","scan-logo",1,"menu-container_scan-img"],["type","text","placeholder","Ingresar codigo...","disabled","",1,"btn","menu__input"],["title","continuar","fontSize","1rem","styledPadding",".5rem 1rem"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Escaneo C\xf3digo"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"p",4),e._uU(8,"T\xedtulo:"),e.qZA(),e.TgZ(9,"div",5)(10,"div",6)(11,"input",7),e.NdJ("ngModelChange",function(r){return i.title=r}),e.qZA()()(),e.TgZ(12,"p",4),e._uU(13,"Descripci\xf3n:"),e.qZA(),e.TgZ(14,"div",5)(15,"input",8,9),e.NdJ("ngModelChange",function(r){return i.description=r}),e.qZA(),e.TgZ(17,"div",10)(18,"app-button-primary",11),e.NdJ("click",function(){return i.updateScanScreen()}),e.qZA(),e.TgZ(19,"app-button-primary",12),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(20,"div",13)(21,"div",14),e._UZ(22,"app-banner-publicity",15),e.TgZ(23,"div",16),e._UZ(24,"app-logo",17),e.TgZ(25,"div",18)(26,"h2",19),e._uU(27),e.qZA(),e.TgZ(28,"p",20),e._uU(29),e.qZA()(),e.TgZ(30,"figure",21),e._UZ(31,"img",22),e.qZA(),e._UZ(32,"input",23)(33,"app-button-game",24),e.qZA(),e._UZ(34,"app-banner-publicity",15),e.qZA()()()()),2&t&&(e.xp6(11),e.Q6J("ngModel",i.title),e.xp6(4),e.Q6J("ngModel",i.description),e.xp6(7),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("isHome",!1)("isBackground",!1)("urlImage",i.dashStyle.get_image_logo_game()),e.xp6(3),e.Oqu(i.title),e.xp6(2),e.hij(" ",i.description," "),e.xp6(5),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[s.Fj,s.JJ,b.Ye,s.On,x,te,le,C,W],styles:[".publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:1.5rem;padding-left:.5rem}.video-option[_ngcontent-%COMP%]:hover{cursor:pointer}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:15px;align-items:center;height:20rem}.logo-container[_ngcontent-%COMP%]{margin-right:3rem;height:2.5rem}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:14rem}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 62px);bottom:25px}.menu-container_scan-img-container[_ngcontent-%COMP%]{height:3rem;width:3rem}.menu__input[_ngcontent-%COMP%]{border:3px solid red;outline:none;border-radius:13px;background-color:#000;color:#fff;padding:.2rem .5rem}.menu__input[_ngcontent-%COMP%]::placeholder{color:#fff}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem}img[_ngcontent-%COMP%]{width:100%;height:100%}figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}"]}),n})();const mr=["takeInput"],pr=["takeInputLogo"],ur=function(n,a){return{"font-family":n,color:a}};let dr=(()=>{class n{constructor(t,i,o,r,c,l,p,h,y,k){this.dashboardPublicityService=t,this.publicity=i,this.router=o,this.snackbar=r,this.dialogService=c,this.theme=l,this.dashStyle=p,this.imageSrv=h,this.publicityGame=y,this.staticData=k,this.availableSpin="Disponible 1 Giro m\xe1s!",this.fontFamily="",this.colorText="",this.previsulizacionMachine="",this.previsulizacionLogo="",this.urlLogo1="",this.urlLogo2="",this.urlLogo3=""}ngOnInit(){this.staticData.setMenuTragamonedas(),this.publicity.getPublicityTopList().subscribe(t=>{this.dashboardPublicityService.loadTopData(t),this.publicity.getPublicityBottomList().subscribe(i=>{this.dashboardPublicityService.loadBottomData(i)}),this.theme.getDesignInformation().subscribe(i=>{this.dashStyle.loadData(i[0]),this.previsulizacionMachine=this.dashStyle.get_image_machine_game(),this.previsulizacionLogo=this.dashStyle.get_image_logo_game(),this.fontFamily=this.dashStyle.get_font_letter(),this.colorText=this.dashStyle.get_color_text(),this.publicityGame.getPublicityGame("1").subscribe(o=>{this.urlLogo1=o.image}),this.publicityGame.getPublicityGame("2").subscribe(o=>{this.urlLogo2=o.image}),this.publicityGame.getPublicityGame("3").subscribe(o=>{this.urlLogo3=o.image})})})}goEditGamePublicity(){}capturarFile(t){this.fileToUploadMachine=this.imageSrv.captureFile(t),this.fileToUploadMachine?(this.imagenMachine=this.fileToUploadMachine,this.imageSrv.extraerBase64(this.fileToUploadMachine).then(i=>{this.previsulizacionMachine=i.base,this.dashStyle.setImageMchineGameFile(this.fileToUploadMachine)})):(this.InputVar.nativeElement.value="",this.InputVarLogo.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}capturarFileLogo(t){this.fileToUploadLogo=this.imageSrv.captureFile(t),this.fileToUploadLogo?(this.imagenLogo=this.fileToUploadLogo,this.imageSrv.extraerBase64(this.fileToUploadLogo).then(i=>{this.previsulizacionLogo=i.base,this.dashStyle.setImageLogoFile(this.fileToUploadLogo)})):(this.InputVarLogo.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}updateDesign(){this.dialogService.open({title:"ACTUALIZAR DISE\xd1O DEL JUEGO",message:"\xbfEST\xc1 SEGURO QUE DESEA ACTUALIZAR EL DISE\xd1O DEL JUEGO?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i)if(this.fileToUploadMachine&&this.fileToUploadLogo){console.log("entra a la doble condicion");let o=this.updateMachineImage();o.append("image_logo_game",this.dashStyle.getImageLogoFile(),this.dashStyle.getImageLogoFile().name),this.theme.updateDesgin(1,o),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}else if(this.fileToUploadMachine){console.log("ACTUALIZACION SOLO CON LA IMAGEN MACHINE");let o=this.updateMachineImage();this.theme.updateDesgin(1,o),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}else if(this.fileToUploadLogo)console.log("ACTUALIZACION SOLO CON LA IMAGEN LOGO"),this.updateLogoImage(),console.log("SE EJECUTO LA ACTUALIZACION SOLO CON LA IMAGEN LOGO");else if(!this.fileToUploadMachine&&!this.fileToUploadLogo){let o=new FormData;o.append("id","1"),o.append("color_text",this.colorText),o.append("font_letter",this.fontFamily),o.append("date_modified",(new Date).toISOString()),o.append("is_active","true"),o.append("game_id","1"),this.theme.updateDesgin(1,o),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}})}updateMachineImage(){let t=new FormData;return t.append("id","1"),t.append("image_machine_game",this.dashStyle.getImageMachineGameFile(),this.dashStyle.getImageMachineGameFile().name),t.append("color_text",this.colorText),t.append("font_letter",this.fontFamily),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),t}updateLogoImage(){console.log("updateLogoImage");let t=new FormData;t.append("id","1"),t.append("image_logo_game",this.dashStyle.getImageLogoFile(),this.dashStyle.getImageLogoFile().name),t.append("color_text",this.colorText),t.append("font_letter",this.fontFamily),t.append("date_modified",(new Date).toISOString()),t.append("is_active","true"),t.append("game_id","1"),console.log(` en LOGO ${t}`),this.theme.updateDesgin(1,t),this.snackbar.mensaje("Salvapantallas Actualizado exitosamente")}previewChangeFontLetter(t){this.fontFamily=t.target.value}previewChangeColorLetter(t){this.colorText=t.target.value,console.log(this.colorText)}cancel(){this.fontFamily=this.dashStyle.get_font_letter(),this.colorText=this.dashStyle.get_color_text()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(J.E),e.Y36(L.U),e.Y36(d.F0),e.Y36(T.o),e.Y36(A),e.Y36(K),e.Y36(ee.T),e.Y36(R),e.Y36(_e.D),e.Y36(g.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-design"]],viewQuery:function(t,i){if(1&t&&(e.Gf(mr,5),e.Gf(pr,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.InputVar=o.first),e.iGM(o=e.CRH())&&(i.InputVarLogo=o.first)}},decls:104,vars:16,consts:[[1,"background-navy-primary","green-primary"],[1,"example-spacer"],[1,"publicity-container"],[1,"publicity__changes"],[1,"publicity__title","white-color"],[1,"savescreen-info__container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",1,"file-input",3,"change"],["takeInput",""],["id","src-file2",1,"file-select"],["type","file","name","src-file2","aria-label","Archivo",1,"file-input",3,"change"],["takeInputLogo",""],["title","Editar logos casillas","styledPadding",".5rem .5rem","routerLink","/dashboard/juego/diseno/publicity"],["name","fuentes","placeholder","seleccione fuente de letra",1,"input-global",3,"change"],["default","","value","---"],["value","Arial"],["value","Times New Roman"],["value","Helvetica"],["value","Cambria"],["value","Century Gothic"],["value","Didot"],["value","Bodoni"],["value","Candara"],["value","Optima"],["value","Quicksand"],["value","Courier New"],["value","Rockwel"],["value","Copperplate"],["name","colores","placeholder","seleccione color letras",1,"input-global",3,"change"],["value","Black"],["value","White"],["value","Blue"],["value","Brown"],["value","Grey"],["value","Green"],["value","Purple"],["value","Red"],["value","Yellow"],[1,"buttons-container"],["title","Guardar",3,"click"],["title","Cancelar","backgroundColor","#fff",3,"click"],[1,"publicity__view"],[1,"view-container"],[3,"isTop","publicityList"],[1,"view-menu"],["height","1.5rem",1,"logo-container",3,"isHome","isBackground","urlImage"],[1,"information-game-container"],[1,"info-game__text"],[1,"info-game__text",3,"ngStyle"],[1,"spinner__container"],[1,"award-box-container"],["alt","cajon-premios",1,"awards-box",3,"src"],[1,"awards-container"],[1,"awards-column"],[1,"award-image-container"],["alt","",3,"src"],["title","Girar","styledPadding",".5rem 1rem","fontSize","1rem",1,"menu-btn"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Dise\xf1o Juego"),e.qZA(),e._UZ(4,"span",1),e.qZA(),e.TgZ(5,"div",2)(6,"div",3)(7,"p",4),e._uU(8,"Dise\xf1o:"),e.qZA(),e.TgZ(9,"div",5)(10,"p",4),e._uU(11,"Imagen M\xe1quina:"),e.qZA(),e.TgZ(12,"div",6)(13,"input",7,8),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()(),e.TgZ(15,"p",4),e._uU(16,"Imagen Logo:"),e.qZA(),e.TgZ(17,"div",9)(18,"input",10,11),e.NdJ("change",function(r){return i.capturarFileLogo(r)}),e.qZA()(),e.TgZ(20,"p",4),e._uU(21,"Logos casillas:"),e.qZA(),e._UZ(22,"app-button-primary",12),e.TgZ(23,"p",4),e._uU(24,"Fuente Letra:"),e.qZA(),e.TgZ(25,"select",13),e.NdJ("change",function(r){return i.previewChangeFontLetter(r)}),e.TgZ(26,"option",14),e._uU(27,"Seleccione fuente de letra"),e.qZA(),e.TgZ(28,"option",15),e._uU(29,"Arial"),e.qZA(),e.TgZ(30,"option",16),e._uU(31,"Times New Roman"),e.qZA(),e.TgZ(32,"option",17),e._uU(33,"Helvetica"),e.qZA(),e.TgZ(34,"option",18),e._uU(35,"Cambria"),e.qZA(),e.TgZ(36,"option",19),e._uU(37,"Century Gothic"),e.qZA(),e.TgZ(38,"option",20),e._uU(39,"Didot"),e.qZA(),e.TgZ(40,"option",21),e._uU(41,"Bodoni"),e.qZA(),e.TgZ(42,"option",22),e._uU(43,"Candara"),e.qZA(),e.TgZ(44,"option",23),e._uU(45,"Optima"),e.qZA(),e.TgZ(46,"option",24),e._uU(47,"Quicksand"),e.qZA(),e.TgZ(48,"option",25),e._uU(49,"Courier New"),e.qZA(),e.TgZ(50,"option",26),e._uU(51,"Rockwel"),e.qZA(),e.TgZ(52,"option",27),e._uU(53,"Copperplate"),e.qZA()(),e.TgZ(54,"p",4),e._uU(55,"Color Texto:"),e.qZA(),e.TgZ(56,"select",28),e.NdJ("change",function(r){return i.previewChangeColorLetter(r)}),e.TgZ(57,"option",14),e._uU(58,"Seleccione color de letra"),e.qZA(),e.TgZ(59,"option",29),e._uU(60,"Black"),e.qZA(),e.TgZ(61,"option",30),e._uU(62,"White"),e.qZA(),e.TgZ(63,"option",31),e._uU(64,"Blue"),e.qZA(),e.TgZ(65,"option",32),e._uU(66,"Brown"),e.qZA(),e.TgZ(67,"option",33),e._uU(68,"Grey"),e.qZA(),e.TgZ(69,"option",34),e._uU(70,"Green"),e.qZA(),e.TgZ(71,"option",35),e._uU(72,"Purple"),e.qZA(),e.TgZ(73,"option",36),e._uU(74,"Red"),e.qZA(),e.TgZ(75,"option",37),e._uU(76,"Yellow"),e.qZA()(),e.TgZ(77,"div",38)(78,"app-button-primary",39),e.NdJ("click",function(){return i.updateDesign()}),e.qZA(),e.TgZ(79,"app-button-primary",40),e.NdJ("click",function(){return i.cancel()}),e.qZA()()()(),e.TgZ(80,"div",41)(81,"div",42),e._UZ(82,"app-banner-publicity",43),e.TgZ(83,"div",44),e._UZ(84,"app-logo",45),e.TgZ(85,"div",46)(86,"div",47)(87,"p",48),e._uU(88),e.qZA()()(),e.TgZ(89,"div",49)(90,"figure",50),e._UZ(91,"img",51),e.qZA(),e.TgZ(92,"div",52)(93,"div",53)(94,"figure",54),e._UZ(95,"img",55),e.qZA()(),e.TgZ(96,"div",53)(97,"figure",54),e._UZ(98,"img",55),e.qZA()(),e.TgZ(99,"div",53)(100,"figure",54),e._UZ(101,"img",55),e.qZA()()()(),e._UZ(102,"app-button-game",56),e.qZA(),e._UZ(103,"app-banner-publicity",43),e.qZA()()()()),2&t&&(e.xp6(82),e.Q6J("isTop",!0)("publicityList",i.dashboardPublicityService.getTopPublicityList()),e.xp6(2),e.Q6J("isHome",!1)("isBackground",!1)("urlImage",i.previsulizacionLogo),e.xp6(3),e.Q6J("ngStyle",e.WLB(13,ur,i.fontFamily,i.colorText)),e.xp6(1),e.hij(" ",i.availableSpin," "),e.xp6(3),e.Q6J("src",i.previsulizacionMachine,e.LSH),e.xp6(4),e.Q6J("src",i.urlLogo1,e.LSH),e.xp6(3),e.Q6J("src",i.urlLogo2,e.LSH),e.xp6(3),e.Q6J("src",i.urlLogo3,e.LSH),e.xp6(2),e.Q6J("isTop",!1)("publicityList",i.dashboardPublicityService.getBottomPublicityList()))},dependencies:[u.PC,s.YN,s.Kr,b.Ye,d.rH,x,te,le,C,W],styles:['.publicity-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:3rem 4rem}.publicity__changes[_ngcontent-%COMP%]{width:50%;display:flex;gap:1rem;flex-direction:column}.publicity__view[_ngcontent-%COMP%]{width:50%}.savescreen-info__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:.5rem;padding-left:.5rem}.savescreen-info__video-option[_ngcontent-%COMP%]{display:flex;gap:1rem}.video-option-active[_ngcontent-%COMP%]{text-decoration:underline}.url-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.view-container[_ngcontent-%COMP%]{border:1rem solid white;width:100%;height:30rem;max-width:22rem;max-height:30rem;border-radius:45px}.view-menu[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:15px;align-items:center;height:20rem}.logo-container[_ngcontent-%COMP%]{margin-right:3rem;height:2.5rem}.menu-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;max-width:14rem}.menu-btn[_ngcontent-%COMP%]{position:absolute;left:calc(50% - 23px);bottom:25px}.menu-container_scan-img-container[_ngcontent-%COMP%]{height:3rem;width:3rem}.menu__input[_ngcontent-%COMP%]{border:3px solid red;outline:none;border-radius:13px;background-color:#000;color:#fff;padding:.2rem .5rem}.menu__input[_ngcontent-%COMP%]::placeholder{color:#fff}.buttons-container[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:1rem}img[_ngcontent-%COMP%]{width:100%;height:100%}figure[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:17rem;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Selecciona una imagen (png, jpg, jpeg)";position:absolute;inset:0}.file-input[type=file][_ngcontent-%COMP%]{opacity:0}.information-game-container[_ngcontent-%COMP%]{background-color:#ffaf00;width:100%;display:flex;justify-content:center;height:2rem;align-items:center}.spinner__container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;height:47%;width:100%;max-height:202px}.awards-container[_ngcontent-%COMP%]{position:absolute;top:46px;left:calc(50% - 118px);display:flex;justify-content:center;gap:1.5rem;z-index:4;overflow:hidden}.awards-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;height:6rem;animation-duration:4s;animation-name:slidevertical;animation-iteration-count:infinite}.award-image-container[_ngcontent-%COMP%]{height:3rem;width:4rem}.award-box-container[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;max-width:766px}']}),n})();const gr=["takeInput"];function _r(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}function fr(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Campo requerido "),e.qZA())}const Cr=[{path:"",component:Ct,children:[{path:"",component:bt},{path:"cambiar-contrase\xf1a",component:Mn},{path:"usuarios",component:Lt,canActivate:[v.c,G]},{path:"usuarios/crear",component:li,canActivate:[v.c,G]},{path:"usuarios/visualizar/:id",component:ui,canActivate:[v.c,G]},{path:"usuarios/editar/:id",component:ht,canActivate:[v.c,G]},{path:"roles",component:Ii,canActivate:[v.c,G]},{path:"roles/crear",component:Ei,canActivate:[v.c,G]},{path:"roles/permisos/:id",component:Ve,canActivate:[v.c,G]},{path:"roles/editar/:id",component:Ke,canActivate:[v.c,G]},{path:"clientes",component:Xn,canActivate:[v.c]},{path:"clientes/crear",component:So,canActivate:[q,v.c],data:{Permiso_nombre:"Crear Cliente"}},{path:"clientes/vizualizar/:id",component:xa,canActivate:[q,v.c],data:{Permiso_nombre:"Ver Cliente"}},{path:"clientes/editar/:id",component:Aa,canActivate:[q,v.c],data:{Permiso_nombre:"Editar Cliente"}},{path:"tickets/configuracion",component:(()=>{class n{constructor(t,i,o,r,c,l,p,h){this.router=t,this.fb=i,this.awardSrv=o,this.snackbar=r,this.dialogService=c,this.imageSrv=l,this.staticData=p,this.TicketConfigurationSrv=h,this.codigoQR="123456",this.img_upload="",this.previsulizacion=this.img_upload,this.form=this.fb.group({title:["",s.kI.required],description:["",s.kI.required]})}ngOnInit(){this.staticData.setMenuGeneral(),this.getTicketConfiguration()}capturarFile(t){this.fileToUpload=this.imageSrv.captureFile(t),this.fileToUpload?this.imageSrv.extraerBase64(this.fileToUpload).then(i=>{this.previsulizacion=i.base}):(this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.snackbar.mensaje("Solo se permiten imagenes"))}deleteImage(){this.previsulizacion=this.img_upload,this.InputVar.nativeElement.value="",this.fileToUpload=null}cancel(){this.router.navigate(["/dashboard/tickets"])}getTicketConfiguration(){this.TicketConfigurationSrv.getTicketConfiguration().subscribe(t=>{this.form.patchValue({title:t.title,description:t.description}),this.previsulizacion=t.logo})}updateTicketConfiguration(){this.form.valid&&(this.dialogService.open({title:"ACTUALIZAR CONFIGURACI\xd3N DEL TICKET",message:"\xbfEST\xc1 SEGURO QUE QUIERE ACTUALIZAR CONFIGURACI\xd3N DEL TICKET ?",cancelText:"CANCELAR",confirmText:"ACTUALIZAR"}),this.dialogService.confirmed().subscribe(i=>{if(i){let o=new FormData;o.append("title",this.form.get("title")?.value),o.append("description",this.form.get("description")?.value),this.fileToUpload?.name&&(this.imagen=this.fileToUpload,o.append("logo",this.imagen,this.imagen.name)),this.TicketConfigurationSrv.updateTicketConfiguration(o).subscribe(r=>{this.snackbar.mensaje("Configuraci\xf3n Del Ticket Actualizado Exitosamente"),this.router.navigate(["/dashboard/tickets"])},r=>{this.dialogService.error(r.error)})}}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.F0),e.Y36(s.qu),e.Y36(S),e.Y36(T.o),e.Y36(A),e.Y36(R),e.Y36(g.Q),e.Y36(he))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ticket-configuration"]],viewQuery:function(t,i){if(1&t&&e.Gf(gr,5),2&t){let o;e.iGM(o=e.CRH())&&(i.fileToUpload=o.first)}},decls:40,vars:7,consts:[[1,"example-spacer"],[1,"container_general"],[1,"container_configuration"],[1,"file_container"],["id","src-file1",1,"file-select"],["type","file","name","src-file1","aria-label","Archivo",3,"change"],["takeInput",""],["mat-icon-button","",1,"green-primary",3,"click"],[1,"container_form"],[3,"formGroup"],[1,"input_form"],["autocomplete","off","formControlName","title","type","text","matInput",""],[4,"ngIf"],["autocomplete","off","formControlName","description","type","text","matInput",""],[1,"container_botones"],["title","Actualizar",3,"click"],["backgroundColor","#fff","title","Cancelar",3,"click"],[1,"ticket_container"],["QRdata","Ticket De Prueba",3,"title","description","logo","codigoQR"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar")(2,"span"),e._uU(3,"Configurac\xf3n del Ticket"),e.qZA(),e._UZ(4,"span",0),e.qZA(),e.TgZ(5,"div",1)(6,"div",2)(7,"div")(8,"div",3)(9,"label"),e._uU(10,"\xa0\xa0\xa0Logo: \xa0 \xa0 \xa0 \xa0 \xa0"),e.qZA(),e.TgZ(11,"div",4)(12,"input",5,6),e.NdJ("change",function(r){return i.capturarFile(r)}),e.qZA()(),e.TgZ(14,"button",7),e.NdJ("click",function(){return i.deleteImage()}),e.TgZ(15,"mat-icon"),e._uU(16,"close"),e.qZA()()()(),e.TgZ(17,"div",8)(18,"form",9)(19,"mat-form-field")(20,"label"),e._uU(21,"Titulo"),e.qZA(),e.TgZ(22,"div",10),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"mat-hint"),e._uU(25,"Titulo del Ticket"),e.qZA(),e.YNc(26,_r,2,0,"mat-error",12),e.qZA(),e.TgZ(27,"mat-form-field")(28,"label"),e._uU(29,"Descripci\xf3n"),e.qZA(),e.TgZ(30,"div",10),e._UZ(31,"input",13),e.qZA(),e.TgZ(32,"mat-hint"),e._uU(33,"Descripci\xf3n del Ticket"),e.qZA(),e.YNc(34,fr,2,0,"mat-error",12),e.qZA()()(),e.TgZ(35,"div",14)(36,"app-button-primary",15),e.NdJ("click",function(){return i.updateTicketConfiguration()}),e.qZA(),e.TgZ(37,"app-button-primary",16),e.NdJ("click",function(){return i.cancel()}),e.qZA()()(),e.TgZ(38,"div",17),e._UZ(39,"app-tickect-qr",18),e.qZA()()()),2&t&&(e.xp6(18),e.Q6J("formGroup",i.form),e.xp6(8),e.Q6J("ngIf",i.form.controls.title.hasError("required")),e.xp6(8),e.Q6J("ngIf",i.form.controls.description.hasError("required")),e.xp6(5),e.Q6J("title",i.form.controls.title.value)("description",i.form.controls.description.value)("logo",i.previsulizacion)("codigoQR",i.codigoQR))},dependencies:[u.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,f.TO,f.KE,f.bx,w.Nt,M.Hw,I.lW,b.Ye,x,Ce,C],styles:['.mat-toolbar[_ngcontent-%COMP%]{background-color:var(--color-fondo-secundario);color:var(--color-principal)}.container_general[_ngcontent-%COMP%]{display:flex;width:100%;height:100%}.container_configuration[_ngcontent-%COMP%]{margin-top:10%;display:flex;width:55%;flex-direction:column}.container_botones[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:15px}.container_botones[_ngcontent-%COMP%]   app-button-primary[_ngcontent-%COMP%]{margin:0 10px;background-color:var(--color-cafe)}.container_form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:row;width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%;margin:0 20px 15px}.input_form[_ngcontent-%COMP%]{background:#ffffff;display:flex;justify-content:center;align-items:center;border-radius:10px;padding:0 10px;height:40px}.mat-hint[_ngcontent-%COMP%]{color:var(--color-letras)}.mat-error[_ngcontent-%COMP%]{color:var(--color-principal)}label[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.file-select[_ngcontent-%COMP%]{position:relative;display:inline-block;width:300px;height:40px}.file-select[_ngcontent-%COMP%]:before{background-color:var(--color-principal);color:var(--color-fondo-secundario);font-weight:700;display:flex;justify-content:center;align-items:center;border-radius:3px;content:"Seleccionar";position:absolute;inset:0}.file-select[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{opacity:0;width:200px;height:32px;display:inline-block}#src-file1[_ngcontent-%COMP%]:before{content:"Selecciona una imagen (png, jpg, jpeg)"}.file_container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:20px}.ticket_container[_ngcontent-%COMP%]{width:45%;padding:25px}']}),n})(),canActivate:[q,v.c],data:{Permiso_nombre:"Editar Dise\xf1o del Ticket"}},{path:"tickets",component:tn,canActivate:[v.c]},{path:"tickets/crear",component:dn,canActivate:[q,v.c],data:{Permiso_nombre:"Crear Ticket"}},{path:"tickets/vizualizar/:id",component:fn,canActivate:[q,v.c],data:{Permiso_nombre:"Ver Ticket"}},{path:"premios",component:xo,canActivate:[v.c]},{path:"premios/crear",component:Bo,canActivate:[q,v.c],data:{Permiso_nombre:"Crear Premio"}},{path:"premios/visualizar/:id",component:sa,canActivate:[q,v.c],data:{Permiso_nombre:"Ver Premio"}},{path:"premios/editar/:id",component:ia,canActivate:[q,v.c],data:{Permiso_nombre:"Editar Premio"}},{path:"probabilidades",component:da,canActivate:[q,v.c],data:{Permiso_nombre:"Modificar Probabilidades del juego"}},{path:"premios/condicion",component:Ha,canActivate:[v.c]},{path:"premios/condicion/crear",component:er,canActivate:[q,v.c],data:{Permiso_nombre:"Crear Condici\xf3n de Premio"}},{path:"premios/condicion/visualizar/:id",component:nr,canActivate:[q,v.c],data:{Permiso_nombre:"Ver Condici\xf3n de Premio"}},{path:"premios/condicion/editar/:id",component:ze,canActivate:[q,v.c],data:{Permiso_nombre:"Editar Condici\xf3n de Premio"}},{path:"juego/resumen",component:(()=>{class n{constructor(t,i,o){this.staticData=t,this.ticketSrv=i,this.matchSrv=o,this.total_tickets=0,this.total_winners=0,this.total_losers=0}ngOnInit(){this.staticData.setMenuTragamonedas(),this.ticketSrv.getAll().subscribe(t=>{this.total_tickets=t.length}),this.matchSrv.getMatchFilter("?win_match=true").subscribe(t=>{this.total_winners=Object.keys(t).length}),this.matchSrv.getMatchFilter("?win_match=false").subscribe(t=>{this.total_losers=Object.keys(t).length})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.Q),e.Y36(ae.w),e.Y36(de.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-summary"]],decls:32,vars:3,consts:[[1,"background-navy-primary","green-primary"],[1,"container","container_juego"],[1,"container","container-juego","background-navy-primary","green-primary","text-center","pt-4","pb-1"],[1,"logo-game-container","background-green-primary"],["src","../../../../assets/img/pulgar-hacia-abajo.png","alt","no image"],[1,"row","mt-5"],[1,"col"],[1,"row"],[1,"color-white","jugadores-text"],["src","../../../../assets/img/ganadores.png","alt","no image"],["src","../../../../assets/img/ticket.png","alt","no image"]],template:function(t,i){1&t&&(e.TgZ(0,"app-menu")(1,"mat-toolbar",0)(2,"span"),e._uU(3,"Resumen del Juego"),e.qZA()(),e.TgZ(4,"div",1)(5,"div",2)(6,"figure",3),e._UZ(7,"img",4),e.qZA(),e.TgZ(8,"div",5)(9,"h3",6),e._uU(10,"Perdedores"),e.qZA()(),e.TgZ(11,"div",7)(12,"h3",8),e._uU(13),e.qZA()()(),e.TgZ(14,"div",2)(15,"figure",3),e._UZ(16,"img",9),e.qZA(),e.TgZ(17,"div",5)(18,"h3",6),e._uU(19,"Ganadores"),e.qZA()(),e.TgZ(20,"div",7)(21,"h3",8),e._uU(22),e.qZA()()(),e.TgZ(23,"div",2)(24,"figure",3),e._UZ(25,"img",10),e.qZA(),e.TgZ(26,"div",5)(27,"h3",6),e._uU(28,"Tickets Generados"),e.qZA()(),e.TgZ(29,"div",7)(30,"h3",8),e._uU(31),e.qZA()()()()()),2&t&&(e.xp6(13),e.Oqu(i.total_losers),e.xp6(9),e.Oqu(i.total_winners),e.xp6(9),e.Oqu(i.total_tickets))},dependencies:[b.Ye,C],styles:["img[_ngcontent-%COMP%]{width:100%;height:100%}.container_juego[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-top:10%}.container-juego[_ngcontent-%COMP%]{position:relative;max-width:26rem;border-radius:15px}.jugadores-text[_ngcontent-%COMP%]{margin:50px 0;font-size:5rem}.logo-game-container[_ngcontent-%COMP%]{position:absolute;top:-53px;border-radius:50%;width:7rem;height:7rem;left:calc(50% - 56px);display:flex;justify-content:center;align-items:center}.logo-game-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:66px;height:60px;margin-left:7px}"]}),n})(),canActivate:[v.c]},{path:"juego/fecha",component:qa,canActivate:[q,v.c],data:{Permiso_nombre:"Modificar Fecha del Juego"}},{path:"juego/seleccion",component:bn,canActivate:[v.c]},{path:"juego/publicidad",component:Cn,canActivate:[q,v.c],data:{Permiso_nombre:"Modificar Publicidad del Juego"}},{path:"juego/publicidad/top",component:yn,canActivate:[q,v.c],data:{Permiso_nombre:"Modificar Publicidad del Juego"}},{path:"juego/publicidad/bottom",component:qn,canActivate:[q,v.c],data:{Permiso_nombre:"Modificar Publicidad del Juego"}},{path:"juego/salvapantallas",component:cr,canActivate:[q,v.c],data:{Permiso_nombre:"Modificar Salvapantallas del Juego"}},{path:"juego/scan",component:lr,canActivate:[q,v.c],data:{Permiso_nombre:"Modificar Presentaci\xf3n de Escaneo del Juego"}},{path:"juego/diseno",component:dr,canActivate:[q,v.c],data:{Permiso_nombre:"Modificar Dise\xf1o del Juego"}},{path:"juego/diseno/ganador",component:Le,canActivate:[q,v.c],data:{Permiso_nombre:"Modificar Presentaci\xf3n de Ganadores del Juego"}},{path:"juego/diseno/publicity",component:Ye,canActivate:[q,v.c],data:{Permiso_nombre:"Modificar Dise\xf1o del Juego"}}]}];let Zr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(Cr),d.Bz]}),n})(),vr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Ae.m,u.ez,Zr,xe.B]}),n})()}}]);